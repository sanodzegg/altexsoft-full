2022-08-02 00:07:26.935 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 00:07:27.043 +04:00 [DBG] Hosting starting
2022-08-02 00:07:27.064 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 00:07:27.068 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 00:07:27.073 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 00:07:27.080 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 00:07:27.084 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 00:07:27.092 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 00:07:27.096 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 00:07:27.100 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 00:07:27.102 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 00:07:27.107 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 00:07:27.111 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 00:07:27.115 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 00:07:27.116 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 00:07:27.202 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 00:07:27.241 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 00:07:27.243 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 00:07:27.245 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 00:07:27.247 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 00:07:27.248 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 00:07:27.249 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 00:07:27.250 +04:00 [INF] Hosting environment: Development
2022-08-02 00:07:27.251 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 00:07:27.252 +04:00 [DBG] Hosting started
2022-08-02 00:07:27.474 +04:00 [DBG] Connection id "0HMJJV5QHB0H4" received FIN.
2022-08-02 00:07:27.484 +04:00 [DBG] Connection id "0HMJJV5QHB0H4" accepted.
2022-08-02 00:07:27.486 +04:00 [DBG] Connection id "0HMJJV5QHB0H4" started.
2022-08-02 00:07:27.501 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 00:07:27.529 +04:00 [DBG] Connection id "0HMJJV5QHB0H4" stopped.
2022-08-02 00:07:27.538 +04:00 [DBG] Connection id "0HMJJV5QHB0H4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 00:07:28.017 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" accepted.
2022-08-02 00:07:28.032 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" started.
2022-08-02 00:07:28.156 +04:00 [DBG] Connection 0HMJJV5QHB0H5 established using the following protocol: "Tls12"
2022-08-02 00:07:28.221 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 00:07:28.251 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 00:07:28.349 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 00:07:28.509 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 00:07:28.510 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 00:07:28.515 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 298.0892ms
2022-08-02 00:07:28.517 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.1079ms
2022-08-02 00:07:28.593 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 00:07:28.647 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.4683ms
2022-08-02 00:07:28.926 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 00:07:29.064 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.2664ms
2022-08-02 00:09:40.433 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" is closing.
2022-08-02 00:09:40.447 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" is closed. The last processed stream ID was 7.
2022-08-02 00:09:40.452 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" received FIN.
2022-08-02 00:09:40.454 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" sending FIN because: "The client closed the connection."
2022-08-02 00:09:40.466 +04:00 [DBG] Connection id "0HMJJV5QHB0H5" stopped.
2022-08-02 00:09:40.793 +04:00 [DBG] Connection id "0HMJJV5QHB0H6" accepted.
2022-08-02 00:09:40.794 +04:00 [DBG] Connection id "0HMJJV5QHB0H6" started.
2022-08-02 00:09:40.795 +04:00 [DBG] Connection id "0HMJJV5QHB0H6" received FIN.
2022-08-02 00:09:40.795 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" accepted.
2022-08-02 00:09:40.798 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 00:09:40.799 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" started.
2022-08-02 00:09:40.805 +04:00 [DBG] Connection id "0HMJJV5QHB0H6" stopped.
2022-08-02 00:09:40.807 +04:00 [DBG] Connection id "0HMJJV5QHB0H6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 00:09:40.814 +04:00 [DBG] Connection 0HMJJV5QHB0H7 established using the following protocol: "Tls12"
2022-08-02 00:09:40.822 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Register application/json 118
2022-08-02 00:09:40.826 +04:00 [DBG] POST requests are not supported
2022-08-02 00:09:40.828 +04:00 [DBG] POST requests are not supported
2022-08-02 00:09:40.859 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-02 00:09:40.865 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-02 00:09:40.867 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 00:09:40.910 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 00:09:40.913 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 00:09:40.952 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 00:09:40.957 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:09:40.959 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:09:40.961 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:09:40.963 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:09:40.965 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:09:40.967 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:09:41.100 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 00:09:42.023 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:09:42.029 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:09:42.035 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-02 00:09:42.039 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-02 00:09:42.043 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 00:09:42.048 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000002": started reading request body.
2022-08-02 00:09:42.050 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000002": done reading request body.
2022-08-02 00:09:42.056 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-02 00:09:42.058 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 00:09:42.059 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 00:09:42.061 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-02 00:09:42.085 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 00:09:42.236 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:09:42.306 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:09:42.313 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 00:09:42.319 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 00:09:42.330 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 00:09:42.381 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:42.601 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:42.605 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 00:09:42.622 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 00:09:42.700 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:09:42.704 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-08-02 00:09:42.728 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-02 00:09:42.789 +04:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-02 00:09:42.823 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 00:09:42.839 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:09:42.846 +04:00 [DBG] Committing transaction.
2022-08-02 00:09:42.861 +04:00 [DBG] Committed transaction.
2022-08-02 00:09:42.865 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:42.872 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:42.878 +04:00 [DBG] Disposing transaction.
2022-08-02 00:09:42.894 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:09:42.898 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 00:09:42.908 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 00:09:42.915 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 1943.9969ms
2022-08-02 00:09:42.919 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 00:09:42.922 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:09:42.926 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:09:42.929 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Register application/json 118 - 200 0 - 2107.4349ms
2022-08-02 00:09:56.866 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 59
2022-08-02 00:09:56.867 +04:00 [DBG] POST requests are not supported
2022-08-02 00:09:56.869 +04:00 [DBG] POST requests are not supported
2022-08-02 00:09:56.872 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 00:09:56.873 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 00:09:56.875 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 00:09:56.877 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 00:09:56.878 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 00:09:56.882 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 00:09:56.886 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:09:56.887 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:09:56.890 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:09:56.893 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:09:56.894 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:09:56.896 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:09:56.945 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:09:56.949 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:09:56.951 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 00:09:56.952 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 00:09:56.953 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 00:09:56.956 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000003": started reading request body.
2022-08-02 00:09:56.957 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000003": done reading request body.
2022-08-02 00:09:56.959 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 00:09:56.961 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 00:09:56.962 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 00:09:56.963 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 00:09:56.966 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 00:09:57.059 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-02 00:09:57.264 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 00:09:57.312 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:09:57.315 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-02 00:09:57.316 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:57.317 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:57.319 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 00:09:57.325 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 00:09:57.337 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:09:57.340 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:09:57.343 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:57.344 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:09:57.462 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 00:09:57.467 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 00:09:57.468 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 00:09:57.469 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 00:09:57.471 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 00:09:57.473 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 00:09:57.478 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 582.0025ms
2022-08-02 00:09:57.479 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 00:09:57.481 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:09:57.482 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:09:57.483 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 59 - 200 - application/json;+charset=utf-8 617.2033ms
2022-08-02 00:10:39.610 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 261
2022-08-02 00:10:39.612 +04:00 [DBG] POST requests are not supported
2022-08-02 00:10:39.612 +04:00 [DBG] POST requests are not supported
2022-08-02 00:10:39.613 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/AddApartment'
2022-08-02 00:10:39.615 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)' with route pattern 'Profile/AddApartment' is valid for the request path '/Profile/AddApartment'
2022-08-02 00:10:39.616 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 00:10:39.706 +04:00 [DBG] Successfully validated the token.
2022-08-02 00:10:39.710 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 00:10:39.716 +04:00 [DBG] Authorization was successful.
2022-08-02 00:10:39.718 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 00:10:39.725 +04:00 [INF] Route matched with {action = "AddApartment", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddApartment(BookingApi.Models.Request.ApartmentRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-02 00:10:39.728 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:10:39.729 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:10:39.734 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:10:39.737 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:10:39.739 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:10:39.743 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-02 00:10:39.762 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:10:39.768 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-02 00:10:39.769 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-02 00:10:39.771 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' using the name '' in request data ...
2022-08-02 00:10:39.772 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 00:10:39.776 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000004": started reading request body.
2022-08-02 00:10:39.778 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000004": done reading request body.
2022-08-02 00:10:39.784 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ApartmentRequest'
2022-08-02 00:10:39.786 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-02 00:10:39.787 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-02 00:10:39.789 +04:00 [DBG] Attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-02 00:10:39.851 +04:00 [DBG] Done attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-02 00:10:39.868 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Apartment'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:10:39.898 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:10:39.900 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 00:10:39.903 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 00:10:39.911 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 00:10:39.913 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:39.914 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:39.915 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 00:10:39.916 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 00:10:39.920 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:10:39.921 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 00:10:39.924 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 00:10:39.947 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 00:10:39.953 +04:00 [DBG] The foreign key property 'Apartment.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 00:10:39.957 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:10:39.958 +04:00 [DBG] Committing transaction.
2022-08-02 00:10:39.961 +04:00 [DBG] Committed transaction.
2022-08-02 00:10:39.961 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:39.963 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:39.964 +04:00 [DBG] Disposing transaction.
2022-08-02 00:10:39.965 +04:00 [DBG] An entity of type 'Apartment' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:10:39.967 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 00:10:39.969 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 00:10:39.970 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.AddApartment (BookingApi) in 226.6461ms
2022-08-02 00:10:39.971 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 00:10:39.973 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:10:39.975 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:10:39.976 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 261 - 200 0 - 366.0491ms
2022-08-02 00:10:58.324 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Register application/json 119
2022-08-02 00:10:58.328 +04:00 [DBG] POST requests are not supported
2022-08-02 00:10:58.329 +04:00 [DBG] POST requests are not supported
2022-08-02 00:10:58.330 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-02 00:10:58.331 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-02 00:10:58.333 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 00:10:58.334 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 00:10:58.335 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 00:10:58.336 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 00:10:58.339 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:10:58.340 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:10:58.342 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:10:58.346 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:10:58.347 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:10:58.349 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:10:58.351 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:10:58.353 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:10:58.354 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-02 00:10:58.355 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-02 00:10:58.357 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 00:10:58.360 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000005": started reading request body.
2022-08-02 00:10:58.361 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000005": done reading request body.
2022-08-02 00:10:58.363 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-02 00:10:58.363 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 00:10:58.365 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 00:10:58.366 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-02 00:10:58.368 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 00:10:58.369 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:10:58.370 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:10:58.372 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 00:10:58.373 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 00:10:58.374 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 00:10:58.376 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:58.377 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:58.378 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 00:10:58.379 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 00:10:58.380 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:10:58.381 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-02 00:10:58.382 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-02 00:10:58.387 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-02 00:10:58.391 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 00:10:58.393 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:10:58.394 +04:00 [DBG] Committing transaction.
2022-08-02 00:10:58.395 +04:00 [DBG] Committed transaction.
2022-08-02 00:10:58.396 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:58.397 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:10:58.398 +04:00 [DBG] Disposing transaction.
2022-08-02 00:10:58.399 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:10:58.401 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 00:10:58.402 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 00:10:58.403 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 54.0966ms
2022-08-02 00:10:58.404 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 00:10:58.405 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:10:58.406 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:10:58.408 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Register application/json 119 - 200 0 - 83.7534ms
2022-08-02 00:11:09.381 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 60
2022-08-02 00:11:09.382 +04:00 [DBG] POST requests are not supported
2022-08-02 00:11:09.384 +04:00 [DBG] POST requests are not supported
2022-08-02 00:11:09.385 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 00:11:09.386 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 00:11:09.388 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 00:11:09.389 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 00:11:09.390 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 00:11:09.391 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 00:11:09.395 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:11:09.397 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:11:09.399 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:11:09.401 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:11:09.402 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:11:09.404 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:11:09.406 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:11:09.410 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 00:11:09.412 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 00:11:09.414 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 00:11:09.415 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 00:11:09.417 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000006": started reading request body.
2022-08-02 00:11:09.418 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000006": done reading request body.
2022-08-02 00:11:09.420 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 00:11:09.421 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 00:11:09.422 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 00:11:09.423 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 00:11:09.425 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 00:11:09.431 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:11:09.433 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 00:11:09.434 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:11:09.436 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:11:09.437 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 00:11:09.444 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 00:11:09.447 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:11:09.449 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:11:09.450 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:11:09.451 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:11:09.453 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 00:11:09.456 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 00:11:09.456 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 00:11:09.457 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 00:11:09.460 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 00:11:09.462 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 00:11:09.464 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 59.7523ms
2022-08-02 00:11:09.465 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 00:11:09.466 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:11:09.467 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:11:09.469 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 60 - 200 - application/json;+charset=utf-8 88.0405ms
2022-08-02 00:11:48.448 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 220
2022-08-02 00:11:48.449 +04:00 [DBG] POST requests are not supported
2022-08-02 00:11:48.452 +04:00 [DBG] POST requests are not supported
2022-08-02 00:11:48.464 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-02 00:11:48.466 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-02 00:11:48.470 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 00:11:48.480 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/1/2022 6:54:39 AM', Current time: '8/1/2022 8:11:48 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-02 00:11:48.495 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/1/2022 6:54:39 AM', Current time: '8/1/2022 8:11:48 PM'.
2022-08-02 00:11:48.498 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-02 00:11:48.507 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-08-02 00:11:48.510 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:11:48.512 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 220 - 401 0 - 64.5065ms
2022-08-02 00:11:48.514 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000007": started reading request body.
2022-08-02 00:11:48.515 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000007": done reading request body.
2022-08-02 00:11:57.188 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 220
2022-08-02 00:11:57.190 +04:00 [DBG] POST requests are not supported
2022-08-02 00:11:57.194 +04:00 [DBG] POST requests are not supported
2022-08-02 00:11:57.195 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-02 00:11:57.197 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-02 00:11:57.200 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 00:11:57.202 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/1/2022 6:54:39 AM', Current time: '8/1/2022 8:11:57 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-02 00:11:57.210 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/1/2022 6:54:39 AM', Current time: '8/1/2022 8:11:57 PM'.
2022-08-02 00:11:57.213 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-02 00:11:57.215 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-08-02 00:11:57.216 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:11:57.218 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 220 - 401 0 - 29.6177ms
2022-08-02 00:11:57.219 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000008": started reading request body.
2022-08-02 00:11:57.220 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000008": done reading request body.
2022-08-02 00:12:16.235 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 220
2022-08-02 00:12:16.238 +04:00 [DBG] POST requests are not supported
2022-08-02 00:12:16.240 +04:00 [DBG] POST requests are not supported
2022-08-02 00:12:16.245 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-02 00:12:16.268 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-02 00:12:16.270 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 00:12:16.271 +04:00 [DBG] Successfully validated the token.
2022-08-02 00:12:16.272 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 00:12:16.274 +04:00 [DBG] Authorization was successful.
2022-08-02 00:12:16.275 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 00:12:16.285 +04:00 [INF] Route matched with {action = "Booking", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Booking(BookingApi.Models.Request.OrderRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-02 00:12:16.288 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:12:16.292 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:12:16.299 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:12:16.304 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:12:16.306 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:12:16.312 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-02 00:12:16.316 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:12:16.319 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-02 00:12:16.321 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-02 00:12:16.324 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' using the name '' in request data ...
2022-08-02 00:12:16.327 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 00:12:16.330 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000009": started reading request body.
2022-08-02 00:12:16.332 +04:00 [DBG] Connection id "0HMJJV5QHB0H7", Request id "0HMJJV5QHB0H7:00000009": done reading request body.
2022-08-02 00:12:16.335 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.OrderRequest'
2022-08-02 00:12:16.337 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-02 00:12:16.338 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-02 00:12:16.340 +04:00 [DBG] Attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-02 00:12:16.361 +04:00 [DBG] Done attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-02 00:12:16.375 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Order'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:12:16.397 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:12:16.399 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 00:12:16.400 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 00:12:16.417 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 00:12:16.418 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:12:16.421 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:12:16.423 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 00:12:16.425 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 00:12:16.428 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:12:16.430 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 00:12:16.431 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 00:12:16.439 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 00:12:16.445 +04:00 [DBG] The foreign key property 'Order.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 00:12:16.448 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:12:16.449 +04:00 [DBG] Committing transaction.
2022-08-02 00:12:16.451 +04:00 [DBG] Committed transaction.
2022-08-02 00:12:16.452 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:12:16.454 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:12:16.456 +04:00 [DBG] Disposing transaction.
2022-08-02 00:12:16.458 +04:00 [DBG] An entity of type 'Order' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:12:16.461 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 00:12:16.464 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 00:12:16.465 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.Booking (BookingApi) in 152.7407ms
2022-08-02 00:12:16.467 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 00:12:16.469 +04:00 [DBG] Connection id "0HMJJV5QHB0H7" completed keep alive response.
2022-08-02 00:12:16.470 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:12:16.471 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 220 - 200 0 - 236.6313ms
2022-08-02 00:12:38.392 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 00:12:38.554 +04:00 [DBG] Hosting starting
2022-08-02 00:12:38.616 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 00:12:38.623 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 00:12:38.632 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 00:12:38.640 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 00:12:38.649 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 00:12:38.665 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 00:12:38.669 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 00:12:38.676 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 00:12:38.679 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 00:12:38.687 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 00:12:38.693 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 00:12:38.700 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 00:12:38.702 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 00:12:38.959 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 00:12:39.026 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 00:12:39.027 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 00:12:39.029 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 00:12:39.030 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 00:12:39.032 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 00:12:39.034 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 00:12:39.035 +04:00 [INF] Hosting environment: Development
2022-08-02 00:12:39.036 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 00:12:39.038 +04:00 [DBG] Hosting started
2022-08-02 00:12:39.338 +04:00 [DBG] Connection id "0HMJJV8NFEECG" accepted.
2022-08-02 00:12:39.338 +04:00 [DBG] Connection id "0HMJJV8NFEECF" accepted.
2022-08-02 00:12:39.342 +04:00 [DBG] Connection id "0HMJJV8NFEECG" started.
2022-08-02 00:12:39.342 +04:00 [DBG] Connection id "0HMJJV8NFEECF" started.
2022-08-02 00:12:39.812 +04:00 [DBG] Connection id "0HMJJV8NFEECH" accepted.
2022-08-02 00:12:39.815 +04:00 [DBG] Connection id "0HMJJV8NFEECH" started.
2022-08-02 00:12:39.911 +04:00 [DBG] Connection 0HMJJV8NFEECH established using the following protocol: "Tls12"
2022-08-02 00:12:40.012 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 00:12:40.081 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 00:12:40.197 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 00:12:40.417 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 00:12:40.424 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 420.6008ms
2022-08-02 00:12:40.500 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 00:12:40.508 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.9021ms
2022-08-02 00:12:40.513 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 00:12:40.542 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.2757ms
2022-08-02 00:12:40.871 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 00:12:41.008 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.6377ms
2022-08-02 00:12:49.376 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-02 00:12:49.376 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-02 00:12:49.383 +04:00 [DBG] Connection id "0HMJJV8NFEECG" stopped.
2022-08-02 00:12:49.383 +04:00 [DBG] Connection id "0HMJJV8NFEECF" stopped.
2022-08-02 00:12:49.386 +04:00 [DBG] Connection id "0HMJJV8NFEECF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 00:12:49.386 +04:00 [DBG] Connection id "0HMJJV8NFEECG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 00:13:32.969 +04:00 [DBG] Connection id "0HMJJV8NFEECI" accepted.
2022-08-02 00:13:32.971 +04:00 [DBG] Connection id "0HMJJV8NFEECI" started.
2022-08-02 00:13:32.984 +04:00 [DBG] Connection id "0HMJJV8NFEECI" received FIN.
2022-08-02 00:13:32.972 +04:00 [DBG] Connection id "0HMJJV8NFEECJ" accepted.
2022-08-02 00:13:33.035 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 00:13:33.037 +04:00 [DBG] Connection id "0HMJJV8NFEECJ" started.
2022-08-02 00:13:33.082 +04:00 [DBG] Connection id "0HMJJV8NFEECI" stopped.
2022-08-02 00:13:33.083 +04:00 [DBG] Connection id "0HMJJV8NFEECI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 00:13:33.090 +04:00 [DBG] Connection 0HMJJV8NFEECJ established using the following protocol: "Tls12"
2022-08-02 00:13:33.105 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-02 00:13:33.109 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 00:13:33.113 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-02 00:13:33.153 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-02 00:13:33.163 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-02 00:13:33.168 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 00:13:33.628 +04:00 [DBG] Successfully validated the token.
2022-08-02 00:13:33.631 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 00:13:33.643 +04:00 [DBG] Authorization was successful.
2022-08-02 00:13:33.648 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 00:13:33.702 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 00:13:33.706 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 00:13:33.707 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 00:13:33.709 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 00:13:33.712 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 00:13:33.714 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 00:13:33.716 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 00:13:33.932 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 00:13:35.346 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 00:13:35.349 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 00:13:35.370 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 00:13:35.375 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 00:13:35.380 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 00:13:35.381 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 00:13:35.383 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 00:13:35.420 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 00:13:44.816 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 00:13:45.398 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 00:13:45.500 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:13:45.606 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (99ms).
2022-08-02 00:13:45.646 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:13:46.120 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:13:46.162 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 00:13:46.305 +04:00 [INF] Executed DbCommand (162ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 00:13:46.389 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:13:46.460 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:13:46.473 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:13:46.487 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:14:15.777 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-02 00:14:15.792 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 00:14:15.804 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 00:14:15.806 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-02 00:14:15.807 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:14:15.811 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:14:15.813 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 00:14:15.829 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 00:14:15.874 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 00:14:15.904 +04:00 [DBG] A data reader was disposed.
2022-08-02 00:14:15.905 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:14:15.907 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 00:15:13.129 +04:00 [INF] GetBookings successfully
2022-08-02 00:15:16.354 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 00:15:16.361 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 00:15:16.362 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 00:15:16.364 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 00:15:16.366 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 00:15:16.368 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-02 00:15:16.595 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 102869.7746ms
2022-08-02 00:15:16.604 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 00:15:16.611 +04:00 [DBG] Connection id "0HMJJV8NFEECJ" completed keep alive response.
2022-08-02 00:15:16.624 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 00:15:16.633 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 103527.8309ms
2022-08-02 10:01:36.755 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 10:01:36.837 +04:00 [DBG] Hosting starting
2022-08-02 10:01:36.853 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 10:01:36.857 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 10:01:36.862 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 10:01:36.867 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 10:01:36.871 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 10:01:36.881 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 10:01:36.884 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:01:36.888 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 10:01:36.890 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:01:36.895 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 10:01:36.898 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 10:01:36.903 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 10:01:36.905 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 10:01:36.970 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 10:01:37.000 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 10:01:37.001 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 10:01:37.003 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 10:01:37.004 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 10:01:37.005 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 10:01:37.006 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 10:01:37.006 +04:00 [INF] Hosting environment: Development
2022-08-02 10:01:37.007 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 10:01:37.009 +04:00 [DBG] Hosting started
2022-08-02 10:01:37.400 +04:00 [DBG] Connection id "0HMJK9HR1G52K" accepted.
2022-08-02 10:01:37.400 +04:00 [DBG] Connection id "0HMJK9HR1G52L" accepted.
2022-08-02 10:01:37.402 +04:00 [DBG] Connection id "0HMJK9HR1G52K" started.
2022-08-02 10:01:37.403 +04:00 [DBG] Connection id "0HMJK9HR1G52L" started.
2022-08-02 10:01:37.426 +04:00 [DBG] Connection id "0HMJK9HR1G52K" received FIN.
2022-08-02 10:01:37.426 +04:00 [DBG] Connection id "0HMJK9HR1G52L" received FIN.
2022-08-02 10:01:37.437 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:01:37.437 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:01:37.506 +04:00 [DBG] Connection id "0HMJK9HR1G52L" stopped.
2022-08-02 10:01:37.510 +04:00 [DBG] Connection id "0HMJK9HR1G52K" stopped.
2022-08-02 10:01:37.512 +04:00 [DBG] Connection id "0HMJK9HR1G52L" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:01:37.513 +04:00 [DBG] Connection id "0HMJK9HR1G52K" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:01:37.604 +04:00 [DBG] Connection id "0HMJK9HR1G52M" accepted.
2022-08-02 10:01:37.607 +04:00 [DBG] Connection id "0HMJK9HR1G52M" started.
2022-08-02 10:01:37.682 +04:00 [DBG] Connection 0HMJK9HR1G52M established using the following protocol: "Tls12"
2022-08-02 10:01:37.755 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 10:01:37.803 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 10:01:37.911 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 10:01:38.003 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 10:01:38.007 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 10:01:38.008 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 255.7448ms
2022-08-02 10:01:38.012 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.7306ms
2022-08-02 10:01:38.070 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 10:01:38.083 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.2884ms
2022-08-02 10:01:38.187 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 10:01:38.281 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.0696ms
2022-08-02 10:02:15.638 +04:00 [DBG] Connection id "0HMJK9HR1G52N" accepted.
2022-08-02 10:02:15.639 +04:00 [DBG] Connection id "0HMJK9HR1G52N" received FIN.
2022-08-02 10:02:15.640 +04:00 [DBG] Connection id "0HMJK9HR1G52O" accepted.
2022-08-02 10:02:15.640 +04:00 [DBG] Connection id "0HMJK9HR1G52N" started.
2022-08-02 10:02:15.645 +04:00 [DBG] Connection id "0HMJK9HR1G52O" started.
2022-08-02 10:02:15.646 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:02:15.651 +04:00 [DBG] Connection id "0HMJK9HR1G52N" stopped.
2022-08-02 10:02:15.653 +04:00 [DBG] Connection id "0HMJK9HR1G52N" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:02:15.655 +04:00 [DBG] Connection 0HMJK9HR1G52O established using the following protocol: "Tls12"
2022-08-02 10:02:15.664 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Register application/json 118
2022-08-02 10:02:15.679 +04:00 [DBG] POST requests are not supported
2022-08-02 10:02:15.681 +04:00 [DBG] POST requests are not supported
2022-08-02 10:02:15.716 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-02 10:02:15.724 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-02 10:02:15.729 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 10:02:15.788 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 10:02:15.795 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 10:02:15.847 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 10:02:15.850 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:02:15.852 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:02:15.854 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:02:15.856 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:02:15.859 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:02:15.863 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:02:16.041 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 10:02:17.080 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:02:17.089 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:02:17.102 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-02 10:02:17.106 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-02 10:02:17.111 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:02:17.116 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000002": started reading request body.
2022-08-02 10:02:17.118 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000002": done reading request body.
2022-08-02 10:02:17.124 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-02 10:02:17.126 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 10:02:17.128 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 10:02:17.130 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-02 10:02:17.158 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-02 10:02:17.369 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:02:17.443 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:02:17.449 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 10:02:17.455 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 10:02:17.467 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 10:02:17.557 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:17.969 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:17.972 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 10:02:17.987 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 10:02:18.059 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:02:18.069 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2022-08-02 10:02:18.094 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-02 10:02:18.169 +04:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-02 10:02:18.204 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 10:02:18.219 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:02:18.225 +04:00 [DBG] Committing transaction.
2022-08-02 10:02:18.231 +04:00 [DBG] Committed transaction.
2022-08-02 10:02:18.234 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:18.241 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:18.244 +04:00 [DBG] Disposing transaction.
2022-08-02 10:02:18.261 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:02:18.268 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 10:02:18.278 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 10:02:18.287 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 2419.4458ms
2022-08-02 10:02:18.290 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-02 10:02:18.294 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:02:18.298 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:02:18.300 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Register application/json 118 - 200 0 - 2636.0199ms
2022-08-02 10:02:47.208 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 63
2022-08-02 10:02:47.210 +04:00 [DBG] POST requests are not supported
2022-08-02 10:02:47.211 +04:00 [DBG] POST requests are not supported
2022-08-02 10:02:47.214 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 10:02:47.216 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 10:02:47.218 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:02:47.219 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 10:02:47.220 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:02:47.225 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 10:02:47.228 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:02:47.229 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:02:47.232 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:02:47.235 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:02:47.237 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:02:47.239 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:02:47.283 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:02:47.287 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:02:47.289 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:02:47.290 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 10:02:47.293 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:02:47.295 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000003": started reading request body.
2022-08-02 10:02:47.296 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000003": done reading request body.
2022-08-02 10:02:47.298 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 10:02:47.299 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:02:47.301 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:02:47.302 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:02:47.308 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:02:47.420 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-02 10:02:47.699 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:02:47.749 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:02:47.752 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-02 10:02:47.754 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:47.756 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:47.757 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:02:47.766 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:02:47.779 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:02:47.783 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:02:47.785 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:47.786 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:02:47.948 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:02:47.952 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:02:47.953 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:02:47.954 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:02:47.956 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:02:47.958 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 10:02:47.962 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 723.7973ms
2022-08-02 10:02:47.965 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:02:47.966 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:02:47.967 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:02:47.968 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 63 - 200 - application/json;+charset=utf-8 760.0511ms
2022-08-02 10:03:15.547 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 258
2022-08-02 10:03:15.548 +04:00 [DBG] POST requests are not supported
2022-08-02 10:03:15.549 +04:00 [DBG] POST requests are not supported
2022-08-02 10:03:15.551 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/AddApartment'
2022-08-02 10:03:15.552 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)' with route pattern 'Profile/AddApartment' is valid for the request path '/Profile/AddApartment'
2022-08-02 10:03:15.554 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 10:03:15.634 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/1/2022 8:19:57 PM', Current time: '8/2/2022 6:03:15 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-02 10:03:15.652 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/1/2022 8:19:57 PM', Current time: '8/2/2022 6:03:15 AM'.
2022-08-02 10:03:15.658 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-02 10:03:15.670 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-08-02 10:03:15.671 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:03:15.672 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 258 - 401 0 - 124.8175ms
2022-08-02 10:03:15.673 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000004": started reading request body.
2022-08-02 10:03:15.674 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000004": done reading request body.
2022-08-02 10:03:39.762 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 258
2022-08-02 10:03:39.764 +04:00 [DBG] POST requests are not supported
2022-08-02 10:03:39.765 +04:00 [DBG] POST requests are not supported
2022-08-02 10:03:39.767 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/AddApartment'
2022-08-02 10:03:39.769 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)' with route pattern 'Profile/AddApartment' is valid for the request path '/Profile/AddApartment'
2022-08-02 10:03:39.771 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 10:03:39.790 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:03:39.792 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:03:39.795 +04:00 [DBG] Authorization was successful.
2022-08-02 10:03:39.796 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 10:03:39.800 +04:00 [INF] Route matched with {action = "AddApartment", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddApartment(BookingApi.Models.Request.ApartmentRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-02 10:03:39.802 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:03:39.803 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:03:39.805 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:03:39.807 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:03:39.808 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:03:39.810 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-02 10:03:39.825 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:03:39.832 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-02 10:03:39.834 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-02 10:03:39.835 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' using the name '' in request data ...
2022-08-02 10:03:39.837 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:03:39.840 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000005": started reading request body.
2022-08-02 10:03:39.841 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000005": done reading request body.
2022-08-02 10:03:39.849 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ApartmentRequest'
2022-08-02 10:03:39.850 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-02 10:03:39.852 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-02 10:03:39.853 +04:00 [DBG] Attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-02 10:03:39.912 +04:00 [DBG] Done attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-02 10:03:39.928 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Apartment'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:03:39.958 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:03:39.960 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 10:03:39.963 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 10:03:39.970 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 10:03:39.972 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:39.973 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:39.974 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 10:03:39.975 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 10:03:39.978 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:03:39.979 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-02 10:03:39.982 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 10:03:39.989 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 10:03:39.994 +04:00 [DBG] The foreign key property 'Apartment.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 10:03:39.997 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:03:39.998 +04:00 [DBG] Committing transaction.
2022-08-02 10:03:39.999 +04:00 [DBG] Committed transaction.
2022-08-02 10:03:40.000 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:40.002 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:40.003 +04:00 [DBG] Disposing transaction.
2022-08-02 10:03:40.005 +04:00 [DBG] An entity of type 'Apartment' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:03:40.007 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 10:03:40.009 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 10:03:40.011 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.AddApartment (BookingApi) in 200.4583ms
2022-08-02 10:03:40.012 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-02 10:03:40.014 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:03:40.015 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:03:40.016 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 258 - 200 0 - 253.6844ms
2022-08-02 10:03:50.211 +04:00 [DBG] Connection id "0HMJK9HR1G52M" is closing.
2022-08-02 10:03:50.213 +04:00 [DBG] Connection id "0HMJK9HR1G52M" is closed. The last processed stream ID was 7.
2022-08-02 10:03:50.216 +04:00 [DBG] Connection id "0HMJK9HR1G52M" received FIN.
2022-08-02 10:03:50.229 +04:00 [DBG] Connection id "0HMJK9HR1G52M" sending FIN because: "The client closed the connection."
2022-08-02 10:03:50.232 +04:00 [DBG] Connection id "0HMJK9HR1G52M" stopped.
2022-08-02 10:03:56.606 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-02 10:03:56.607 +04:00 [DBG] POST requests are not supported
2022-08-02 10:03:56.611 +04:00 [DBG] POST requests are not supported
2022-08-02 10:03:56.612 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 10:03:56.614 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 10:03:56.617 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:03:56.619 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 10:03:56.620 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:03:56.622 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 10:03:56.625 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:03:56.628 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:03:56.630 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:03:56.632 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:03:56.633 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:03:56.636 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:03:56.638 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:03:56.640 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:03:56.642 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:03:56.644 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 10:03:56.646 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:03:56.647 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000006": started reading request body.
2022-08-02 10:03:56.648 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000006": done reading request body.
2022-08-02 10:03:56.650 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 10:03:56.651 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:03:56.653 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:03:56.654 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:03:56.657 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:03:56.662 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:03:56.663 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:03:56.665 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:56.666 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:56.667 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:03:56.672 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:03:56.676 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:03:56.678 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:03:56.679 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:56.680 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:03:56.682 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:03:56.685 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:03:56.686 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:03:56.688 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:03:56.689 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:03:56.691 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 10:03:56.693 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 57.0988ms
2022-08-02 10:03:56.694 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:03:56.696 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:03:56.697 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:03:56.698 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 92.3400ms
2022-08-02 10:04:38.978 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 215
2022-08-02 10:04:38.979 +04:00 [DBG] POST requests are not supported
2022-08-02 10:04:38.980 +04:00 [DBG] POST requests are not supported
2022-08-02 10:04:38.981 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-02 10:04:38.982 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-02 10:04:38.984 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 10:04:38.986 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:04:38.986 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:04:38.988 +04:00 [DBG] Authorization was successful.
2022-08-02 10:04:38.989 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 10:04:38.994 +04:00 [INF] Route matched with {action = "Booking", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Booking(BookingApi.Models.Request.OrderRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-02 10:04:38.997 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:04:38.999 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:04:39.000 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:04:39.002 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:04:39.003 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:04:39.005 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-02 10:04:39.007 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:04:39.009 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-02 10:04:39.011 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-02 10:04:39.013 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' using the name '' in request data ...
2022-08-02 10:04:39.014 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:04:39.017 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000007": started reading request body.
2022-08-02 10:04:39.018 +04:00 [DBG] Connection id "0HMJK9HR1G52O", Request id "0HMJK9HR1G52O:00000007": done reading request body.
2022-08-02 10:04:39.020 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.OrderRequest'
2022-08-02 10:04:39.021 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-02 10:04:39.023 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-02 10:04:39.024 +04:00 [DBG] Attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-02 10:04:39.045 +04:00 [DBG] Done attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-02 10:04:39.056 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Order'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:39.074 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:39.078 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-02 10:04:39.079 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-02 10:04:39.083 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-02 10:04:39.085 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:39.087 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:39.089 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-02 10:04:39.090 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-02 10:04:39.091 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:04:39.093 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:04:39.094 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 10:04:39.100 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-02 10:04:39.104 +04:00 [DBG] The foreign key property 'Order.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-02 10:04:39.106 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:04:39.106 +04:00 [DBG] Committing transaction.
2022-08-02 10:04:39.117 +04:00 [DBG] Committed transaction.
2022-08-02 10:04:39.119 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:39.121 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:39.122 +04:00 [DBG] Disposing transaction.
2022-08-02 10:04:39.123 +04:00 [DBG] An entity of type 'Order' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:39.125 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-02 10:04:39.127 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-02 10:04:39.129 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.Booking (BookingApi) in 123.6183ms
2022-08-02 10:04:39.130 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-02 10:04:39.132 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:04:39.133 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:04:39.134 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 215 - 200 0 - 155.5422ms
2022-08-02 10:04:51.284 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-02 10:04:51.285 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 10:04:51.286 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-02 10:04:51.287 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-02 10:04:51.288 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-02 10:04:51.290 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:04:51.291 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:04:51.292 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:04:51.293 +04:00 [DBG] Authorization was successful.
2022-08-02 10:04:51.295 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:04:51.300 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 10:04:51.303 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:04:51.304 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:04:51.305 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:04:51.307 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:04:51.309 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:04:51.313 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:04:51.315 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:04:51.318 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:04:51.319 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:04:51.321 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 10:04:51.323 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:04:51.325 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:04:51.326 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:04:51.329 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:04:51.352 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 10:04:51.363 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 10:04:51.368 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:04:51.369 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:04:51.370 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.372 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.373 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:04:51.378 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:04:51.382 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:51.384 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:51.386 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:04:51.387 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.389 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.392 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-02 10:04:51.399 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:04:51.405 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:04:51.405 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-02 10:04:51.407 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.408 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.409 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:04:51.414 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:04:51.417 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:51.419 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:04:51.420 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.421 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.423 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:04:51.424 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-02 10:04:51.426 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.427 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.429 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:04:51.432 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:04:51.435 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:04:51.436 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:04:51.437 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.438 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:04:51.439 +04:00 [INF] GetBookings successfully
2022-08-02 10:04:51.460 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:04:51.464 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:04:51.465 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:04:51.466 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:04:51.467 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:04:51.468 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-02 10:04:51.474 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 161.1942ms
2022-08-02 10:04:51.476 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:04:51.479 +04:00 [DBG] Connection id "0HMJK9HR1G52O" completed keep alive response.
2022-08-02 10:04:51.481 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:04:51.483 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 198.4653ms
2022-08-02 10:05:37.147 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 10:05:37.328 +04:00 [DBG] Hosting starting
2022-08-02 10:05:37.414 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 10:05:37.419 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 10:05:37.428 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 10:05:37.439 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 10:05:37.450 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 10:05:37.469 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 10:05:37.473 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:05:37.480 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 10:05:37.484 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:05:37.492 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 10:05:37.498 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 10:05:37.503 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 10:05:37.506 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 10:05:37.802 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 10:05:37.934 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 10:05:37.935 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 10:05:37.936 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 10:05:37.937 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 10:05:37.938 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 10:05:37.940 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 10:05:37.941 +04:00 [INF] Hosting environment: Development
2022-08-02 10:05:37.942 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 10:05:37.943 +04:00 [DBG] Hosting started
2022-08-02 10:05:38.275 +04:00 [DBG] Connection id "0HMJK9K2QMCC8" received FIN.
2022-08-02 10:05:38.295 +04:00 [DBG] Connection id "0HMJK9K2QMCC8" accepted.
2022-08-02 10:05:38.299 +04:00 [DBG] Connection id "0HMJK9K2QMCC8" started.
2022-08-02 10:05:38.333 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:05:38.421 +04:00 [DBG] Connection id "0HMJK9K2QMCC8" stopped.
2022-08-02 10:05:38.427 +04:00 [DBG] Connection id "0HMJK9K2QMCC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:05:38.664 +04:00 [DBG] Connection id "0HMJK9K2QMCC9" accepted.
2022-08-02 10:05:38.668 +04:00 [DBG] Connection id "0HMJK9K2QMCC9" started.
2022-08-02 10:05:38.763 +04:00 [DBG] Connection 0HMJK9K2QMCC9 established using the following protocol: "Tls12"
2022-08-02 10:05:38.860 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 10:05:38.922 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 10:05:39.076 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 10:05:39.291 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 10:05:39.297 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 10:05:39.304 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.8094ms
2022-08-02 10:05:39.304 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 450.3523ms
2022-08-02 10:05:39.386 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 10:05:39.431 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.8061ms
2022-08-02 10:05:39.541 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 10:05:39.731 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.4409ms
2022-08-02 10:05:43.864 +04:00 [DBG] Connection id "0HMJK9K2QMCCA" accepted.
2022-08-02 10:05:43.866 +04:00 [DBG] Connection id "0HMJK9K2QMCCA" received FIN.
2022-08-02 10:05:43.866 +04:00 [DBG] Connection id "0HMJK9K2QMCCA" started.
2022-08-02 10:05:43.867 +04:00 [DBG] Connection id "0HMJK9K2QMCCB" accepted.
2022-08-02 10:05:43.869 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:05:43.870 +04:00 [DBG] Connection id "0HMJK9K2QMCCB" started.
2022-08-02 10:05:43.873 +04:00 [DBG] Connection id "0HMJK9K2QMCCA" stopped.
2022-08-02 10:05:43.875 +04:00 [DBG] Connection id "0HMJK9K2QMCCA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:05:43.880 +04:00 [DBG] Connection 0HMJK9K2QMCCB established using the following protocol: "Tls12"
2022-08-02 10:05:43.895 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-02 10:05:43.900 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 10:05:43.902 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-02 10:05:43.935 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-02 10:05:43.942 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-02 10:05:43.944 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:05:44.423 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:05:44.426 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:05:44.436 +04:00 [DBG] Authorization was successful.
2022-08-02 10:05:44.439 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:05:44.474 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 10:05:44.480 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:05:44.483 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:05:44.485 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:05:44.488 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:05:44.490 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:05:44.494 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:05:44.742 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 10:05:46.166 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:05:46.169 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:05:46.202 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:05:46.206 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 10:05:46.212 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:05:46.215 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:05:46.217 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:05:46.256 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:05:54.684 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 10:05:55.241 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 10:05:55.331 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:05:55.394 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (58ms).
2022-08-02 10:05:55.427 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:05:55.903 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:05:55.930 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:05:56.056 +04:00 [INF] Executed DbCommand (137ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:05:56.143 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:05:56.215 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:05:56.234 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:05:56.247 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:05:56.261 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:17.003 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-02 10:06:17.020 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:06:17.031 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:06:17.033 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:06:17.034 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:17.037 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:17.039 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:06:17.093 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:06:17.106 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:06:17.150 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:06:17.151 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:17.153 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:44.691 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:06:44.693 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:06:44.695 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:44.699 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:44.702 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:06:44.710 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:06:44.742 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:06:44.744 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:06:44.745 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:06:44.747 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:28.510 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 10:27:28.726 +04:00 [DBG] Hosting starting
2022-08-02 10:27:28.805 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 10:27:28.816 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 10:27:28.831 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 10:27:28.848 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 10:27:28.859 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 10:27:28.875 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 10:27:28.880 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:27:28.887 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 10:27:28.891 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:27:28.901 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 10:27:28.905 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 10:27:28.910 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 10:27:28.913 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 10:27:29.204 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 10:27:29.297 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 10:27:29.298 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 10:27:29.301 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 10:27:29.303 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 10:27:29.306 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 10:27:29.308 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 10:27:29.309 +04:00 [INF] Hosting environment: Development
2022-08-02 10:27:29.311 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 10:27:29.312 +04:00 [DBG] Hosting started
2022-08-02 10:27:29.410 +04:00 [DBG] Connection id "0HMJKA09IKO6B" received FIN.
2022-08-02 10:27:29.434 +04:00 [DBG] Connection id "0HMJKA09IKO6B" accepted.
2022-08-02 10:27:29.439 +04:00 [DBG] Connection id "0HMJKA09IKO6B" started.
2022-08-02 10:27:29.472 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:27:29.555 +04:00 [DBG] Connection id "0HMJKA09IKO6B" stopped.
2022-08-02 10:27:29.570 +04:00 [DBG] Connection id "0HMJKA09IKO6B" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:27:29.826 +04:00 [DBG] Connection id "0HMJKA09IKO6C" accepted.
2022-08-02 10:27:29.829 +04:00 [DBG] Connection id "0HMJKA09IKO6C" started.
2022-08-02 10:27:29.916 +04:00 [DBG] Connection 0HMJKA09IKO6C established using the following protocol: "Tls12"
2022-08-02 10:27:30.000 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 10:27:30.055 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 10:27:30.194 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 10:27:30.378 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 10:27:30.380 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 10:27:30.387 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.7434ms
2022-08-02 10:27:30.387 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 392.6034ms
2022-08-02 10:27:30.458 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 10:27:30.489 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.9590ms
2022-08-02 10:27:30.595 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 10:27:30.800 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.2922ms
2022-08-02 10:27:36.095 +04:00 [DBG] Connection id "0HMJKA09IKO6D" accepted.
2022-08-02 10:27:36.096 +04:00 [DBG] Connection id "0HMJKA09IKO6D" received FIN.
2022-08-02 10:27:36.097 +04:00 [DBG] Connection id "0HMJKA09IKO6D" started.
2022-08-02 10:27:36.098 +04:00 [DBG] Connection id "0HMJKA09IKO6E" accepted.
2022-08-02 10:27:36.102 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:27:36.103 +04:00 [DBG] Connection id "0HMJKA09IKO6E" started.
2022-08-02 10:27:36.108 +04:00 [DBG] Connection id "0HMJKA09IKO6D" stopped.
2022-08-02 10:27:36.110 +04:00 [DBG] Connection id "0HMJKA09IKO6D" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:27:36.115 +04:00 [DBG] Connection 0HMJKA09IKO6E established using the following protocol: "Tls12"
2022-08-02 10:27:36.129 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-02 10:27:36.133 +04:00 [DBG] POST requests are not supported
2022-08-02 10:27:36.134 +04:00 [DBG] POST requests are not supported
2022-08-02 10:27:36.175 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 10:27:36.182 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 10:27:36.186 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:27:36.317 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 10:27:36.323 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:27:36.364 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 10:27:36.373 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:27:36.374 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:27:36.377 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:27:36.380 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:27:36.382 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:27:36.384 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:27:36.596 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 10:27:37.958 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:27:37.965 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:27:37.987 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:27:37.992 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 10:27:37.995 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:27:38.014 +04:00 [DBG] Connection id "0HMJKA09IKO6E", Request id "0HMJKA09IKO6E:00000002": started reading request body.
2022-08-02 10:27:38.017 +04:00 [DBG] Connection id "0HMJKA09IKO6E", Request id "0HMJKA09IKO6E:00000002": done reading request body.
2022-08-02 10:27:38.026 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 10:27:38.028 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:27:38.029 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:27:38.030 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:27:38.070 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:27:41.542 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-02 10:27:42.056 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:27:42.163 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:27:42.237 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (65ms).
2022-08-02 10:27:42.267 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:42.716 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:42.742 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:27:42.873 +04:00 [INF] Executed DbCommand (135ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:27:42.957 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:27:43.013 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:27:43.023 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:43.039 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:43.287 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:27:43.293 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:27:43.294 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:27:43.296 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:27:43.298 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:27:43.300 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 10:27:43.317 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 6927.3146ms
2022-08-02 10:27:43.320 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:27:43.324 +04:00 [DBG] Connection id "0HMJKA09IKO6E" completed keep alive response.
2022-08-02 10:27:43.332 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:27:43.339 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 7210.0565ms
2022-08-02 10:27:57.287 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-02 10:27:57.290 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 10:27:57.292 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-02 10:27:57.298 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-02 10:27:57.300 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-02 10:27:57.304 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:27:57.442 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:27:57.446 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:27:57.456 +04:00 [DBG] Authorization was successful.
2022-08-02 10:27:57.458 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:27:57.464 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 10:27:57.467 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:27:57.470 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:27:57.472 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:27:57.475 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:27:57.477 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:27:57.479 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:27:57.545 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:27:57.549 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:27:57.551 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:27:57.553 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 10:27:57.557 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:27:57.559 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:27:57.561 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:27:57.563 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:27:59.574 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 10:27:59.586 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 10:27:59.592 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:27:59.594 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-02 10:27:59.596 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.602 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.606 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:27:59.621 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:27:59.637 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:27:59.675 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:27:59.678 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:27:59.679 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.681 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.687 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-02 10:27:59.695 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:27:59.700 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:27:59.701 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:27:59.706 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.711 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.714 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:27:59.725 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:27:59.737 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:27:59.762 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:27:59.763 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.765 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.775 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:27:59.776 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:27:59.778 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.780 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.783 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:27:59.792 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:27:59.797 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:27:59.800 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:27:59.801 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.806 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:27:59.809 +04:00 [INF] GetBookings successfully
2022-08-02 10:28:00.001 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:28:00.007 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:28:00.009 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:28:00.027 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:28:00.028 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:28:00.030 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-02 10:28:00.042 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 2562.2246ms
2022-08-02 10:28:00.043 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:28:00.047 +04:00 [DBG] Connection id "0HMJKA09IKO6E" completed keep alive response.
2022-08-02 10:28:00.048 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:28:00.049 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 2761.9612ms
2022-08-02 10:33:41.614 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 10:33:41.747 +04:00 [DBG] Hosting starting
2022-08-02 10:33:41.770 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 10:33:41.776 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 10:33:41.782 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 10:33:41.790 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 10:33:41.797 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 10:33:41.807 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 10:33:41.810 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:33:41.815 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 10:33:41.818 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:33:41.824 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 10:33:41.830 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 10:33:41.837 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 10:33:41.839 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 10:33:41.926 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 10:33:41.968 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 10:33:41.969 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 10:33:41.971 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 10:33:41.972 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 10:33:41.973 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 10:33:41.974 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 10:33:41.975 +04:00 [INF] Hosting environment: Development
2022-08-02 10:33:41.975 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 10:33:41.977 +04:00 [DBG] Hosting started
2022-08-02 10:33:42.143 +04:00 [DBG] Connection id "0HMJKA3OL9RE5" received FIN.
2022-08-02 10:33:42.143 +04:00 [DBG] Connection id "0HMJKA3OL9RE4" received FIN.
2022-08-02 10:33:42.155 +04:00 [DBG] Connection id "0HMJKA3OL9RE5" accepted.
2022-08-02 10:33:42.155 +04:00 [DBG] Connection id "0HMJKA3OL9RE4" accepted.
2022-08-02 10:33:42.158 +04:00 [DBG] Connection id "0HMJKA3OL9RE5" started.
2022-08-02 10:33:42.158 +04:00 [DBG] Connection id "0HMJKA3OL9RE4" started.
2022-08-02 10:33:42.176 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:33:42.176 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:33:42.207 +04:00 [DBG] Connection id "0HMJKA3OL9RE4" stopped.
2022-08-02 10:33:42.216 +04:00 [DBG] Connection id "0HMJKA3OL9RE5" stopped.
2022-08-02 10:33:42.223 +04:00 [DBG] Connection id "0HMJKA3OL9RE5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:33:42.223 +04:00 [DBG] Connection id "0HMJKA3OL9RE4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:33:42.313 +04:00 [DBG] Connection id "0HMJKA3OL9RE6" accepted.
2022-08-02 10:33:42.316 +04:00 [DBG] Connection id "0HMJKA3OL9RE6" started.
2022-08-02 10:33:42.384 +04:00 [DBG] Connection 0HMJKA3OL9RE6 established using the following protocol: "Tls12"
2022-08-02 10:33:42.445 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 10:33:42.481 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 10:33:42.614 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 10:33:42.709 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 10:33:42.716 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 274.5882ms
2022-08-02 10:33:42.722 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 10:33:42.728 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.7083ms
2022-08-02 10:33:42.821 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 10:33:42.870 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.6876ms
2022-08-02 10:33:42.994 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 10:33:43.121 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.2296ms
2022-08-02 10:33:58.439 +04:00 [DBG] Connection id "0HMJKA3OL9RE7" accepted.
2022-08-02 10:33:58.441 +04:00 [DBG] Connection id "0HMJKA3OL9RE7" received FIN.
2022-08-02 10:33:58.441 +04:00 [DBG] Connection id "0HMJKA3OL9RE7" started.
2022-08-02 10:33:58.441 +04:00 [DBG] Connection id "0HMJKA3OL9RE8" accepted.
2022-08-02 10:33:58.445 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:33:58.446 +04:00 [DBG] Connection id "0HMJKA3OL9RE8" started.
2022-08-02 10:33:58.451 +04:00 [DBG] Connection id "0HMJKA3OL9RE7" stopped.
2022-08-02 10:33:58.452 +04:00 [DBG] Connection id "0HMJKA3OL9RE7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:33:58.457 +04:00 [DBG] Connection 0HMJKA3OL9RE8 established using the following protocol: "Tls12"
2022-08-02 10:33:58.469 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 63
2022-08-02 10:33:58.473 +04:00 [DBG] POST requests are not supported
2022-08-02 10:33:58.475 +04:00 [DBG] POST requests are not supported
2022-08-02 10:33:58.507 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 10:33:58.514 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 10:33:58.517 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:33:58.550 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 10:33:58.556 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:33:58.596 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 10:33:58.600 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:33:58.602 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:33:58.603 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:33:58.606 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:33:58.607 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:33:58.611 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:33:58.728 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 10:33:59.651 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:33:59.658 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:33:59.664 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:33:59.668 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 10:33:59.671 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:33:59.676 +04:00 [DBG] Connection id "0HMJKA3OL9RE8", Request id "0HMJKA3OL9RE8:00000002": started reading request body.
2022-08-02 10:33:59.678 +04:00 [DBG] Connection id "0HMJKA3OL9RE8", Request id "0HMJKA3OL9RE8:00000002": done reading request body.
2022-08-02 10:33:59.683 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 10:33:59.687 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:33:59.688 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:33:59.689 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:33:59.714 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:33:59.818 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-02 10:34:00.052 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:34:00.109 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:34:00.141 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2022-08-02 10:34:00.157 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:00.368 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:00.383 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:34:00.451 +04:00 [INF] Executed DbCommand (72ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:34:00.503 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:34:00.542 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:34:00.547 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:00.554 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:00.676 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:34:00.681 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:34:00.682 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:34:00.683 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:34:00.685 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:34:00.687 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 10:34:00.698 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 2081.9881ms
2022-08-02 10:34:00.701 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:34:00.703 +04:00 [DBG] Connection id "0HMJKA3OL9RE8" completed keep alive response.
2022-08-02 10:34:00.707 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:34:00.711 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 63 - 200 - application/json;+charset=utf-8 2242.7778ms
2022-08-02 10:34:28.131 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1007 - -
2022-08-02 10:34:28.133 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 10:34:28.134 +04:00 [DBG] The request path /Booking/1007 does not match a supported file type
2022-08-02 10:34:28.137 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1007'
2022-08-02 10:34:28.139 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1007'
2022-08-02 10:34:28.141 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:34:28.214 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:34:28.216 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:34:28.221 +04:00 [DBG] Authorization was successful.
2022-08-02 10:34:28.223 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:34:28.232 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 10:34:28.235 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:34:28.236 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:34:28.238 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:34:28.240 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:34:28.241 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:34:28.244 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:34:28.291 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:34:28.296 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:34:28.297 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:34:28.299 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 10:34:28.301 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:34:28.302 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:34:28.304 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:34:28.305 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:34:28.319 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 10:34:28.328 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 10:34:28.332 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:34:28.334 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:34:28.335 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:28.337 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:28.339 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:34:28.347 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:34:28.351 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:34:28.352 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:28.354 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:34:28.355 +04:00 [INF] GetBookings successfully
2022-08-02 10:34:28.455 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:34:28.459 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:34:28.460 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:34:28.461 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:34:28.462 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:34:28.464 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-02 10:34:28.467 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 223.1185ms
2022-08-02 10:34:28.469 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:34:28.470 +04:00 [DBG] Connection id "0HMJKA3OL9RE8" completed keep alive response.
2022-08-02 10:34:28.472 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:34:28.473 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1007 - - - 200 - application/json;+charset=utf-8 342.3475ms
2022-08-02 10:36:50.308 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 10:36:50.413 +04:00 [DBG] Hosting starting
2022-08-02 10:36:50.434 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 10:36:50.439 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 10:36:50.446 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 10:36:50.454 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 10:36:50.459 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 10:36:50.471 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 10:36:50.474 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:36:50.480 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 10:36:50.482 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:36:50.489 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 10:36:50.494 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 10:36:50.499 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 10:36:50.502 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 10:36:50.602 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 10:36:50.646 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 10:36:50.648 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 10:36:50.649 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 10:36:50.651 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 10:36:50.652 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 10:36:50.654 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 10:36:50.655 +04:00 [INF] Hosting environment: Development
2022-08-02 10:36:50.656 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 10:36:50.658 +04:00 [DBG] Hosting started
2022-08-02 10:36:50.794 +04:00 [DBG] Connection id "0HMJKA5GSDPRB" received FIN.
2022-08-02 10:36:50.794 +04:00 [DBG] Connection id "0HMJKA5GSDPRC" received FIN.
2022-08-02 10:36:50.805 +04:00 [DBG] Connection id "0HMJKA5GSDPRB" accepted.
2022-08-02 10:36:50.805 +04:00 [DBG] Connection id "0HMJKA5GSDPRC" accepted.
2022-08-02 10:36:50.807 +04:00 [DBG] Connection id "0HMJKA5GSDPRB" started.
2022-08-02 10:36:50.808 +04:00 [DBG] Connection id "0HMJKA5GSDPRC" started.
2022-08-02 10:36:50.826 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:36:50.826 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:36:50.855 +04:00 [DBG] Connection id "0HMJKA5GSDPRB" stopped.
2022-08-02 10:36:50.855 +04:00 [DBG] Connection id "0HMJKA5GSDPRC" stopped.
2022-08-02 10:36:50.860 +04:00 [DBG] Connection id "0HMJKA5GSDPRB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:36:50.860 +04:00 [DBG] Connection id "0HMJKA5GSDPRC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:36:51.164 +04:00 [DBG] Connection id "0HMJKA5GSDPRD" accepted.
2022-08-02 10:36:51.169 +04:00 [DBG] Connection id "0HMJKA5GSDPRD" started.
2022-08-02 10:36:51.243 +04:00 [DBG] Connection 0HMJKA5GSDPRD established using the following protocol: "Tls12"
2022-08-02 10:36:51.319 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 10:36:51.347 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 10:36:51.436 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 10:36:51.603 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 10:36:51.606 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 10:36:51.610 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.1037ms
2022-08-02 10:36:51.610 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 296.3859ms
2022-08-02 10:36:51.684 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 10:36:51.758 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.4823ms
2022-08-02 10:36:51.859 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 10:36:51.965 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.1770ms
2022-08-02 10:37:02.601 +04:00 [DBG] Connection id "0HMJKA5GSDPRE" accepted.
2022-08-02 10:37:02.603 +04:00 [DBG] Connection id "0HMJKA5GSDPRE" started.
2022-08-02 10:37:02.603 +04:00 [DBG] Connection id "0HMJKA5GSDPRE" received FIN.
2022-08-02 10:37:02.603 +04:00 [DBG] Connection id "0HMJKA5GSDPRF" accepted.
2022-08-02 10:37:02.606 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:37:02.607 +04:00 [DBG] Connection id "0HMJKA5GSDPRF" started.
2022-08-02 10:37:02.611 +04:00 [DBG] Connection id "0HMJKA5GSDPRE" stopped.
2022-08-02 10:37:02.613 +04:00 [DBG] Connection id "0HMJKA5GSDPRE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:37:02.617 +04:00 [DBG] Connection 0HMJKA5GSDPRF established using the following protocol: "Tls12"
2022-08-02 10:37:02.625 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-02 10:37:02.628 +04:00 [DBG] POST requests are not supported
2022-08-02 10:37:02.629 +04:00 [DBG] POST requests are not supported
2022-08-02 10:37:02.655 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-02 10:37:02.661 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-02 10:37:02.664 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:37:02.692 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-02 10:37:02.697 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:37:02.732 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-02 10:37:02.735 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:37:02.736 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:37:02.738 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:37:02.741 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:37:02.743 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:37:02.745 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:37:02.861 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 10:37:03.828 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:37:03.834 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-02 10:37:03.840 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:37:03.844 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-02 10:37:03.847 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-02 10:37:03.852 +04:00 [DBG] Connection id "0HMJKA5GSDPRF", Request id "0HMJKA5GSDPRF:00000002": started reading request body.
2022-08-02 10:37:03.854 +04:00 [DBG] Connection id "0HMJKA5GSDPRF", Request id "0HMJKA5GSDPRF:00000002": done reading request body.
2022-08-02 10:37:03.860 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-02 10:37:03.863 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:37:03.865 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:37:03.866 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-02 10:37:03.886 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-02 10:37:03.987 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-02 10:37:04.224 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:37:04.292 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:37:04.327 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2022-08-02 10:37:04.342 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:04.562 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:04.577 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:37:04.647 +04:00 [INF] Executed DbCommand (74ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-02 10:37:04.700 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:04.741 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:37:04.747 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:04.753 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:04.870 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:37:04.874 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:37:04.875 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:37:04.877 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:37:04.879 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:37:04.881 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-02 10:37:04.891 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 2141.3756ms
2022-08-02 10:37:04.892 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-02 10:37:04.894 +04:00 [DBG] Connection id "0HMJKA5GSDPRF" completed keep alive response.
2022-08-02 10:37:04.898 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:37:04.901 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 2276.3840ms
2022-08-02 10:37:20.003 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-02 10:37:20.008 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 10:37:20.009 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-02 10:37:20.013 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-02 10:37:20.014 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-02 10:37:20.016 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:37:20.090 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:37:20.092 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:37:20.097 +04:00 [DBG] Authorization was successful.
2022-08-02 10:37:20.099 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:37:20.103 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 10:37:20.106 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:37:20.108 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:37:20.109 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:37:20.112 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:37:20.114 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:37:20.116 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:37:20.162 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:37:20.165 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:37:20.167 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:37:20.168 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 10:37:20.170 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:37:20.171 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:37:20.173 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:37:20.174 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:37:20.186 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 10:37:20.194 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 10:37:20.200 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:37:20.201 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:37:20.203 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.205 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.207 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:37:20.214 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:37:20.222 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:20.244 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:20.246 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:37:20.248 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.249 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.253 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-02 10:37:20.259 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:37:20.264 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:37:20.265 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:37:20.272 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.273 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.274 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:37:20.278 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:37:20.285 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:20.305 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:37:20.306 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.308 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.313 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:37:20.315 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:37:20.316 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.317 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.319 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:37:20.322 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:37:20.325 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:20.326 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:37:20.327 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.329 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:20.332 +04:00 [INF] GetBookings successfully
2022-08-02 10:37:20.428 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-02 10:37:20.432 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-02 10:37:20.432 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-02 10:37:20.433 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-02 10:37:20.434 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-02 10:37:20.436 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-02 10:37:20.443 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 326.9071ms
2022-08-02 10:37:20.445 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:37:20.448 +04:00 [DBG] Connection id "0HMJKA5GSDPRF" completed keep alive response.
2022-08-02 10:37:20.449 +04:00 [DBG] 'BookingContext' disposed.
2022-08-02 10:37:20.450 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 447.0381ms
2022-08-02 10:37:45.559 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 10:37:45.725 +04:00 [DBG] Hosting starting
2022-08-02 10:37:45.788 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 10:37:45.794 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 10:37:45.802 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 10:37:45.812 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 10:37:45.821 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 10:37:45.838 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 10:37:45.842 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:37:45.848 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 10:37:45.851 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 10:37:45.860 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 10:37:45.864 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 10:37:45.871 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 10:37:45.873 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 10:37:46.107 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 10:37:46.173 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 10:37:46.174 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 10:37:46.175 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 10:37:46.176 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 10:37:46.177 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 10:37:46.179 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 10:37:46.180 +04:00 [INF] Hosting environment: Development
2022-08-02 10:37:46.181 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 10:37:46.183 +04:00 [DBG] Hosting started
2022-08-02 10:37:46.292 +04:00 [DBG] Connection id "0HMJKA61DKSM4" accepted.
2022-08-02 10:37:46.292 +04:00 [DBG] Connection id "0HMJKA61DKSM5" accepted.
2022-08-02 10:37:46.295 +04:00 [DBG] Connection id "0HMJKA61DKSM5" started.
2022-08-02 10:37:46.295 +04:00 [DBG] Connection id "0HMJKA61DKSM4" started.
2022-08-02 10:37:46.713 +04:00 [DBG] Connection id "0HMJKA61DKSM6" accepted.
2022-08-02 10:37:46.721 +04:00 [DBG] Connection id "0HMJKA61DKSM6" started.
2022-08-02 10:37:46.806 +04:00 [DBG] Connection 0HMJKA61DKSM6 established using the following protocol: "Tls12"
2022-08-02 10:37:46.876 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 10:37:46.927 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 10:37:47.055 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 10:37:47.254 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 10:37:47.257 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 10:37:47.265 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.5023ms
2022-08-02 10:37:47.266 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 394.8153ms
2022-08-02 10:37:47.321 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 10:37:47.368 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.4784ms
2022-08-02 10:37:47.465 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 10:37:47.620 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.5289ms
2022-08-02 10:37:50.483 +04:00 [DBG] Connection id "0HMJKA61DKSM7" accepted.
2022-08-02 10:37:50.484 +04:00 [DBG] Connection id "0HMJKA61DKSM7" received FIN.
2022-08-02 10:37:50.485 +04:00 [DBG] Connection id "0HMJKA61DKSM7" started.
2022-08-02 10:37:50.486 +04:00 [DBG] Connection id "0HMJKA61DKSM8" accepted.
2022-08-02 10:37:50.491 +04:00 [DBG] Connection id "0HMJKA61DKSM8" started.
2022-08-02 10:37:50.491 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 10:37:50.499 +04:00 [DBG] Connection 0HMJKA61DKSM8 established using the following protocol: "Tls12"
2022-08-02 10:37:50.549 +04:00 [DBG] Connection id "0HMJKA61DKSM7" stopped.
2022-08-02 10:37:50.552 +04:00 [DBG] Connection id "0HMJKA61DKSM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:37:50.559 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-02 10:37:50.563 +04:00 [DBG] The request path  does not match the path filter
2022-08-02 10:37:50.565 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-02 10:37:50.597 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-02 10:37:50.603 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-02 10:37:50.606 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:37:51.030 +04:00 [DBG] Successfully validated the token.
2022-08-02 10:37:51.032 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-02 10:37:51.044 +04:00 [DBG] Authorization was successful.
2022-08-02 10:37:51.047 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-02 10:37:51.088 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-02 10:37:51.093 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-02 10:37:51.094 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-02 10:37:51.097 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-02 10:37:51.101 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-02 10:37:51.103 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-02 10:37:51.105 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:37:51.331 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-02 10:37:52.733 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-02 10:37:52.738 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-02 10:37:52.757 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:37:52.761 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-02 10:37:52.765 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:37:52.766 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:37:52.768 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-02 10:37:52.801 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-02 10:37:57.018 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-02 10:37:57.018 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-02 10:37:57.025 +04:00 [DBG] Connection id "0HMJKA61DKSM5" stopped.
2022-08-02 10:37:57.026 +04:00 [DBG] Connection id "0HMJKA61DKSM4" stopped.
2022-08-02 10:37:57.073 +04:00 [DBG] Connection id "0HMJKA61DKSM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:37:57.538 +04:00 [DBG] Connection id "0HMJKA61DKSM4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 10:37:58.050 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-02 10:37:58.480 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-02 10:37:58.570 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:37:58.649 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2022-08-02 10:37:58.679 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:59.141 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:59.164 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:37:59.281 +04:00 [INF] Executed DbCommand (126ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-02 10:37:59.352 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:59.420 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:37:59.438 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:37:59.451 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:37:59.469 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:06.892 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-02 10:38:06.905 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-02 10:38:06.915 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:38:06.916 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:38:06.917 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:06.920 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:06.922 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:38:06.929 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:38:06.959 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:38:06.985 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:38:06.987 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:06.989 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:14.695 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-02 10:38:14.696 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-02 10:38:14.698 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:14.700 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:14.701 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:38:14.705 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-02 10:38:14.739 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-02 10:38:14.741 +04:00 [DBG] A data reader was disposed.
2022-08-02 10:38:14.742 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 10:38:14.743 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-02 22:21:51.598 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-02 22:21:51.728 +04:00 [DBG] Hosting starting
2022-08-02 22:21:51.779 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-02 22:21:51.785 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-02 22:21:51.802 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-02 22:21:51.813 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-02 22:21:51.820 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-02 22:21:51.830 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-02 22:21:51.833 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 22:21:51.837 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-02 22:21:51.841 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-02 22:21:51.847 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-02 22:21:51.852 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-02 22:21:51.856 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-02 22:21:51.859 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-02 22:21:52.046 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-02 22:21:52.088 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-02 22:21:52.090 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-02 22:21:52.092 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-02 22:21:52.093 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-02 22:21:52.095 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-02 22:21:52.096 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-02 22:21:52.096 +04:00 [INF] Hosting environment: Development
2022-08-02 22:21:52.097 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-02 22:21:52.098 +04:00 [DBG] Hosting started
2022-08-02 22:21:52.294 +04:00 [DBG] Connection id "0HMJKMFFMUUKB" received FIN.
2022-08-02 22:21:52.304 +04:00 [DBG] Connection id "0HMJKMFFMUUKB" accepted.
2022-08-02 22:21:52.306 +04:00 [DBG] Connection id "0HMJKMFFMUUKB" started.
2022-08-02 22:21:52.331 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-02 22:21:52.434 +04:00 [DBG] Connection id "0HMJKMFFMUUKB" stopped.
2022-08-02 22:21:52.439 +04:00 [DBG] Connection id "0HMJKMFFMUUKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-02 22:21:52.469 +04:00 [DBG] Connection id "0HMJKMFFMUUKC" accepted.
2022-08-02 22:21:52.474 +04:00 [DBG] Connection id "0HMJKMFFMUUKC" started.
2022-08-02 22:21:52.540 +04:00 [DBG] Connection 0HMJKMFFMUUKC established using the following protocol: "Tls12"
2022-08-02 22:21:52.607 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-02 22:21:52.644 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-02 22:21:52.749 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-02 22:21:52.886 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-02 22:21:52.894 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 290.7430ms
2022-08-02 22:21:52.894 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-02 22:21:52.902 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.3106ms
2022-08-02 22:21:52.977 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-02 22:21:52.997 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.0340ms
2022-08-02 22:21:53.294 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-02 22:21:53.449 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.2355ms
