2022-08-03 16:36:38.469 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:36:38.569 +04:00 [DBG] Hosting starting
2022-08-03 16:36:38.611 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:36:38.615 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:36:38.628 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:36:38.636 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:36:38.642 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:36:38.648 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:36:38.651 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:36:38.654 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:36:38.656 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:36:38.660 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:36:38.663 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:36:38.666 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:36:38.668 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:36:38.859 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:36:38.896 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:36:38.897 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:36:38.898 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:36:38.899 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:36:38.900 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:36:38.901 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:36:38.902 +04:00 [INF] Hosting environment: Development
2022-08-03 16:36:38.903 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:36:38.906 +04:00 [DBG] Hosting started
2022-08-03 16:36:39.227 +04:00 [DBG] Connection id "0HMJL9J7UC58B" received FIN.
2022-08-03 16:36:39.234 +04:00 [DBG] Connection id "0HMJL9J7UC58B" accepted.
2022-08-03 16:36:39.236 +04:00 [DBG] Connection id "0HMJL9J7UC58B" started.
2022-08-03 16:36:39.250 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:36:39.301 +04:00 [DBG] Connection id "0HMJL9J7UC58B" stopped.
2022-08-03 16:36:39.305 +04:00 [DBG] Connection id "0HMJL9J7UC58B" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:36:39.370 +04:00 [DBG] Connection id "0HMJL9J7UC58C" accepted.
2022-08-03 16:36:39.373 +04:00 [DBG] Connection id "0HMJL9J7UC58C" started.
2022-08-03 16:36:39.434 +04:00 [DBG] Connection 0HMJL9J7UC58C established using the following protocol: "Tls12"
2022-08-03 16:36:39.485 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:36:39.521 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:36:39.623 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:36:39.708 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:36:39.712 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:36:39.712 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 230.5617ms
2022-08-03 16:36:39.716 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.6744ms
2022-08-03 16:36:39.772 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:36:39.785 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.4819ms
2022-08-03 16:36:40.008 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:36:40.109 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.5733ms
2022-08-03 16:36:46.682 +04:00 [DBG] Connection id "0HMJL9J7UC58D" accepted.
2022-08-03 16:36:46.684 +04:00 [DBG] Connection id "0HMJL9J7UC58D" received FIN.
2022-08-03 16:36:46.685 +04:00 [DBG] Connection id "0HMJL9J7UC58D" started.
2022-08-03 16:36:46.685 +04:00 [DBG] Connection id "0HMJL9J7UC58E" accepted.
2022-08-03 16:36:46.687 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:36:46.689 +04:00 [DBG] Connection id "0HMJL9J7UC58E" started.
2022-08-03 16:36:46.691 +04:00 [DBG] Connection id "0HMJL9J7UC58D" stopped.
2022-08-03 16:36:46.693 +04:00 [DBG] Connection id "0HMJL9J7UC58D" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:36:46.697 +04:00 [DBG] Connection 0HMJL9J7UC58E established using the following protocol: "Tls12"
2022-08-03 16:36:46.703 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-03 16:36:46.706 +04:00 [DBG] POST requests are not supported
2022-08-03 16:36:46.707 +04:00 [DBG] POST requests are not supported
2022-08-03 16:36:46.729 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-03 16:36:46.733 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-03 16:36:46.735 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:36:46.775 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-03 16:36:46.778 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:36:46.803 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-03 16:36:46.807 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:36:46.809 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:36:46.810 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:36:46.811 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:36:46.812 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:36:46.814 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:36:46.952 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:36:47.628 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:36:47.633 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:36:47.644 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:36:47.649 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-03 16:36:47.652 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:36:47.655 +04:00 [DBG] Connection id "0HMJL9J7UC58E", Request id "0HMJL9J7UC58E:00000002": started reading request body.
2022-08-03 16:36:47.656 +04:00 [DBG] Connection id "0HMJL9J7UC58E", Request id "0HMJL9J7UC58E:00000002": done reading request body.
2022-08-03 16:36:47.660 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-03 16:36:47.661 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:36:47.662 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:36:47.663 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:36:47.686 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:36:47.780 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-03 16:36:47.944 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:36:47.991 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:36:48.030 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2022-08-03 16:36:48.046 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:36:48.273 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:36:48.285 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:36:48.336 +04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:36:48.375 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:36:48.406 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:36:48.410 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:36:48.418 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:36:48.536 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:36:48.541 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:36:48.541 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:36:48.542 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:36:48.544 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:36:48.545 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-03 16:36:48.553 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 1736.4445ms
2022-08-03 16:36:48.556 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:36:48.557 +04:00 [DBG] Connection id "0HMJL9J7UC58E" completed keep alive response.
2022-08-03 16:36:48.561 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:36:48.564 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 1860.6960ms
2022-08-03 16:37:01.116 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-03 16:37:01.118 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:37:01.119 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-03 16:37:01.121 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-03 16:37:01.121 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-03 16:37:01.123 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:37:01.170 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:37:01.173 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:37:01.178 +04:00 [DBG] Authorization was successful.
2022-08-03 16:37:01.180 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:37:01.184 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-03 16:37:01.186 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:37:01.187 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:37:01.188 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:37:01.190 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:37:01.191 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:37:01.192 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 16:37:01.220 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:37:01.224 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 16:37:01.225 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-03 16:37:01.226 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-03 16:37:01.228 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:37:01.229 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:37:01.229 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-03 16:37:01.230 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:37:01.247 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-03 16:37:01.253 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:37:01.258 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:37:01.259 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:37:01.260 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.261 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.262 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 16:37:01.265 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 16:37:01.269 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:01.280 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:01.285 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:37:01.286 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.287 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.290 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:37:01.294 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:37:01.297 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:37:01.298 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:37:01.299 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.300 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.301 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:01.304 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:01.308 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:01.319 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:37:01.322 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.324 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.327 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:37:01.328 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:37:01.329 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.330 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.331 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:01.333 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:01.335 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:01.336 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:37:01.337 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.338 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:01.339 +04:00 [INF] GetBookings successfully
2022-08-03 16:37:01.403 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:37:01.407 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:37:01.407 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:37:01.408 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:37:01.409 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:37:01.410 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:37:01.415 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 223.8153ms
2022-08-03 16:37:01.417 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:37:01.419 +04:00 [DBG] Connection id "0HMJL9J7UC58E" completed keep alive response.
2022-08-03 16:37:01.420 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:37:01.421 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 304.2506ms
2022-08-03 16:37:37.223 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:37:37.304 +04:00 [DBG] Hosting starting
2022-08-03 16:37:37.323 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:37:37.327 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:37:37.332 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:37:37.337 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:37:37.341 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:37:37.349 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:37:37.352 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:37:37.356 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:37:37.358 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:37:37.364 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:37:37.367 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:37:37.371 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:37:37.373 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:37:37.446 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:37:37.483 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:37:37.485 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:37:37.487 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:37:37.489 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:37:37.492 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:37:37.494 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:37:37.495 +04:00 [INF] Hosting environment: Development
2022-08-03 16:37:37.497 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:37:37.499 +04:00 [DBG] Hosting started
2022-08-03 16:37:37.648 +04:00 [DBG] Connection id "0HMJL9JPBG12H" accepted.
2022-08-03 16:37:37.650 +04:00 [DBG] Connection id "0HMJL9JPBG12H" started.
2022-08-03 16:37:37.673 +04:00 [DBG] Connection id "0HMJL9JPBG12I" accepted.
2022-08-03 16:37:37.675 +04:00 [DBG] Connection id "0HMJL9JPBG12I" started.
2022-08-03 16:37:37.687 +04:00 [DBG] Connection id "0HMJL9JPBG12H" received FIN.
2022-08-03 16:37:37.697 +04:00 [DBG] Connection 0HMJL9JPBG12I established using the following protocol: "Tls12"
2022-08-03 16:37:37.697 +04:00 [DBG] Connection 0HMJL9JPBG12H established using the following protocol: "Tls12"
2022-08-03 16:37:37.710 +04:00 [DBG] Connection id "0HMJL9JPBG12H" is closed. The last processed stream ID was 0.
2022-08-03 16:37:37.712 +04:00 [DBG] Connection id "0HMJL9JPBG12H" sending FIN because: "The client closed the connection."
2022-08-03 16:37:37.718 +04:00 [DBG] Connection id "0HMJL9JPBG12H" stopped.
2022-08-03 16:37:37.756 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:37:37.781 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:37:37.878 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:37:37.974 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:37:37.978 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:37:37.978 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:37:37.979 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 227.7893ms
2022-08-03 16:37:37.983 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.5392ms
2022-08-03 16:37:37.994 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.7551ms
2022-08-03 16:37:38.355 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:37:38.427 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 71.1421ms
2022-08-03 16:37:39.958 +04:00 [DBG] Connection id "0HMJL9JPBG12J" accepted.
2022-08-03 16:37:39.958 +04:00 [DBG] Connection id "0HMJL9JPBG12J" received FIN.
2022-08-03 16:37:39.959 +04:00 [DBG] Connection id "0HMJL9JPBG12J" started.
2022-08-03 16:37:39.960 +04:00 [DBG] Connection id "0HMJL9JPBG12K" accepted.
2022-08-03 16:37:39.963 +04:00 [DBG] Connection id "0HMJL9JPBG12K" started.
2022-08-03 16:37:39.963 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:37:39.970 +04:00 [DBG] Connection 0HMJL9JPBG12K established using the following protocol: "Tls12"
2022-08-03 16:37:39.977 +04:00 [DBG] Connection id "0HMJL9JPBG12J" stopped.
2022-08-03 16:37:39.979 +04:00 [DBG] Connection id "0HMJL9JPBG12J" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:37:39.985 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-03 16:37:39.988 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:37:39.988 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-03 16:37:40.005 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-03 16:37:40.010 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-03 16:37:40.013 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:37:40.130 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:37:40.132 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:37:40.136 +04:00 [DBG] Authorization was successful.
2022-08-03 16:37:40.138 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:37:40.160 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-03 16:37:40.163 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:37:40.165 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:37:40.166 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:37:40.168 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:37:40.169 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:37:40.172 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 16:37:40.248 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:37:40.814 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:37:40.819 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 16:37:40.825 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-03 16:37:40.827 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-03 16:37:40.829 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:37:40.830 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:37:40.832 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-03 16:37:40.843 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:37:40.895 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-03 16:37:41.050 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:37:41.083 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:37:41.101 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2022-08-03 16:37:41.111 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.247 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.257 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 16:37:41.296 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 16:37:41.323 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:41.349 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:41.354 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:37:41.359 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.364 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.367 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:37:41.373 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:37:41.377 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:37:41.378 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:37:41.380 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.381 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.382 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:41.387 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:41.392 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:41.405 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:37:41.406 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.408 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.411 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:37:41.412 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:37:41.413 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.414 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.416 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:41.418 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:37:41.421 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:37:41.423 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:37:41.424 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.425 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:37:41.426 +04:00 [INF] GetBookings successfully
2022-08-03 16:37:41.490 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:37:41.495 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:37:41.496 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:37:41.498 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:37:41.499 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:37:41.501 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:37:41.514 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 1338.995ms
2022-08-03 16:37:41.516 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:37:41.518 +04:00 [DBG] Connection id "0HMJL9JPBG12K" completed keep alive response.
2022-08-03 16:37:41.521 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:37:41.525 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 1540.0068ms
2022-08-03 16:38:22.992 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:38:23.075 +04:00 [DBG] Hosting starting
2022-08-03 16:38:23.092 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:38:23.094 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:38:23.098 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:38:23.102 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:38:23.106 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:38:23.115 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:38:23.117 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:38:23.121 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:38:23.123 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:38:23.128 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:38:23.131 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:38:23.134 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:38:23.135 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:38:23.188 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:38:23.216 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:38:23.217 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:38:23.218 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:38:23.220 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:38:23.220 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:38:23.221 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:38:23.222 +04:00 [INF] Hosting environment: Development
2022-08-03 16:38:23.222 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:38:23.223 +04:00 [DBG] Hosting started
2022-08-03 16:38:23.243 +04:00 [DBG] Connection id "0HMJL9K6UBE02" received FIN.
2022-08-03 16:38:23.249 +04:00 [DBG] Connection id "0HMJL9K6UBE02" accepted.
2022-08-03 16:38:23.251 +04:00 [DBG] Connection id "0HMJL9K6UBE02" started.
2022-08-03 16:38:23.252 +04:00 [DBG] Connection id "0HMJL9K6UBE03" accepted.
2022-08-03 16:38:23.253 +04:00 [DBG] Connection id "0HMJL9K6UBE03" started.
2022-08-03 16:38:23.261 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:38:23.278 +04:00 [DBG] Connection id "0HMJL9K6UBE02" stopped.
2022-08-03 16:38:23.280 +04:00 [DBG] Connection id "0HMJL9K6UBE02" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:38:23.291 +04:00 [DBG] Connection 0HMJL9K6UBE03 established using the following protocol: "Tls12"
2022-08-03 16:38:23.325 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:38:23.342 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:38:23.399 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:38:23.457 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:38:23.463 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:38:23.463 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:38:23.463 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 140.6557ms
2022-08-03 16:38:23.470 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.8704ms
2022-08-03 16:38:23.475 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.6158ms
2022-08-03 16:38:23.733 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:38:23.817 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.6507ms
2022-08-03 16:38:25.194 +04:00 [DBG] Connection id "0HMJL9K6UBE04" accepted.
2022-08-03 16:38:25.194 +04:00 [DBG] Connection id "0HMJL9K6UBE04" received FIN.
2022-08-03 16:38:25.196 +04:00 [DBG] Connection id "0HMJL9K6UBE04" started.
2022-08-03 16:38:25.196 +04:00 [DBG] Connection id "0HMJL9K6UBE05" accepted.
2022-08-03 16:38:25.198 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:38:25.198 +04:00 [DBG] Connection id "0HMJL9K6UBE05" started.
2022-08-03 16:38:25.200 +04:00 [DBG] Connection id "0HMJL9K6UBE04" stopped.
2022-08-03 16:38:25.202 +04:00 [DBG] Connection id "0HMJL9K6UBE04" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:38:25.205 +04:00 [DBG] Connection 0HMJL9K6UBE05 established using the following protocol: "Tls12"
2022-08-03 16:38:25.212 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-03 16:38:25.214 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:38:25.215 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-03 16:38:25.232 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-03 16:38:25.236 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-03 16:38:25.238 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:38:25.365 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:38:25.368 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:38:25.373 +04:00 [DBG] Authorization was successful.
2022-08-03 16:38:25.375 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:38:25.398 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-03 16:38:25.400 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:38:25.401 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:38:25.402 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:38:25.403 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:38:25.404 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:38:25.406 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 16:38:25.475 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:38:26.054 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:38:26.057 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 16:38:26.062 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-03 16:38:26.064 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-03 16:38:26.066 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:38:26.066 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:38:26.067 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-03 16:38:26.078 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-03 16:38:26.127 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-03 16:38:26.270 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:38:26.300 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:38:26.321 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2022-08-03 16:38:26.331 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.461 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.471 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 16:38:26.512 +04:00 [INF] Executed DbCommand (43ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 16:38:26.541 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:38:26.569 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:38:26.576 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:38:26.581 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.587 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.592 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:38:26.599 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:38:26.603 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:38:26.604 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:38:26.605 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.607 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.608 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:38:26.613 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:38:26.617 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:38:26.630 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:38:26.632 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.633 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.636 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:38:26.636 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:38:26.637 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.638 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.639 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:38:26.642 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:38:26.644 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:38:26.645 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:38:26.645 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.646 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:38:26.648 +04:00 [INF] GetBookings successfully
2022-08-03 16:38:26.710 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:38:26.715 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:38:26.715 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:38:26.716 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:38:26.717 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:38:26.719 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:38:26.729 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 1320.9016ms
2022-08-03 16:38:26.731 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 16:38:26.732 +04:00 [DBG] Connection id "0HMJL9K6UBE05" completed keep alive response.
2022-08-03 16:38:26.734 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:38:26.736 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 1524.6475ms
2022-08-03 16:40:35.597 +04:00 [DBG] Connection id "0HMJL9K6UBE03" is closing.
2022-08-03 16:40:35.599 +04:00 [DBG] Connection id "0HMJL9K6UBE03" is closed. The last processed stream ID was 7.
2022-08-03 16:40:35.602 +04:00 [DBG] Connection id "0HMJL9K6UBE03" received FIN.
2022-08-03 16:40:35.603 +04:00 [DBG] Connection id "0HMJL9K6UBE03" sending FIN because: "The client closed the connection."
2022-08-03 16:40:35.616 +04:00 [DBG] Connection id "0HMJL9K6UBE03" stopped.
2022-08-03 16:40:37.619 +04:00 [DBG] Connection id "0HMJL9K6UBE05" disconnecting.
2022-08-03 16:40:37.622 +04:00 [DBG] Connection id "0HMJL9K6UBE05" stopped.
2022-08-03 16:40:37.623 +04:00 [DBG] Connection id "0HMJL9K6UBE05" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:43:21.796 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:43:21.918 +04:00 [DBG] Hosting starting
2022-08-03 16:43:21.968 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:43:21.972 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:43:21.978 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:43:21.985 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:43:21.991 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:43:21.999 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:43:22.002 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:43:22.006 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:43:22.007 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:43:22.012 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:43:22.015 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:43:22.019 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:43:22.020 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:43:22.202 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:43:22.245 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:43:22.246 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:43:22.247 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:43:22.248 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:43:22.249 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:43:22.250 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:43:22.251 +04:00 [INF] Hosting environment: Development
2022-08-03 16:43:22.252 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:43:22.252 +04:00 [DBG] Hosting started
2022-08-03 16:43:22.278 +04:00 [DBG] Connection id "0HMJL9N024Q47" accepted.
2022-08-03 16:43:22.280 +04:00 [DBG] Connection id "0HMJL9N024Q47" received FIN.
2022-08-03 16:43:22.281 +04:00 [DBG] Connection id "0HMJL9N024Q47" started.
2022-08-03 16:43:22.297 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:43:22.344 +04:00 [DBG] Connection id "0HMJL9N024Q47" stopped.
2022-08-03 16:43:22.349 +04:00 [DBG] Connection id "0HMJL9N024Q47" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:43:22.514 +04:00 [DBG] Connection id "0HMJL9N024Q48" accepted.
2022-08-03 16:43:22.517 +04:00 [DBG] Connection id "0HMJL9N024Q48" started.
2022-08-03 16:43:22.580 +04:00 [DBG] Connection 0HMJL9N024Q48 established using the following protocol: "Tls12"
2022-08-03 16:43:22.637 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:43:22.674 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:43:22.758 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:43:22.905 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:43:22.908 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:43:22.911 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.0634ms
2022-08-03 16:43:22.911 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 278.1411ms
2022-08-03 16:43:22.955 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:43:22.978 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6867ms
2022-08-03 16:43:23.155 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:43:23.404 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.8294ms
2022-08-03 16:43:47.725 +04:00 [DBG] Connection id "0HMJL9N024Q49" accepted.
2022-08-03 16:43:47.729 +04:00 [DBG] Connection id "0HMJL9N024Q49" received FIN.
2022-08-03 16:43:47.730 +04:00 [DBG] Connection id "0HMJL9N024Q49" started.
2022-08-03 16:43:47.730 +04:00 [DBG] Connection id "0HMJL9N024Q4A" accepted.
2022-08-03 16:43:47.737 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:43:47.738 +04:00 [DBG] Connection id "0HMJL9N024Q4A" started.
2022-08-03 16:43:47.741 +04:00 [DBG] Connection id "0HMJL9N024Q49" stopped.
2022-08-03 16:43:47.743 +04:00 [DBG] Connection id "0HMJL9N024Q49" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:43:47.752 +04:00 [DBG] Connection 0HMJL9N024Q4A established using the following protocol: "Tls12"
2022-08-03 16:43:47.761 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/2 - -
2022-08-03 16:43:47.765 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:43:47.766 +04:00 [DBG] The request path /Guest/2 does not match a supported file type
2022-08-03 16:43:47.799 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/2'
2022-08-03 16:43:47.804 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/2'
2022-08-03 16:43:47.806 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:43:48.092 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:43:48.095 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:43:48.103 +04:00 [DBG] Authorization was successful.
2022-08-03 16:43:48.105 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:43:48.134 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:43:48.136 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:43:48.137 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:43:48.138 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:43:48.139 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:43:48.140 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:43:48.144 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:43:48.292 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:43:49.094 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:43:49.099 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:43:49.115 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:43:49.118 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:43:49.120 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:43:49.121 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:43:49.122 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:43:49.145 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:44:00.524 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:44:00.695 +04:00 [DBG] Hosting starting
2022-08-03 16:44:00.823 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:44:00.827 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:44:00.831 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:44:00.837 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:44:00.842 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:44:00.850 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:44:00.853 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:44:00.856 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:44:00.859 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:44:00.865 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:44:00.868 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:44:00.872 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:44:00.873 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:44:01.057 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:44:01.116 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:44:01.118 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:44:01.121 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:44:01.122 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:44:01.123 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:44:01.126 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:44:01.129 +04:00 [INF] Hosting environment: Development
2022-08-03 16:44:01.131 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:44:01.134 +04:00 [DBG] Hosting started
2022-08-03 16:44:01.492 +04:00 [DBG] Connection id "0HMJL9NBO40E3" accepted.
2022-08-03 16:44:01.496 +04:00 [DBG] Connection id "0HMJL9NBO40E3" started.
2022-08-03 16:44:01.529 +04:00 [DBG] Connection id "0HMJL9NBO40E3" received FIN.
2022-08-03 16:44:01.529 +04:00 [DBG] Connection id "0HMJL9NBO40E4" reset.
2022-08-03 16:44:01.532 +04:00 [DBG] Connection id "0HMJL9NBO40E4" accepted.
2022-08-03 16:44:01.534 +04:00 [DBG] Connection id "0HMJL9NBO40E4" started.
2022-08-03 16:44:01.539 +04:00 [DBG] Failed to authenticate HTTPS connection.
Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketConnection.DoReceive()
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at System.IO.Pipelines.Pipe.DefaultPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:44:01.541 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:44:01.658 +04:00 [DBG] Connection id "0HMJL9NBO40E4" stopped.
2022-08-03 16:44:01.658 +04:00 [DBG] Connection id "0HMJL9NBO40E3" stopped.
2022-08-03 16:44:01.661 +04:00 [DBG] Connection id "0HMJL9NBO40E3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:44:01.661 +04:00 [DBG] Connection id "0HMJL9NBO40E4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:44:01.812 +04:00 [DBG] Connection id "0HMJL9NBO40E5" accepted.
2022-08-03 16:44:01.815 +04:00 [DBG] Connection id "0HMJL9NBO40E5" started.
2022-08-03 16:44:01.870 +04:00 [DBG] Connection 0HMJL9NBO40E5 established using the following protocol: "Tls12"
2022-08-03 16:44:01.934 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:44:01.970 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:44:02.065 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:44:02.195 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:44:02.204 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:44:02.205 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.2181ms
2022-08-03 16:44:02.207 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 277.0595ms
2022-08-03 16:44:02.257 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:44:02.279 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.7530ms
2022-08-03 16:44:02.455 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:44:02.566 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.4008ms
2022-08-03 16:44:04.312 +04:00 [DBG] Connection id "0HMJL9NBO40E6" accepted.
2022-08-03 16:44:04.314 +04:00 [DBG] Connection id "0HMJL9NBO40E6" received FIN.
2022-08-03 16:44:04.315 +04:00 [DBG] Connection id "0HMJL9NBO40E6" started.
2022-08-03 16:44:04.316 +04:00 [DBG] Connection id "0HMJL9NBO40E7" accepted.
2022-08-03 16:44:04.318 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:44:04.319 +04:00 [DBG] Connection id "0HMJL9NBO40E7" started.
2022-08-03 16:44:04.321 +04:00 [DBG] Connection id "0HMJL9NBO40E6" stopped.
2022-08-03 16:44:04.324 +04:00 [DBG] Connection id "0HMJL9NBO40E6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:44:04.326 +04:00 [DBG] Connection 0HMJL9NBO40E7 established using the following protocol: "Tls12"
2022-08-03 16:44:04.337 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/2 - -
2022-08-03 16:44:04.339 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:44:04.340 +04:00 [DBG] The request path /Guest/2 does not match a supported file type
2022-08-03 16:44:04.368 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/2'
2022-08-03 16:44:04.371 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/2'
2022-08-03 16:44:04.374 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:44:04.630 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:44:04.633 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:44:04.639 +04:00 [DBG] Authorization was successful.
2022-08-03 16:44:04.642 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:44:04.666 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:44:04.670 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:44:04.671 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:44:04.672 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:44:04.673 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:44:04.674 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:44:04.676 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:44:04.810 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:44:05.604 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:44:05.607 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:44:05.621 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:44:05.624 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:44:05.626 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:44:05.628 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:44:05.628 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:44:05.650 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:45:10.649 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:45:10.807 +04:00 [DBG] Hosting starting
2022-08-03 16:45:10.861 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:45:10.866 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:45:10.873 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:45:10.881 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:45:10.889 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:45:10.904 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:45:10.909 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:45:10.915 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:45:10.917 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:45:10.925 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:45:10.930 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:45:10.936 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:45:10.938 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:45:11.145 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:45:11.195 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:45:11.196 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:45:11.198 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:45:11.198 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:45:11.199 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:45:11.201 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:45:11.201 +04:00 [INF] Hosting environment: Development
2022-08-03 16:45:11.203 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:45:11.203 +04:00 [DBG] Hosting started
2022-08-03 16:45:11.651 +04:00 [DBG] Connection id "0HMJL9O0L5TR8" accepted.
2022-08-03 16:45:11.651 +04:00 [DBG] Connection id "0HMJL9O0L5TR9" accepted.
2022-08-03 16:45:11.653 +04:00 [DBG] Connection id "0HMJL9O0L5TR8" started.
2022-08-03 16:45:11.653 +04:00 [DBG] Connection id "0HMJL9O0L5TR9" started.
2022-08-03 16:45:12.115 +04:00 [DBG] Connection id "0HMJL9O0L5TRA" accepted.
2022-08-03 16:45:12.119 +04:00 [DBG] Connection id "0HMJL9O0L5TRA" started.
2022-08-03 16:45:12.193 +04:00 [DBG] Connection 0HMJL9O0L5TRA established using the following protocol: "Tls12"
2022-08-03 16:45:12.300 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:45:12.356 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:45:12.506 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:45:12.715 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:45:12.716 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:45:12.721 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 428.3733ms
2022-08-03 16:45:12.722 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.2110ms
2022-08-03 16:45:12.771 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:45:12.836 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.2731ms
2022-08-03 16:45:12.994 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:45:13.104 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.2853ms
2022-08-03 16:45:17.279 +04:00 [DBG] Connection id "0HMJL9O0L5TRB" accepted.
2022-08-03 16:45:17.280 +04:00 [DBG] Connection id "0HMJL9O0L5TRB" received FIN.
2022-08-03 16:45:17.281 +04:00 [DBG] Connection id "0HMJL9O0L5TRB" started.
2022-08-03 16:45:17.282 +04:00 [DBG] Connection id "0HMJL9O0L5TRC" accepted.
2022-08-03 16:45:17.284 +04:00 [DBG] Connection id "0HMJL9O0L5TRC" started.
2022-08-03 16:45:17.285 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:45:17.290 +04:00 [DBG] Connection 0HMJL9O0L5TRC established using the following protocol: "Tls12"
2022-08-03 16:45:17.324 +04:00 [DBG] Connection id "0HMJL9O0L5TRB" stopped.
2022-08-03 16:45:17.326 +04:00 [DBG] Connection id "0HMJL9O0L5TRB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:45:17.332 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/2 - -
2022-08-03 16:45:17.334 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:45:17.336 +04:00 [DBG] The request path /Guest/2 does not match a supported file type
2022-08-03 16:45:17.358 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/2'
2022-08-03 16:45:17.363 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/2'
2022-08-03 16:45:17.368 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:45:17.668 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:45:17.671 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:45:17.678 +04:00 [DBG] Authorization was successful.
2022-08-03 16:45:17.683 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:45:17.707 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:45:17.712 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:45:17.713 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:45:17.713 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:45:17.716 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:45:17.717 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:45:17.718 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:45:17.853 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:45:18.971 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:45:18.974 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:45:18.989 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:45:18.993 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:45:18.996 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:45:18.998 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:45:18.999 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:45:19.024 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:45:22.009 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-03 16:45:22.009 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-03 16:45:22.027 +04:00 [DBG] Connection id "0HMJL9O0L5TR8" stopped.
2022-08-03 16:45:23.189 +04:00 [DBG] Connection id "0HMJL9O0L5TR9" stopped.
2022-08-03 16:45:23.264 +04:00 [DBG] Connection id "0HMJL9O0L5TR8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:45:23.309 +04:00 [DBG] Connection id "0HMJL9O0L5TR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:45:24.703 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-03 16:45:25.015 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:45:25.071 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:45:25.112 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2022-08-03 16:45:25.130 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:25.489 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:25.507 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:45:25.608 +04:00 [INF] Executed DbCommand (106ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:45:25.641 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:45:25.650 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:25.659 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:31.803 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:45:31.811 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:45:31.820 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:45:31.821 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:45:31.822 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:31.824 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:31.825 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:45:31.852 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:45:31.856 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:45:31.857 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:31.858 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:45:58.105 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:45:58.110 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:45:58.111 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:45:58.112 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:45:58.113 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:45:58.115 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:45:58.126 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 40405.1623ms
2022-08-03 16:45:58.130 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:45:58.133 +04:00 [DBG] Connection id "0HMJL9O0L5TRC" completed keep alive response.
2022-08-03 16:45:58.138 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:45:58.143 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/2 - - - 200 - application/json;+charset=utf-8 40811.1451ms
2022-08-03 16:46:29.451 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:46:29.608 +04:00 [DBG] Hosting starting
2022-08-03 16:46:29.681 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:46:29.692 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:46:29.701 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:46:29.710 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:46:29.718 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:46:29.730 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:46:29.734 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:46:29.740 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:46:29.743 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:46:29.750 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:46:29.756 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:46:29.762 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:46:29.764 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:46:29.973 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:46:30.018 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:46:30.019 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:46:30.019 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:46:30.020 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:46:30.021 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:46:30.022 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:46:30.023 +04:00 [INF] Hosting environment: Development
2022-08-03 16:46:30.024 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:46:30.025 +04:00 [DBG] Hosting started
2022-08-03 16:46:30.230 +04:00 [DBG] Connection id "0HMJL9OO2JDQF" accepted.
2022-08-03 16:46:30.233 +04:00 [DBG] Connection id "0HMJL9OO2JDQF" started.
2022-08-03 16:46:30.235 +04:00 [DBG] Connection id "0HMJL9OO2JDQF" received FIN.
2022-08-03 16:46:30.247 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:46:30.300 +04:00 [DBG] Connection id "0HMJL9OO2JDQF" stopped.
2022-08-03 16:46:30.304 +04:00 [DBG] Connection id "0HMJL9OO2JDQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:46:30.494 +04:00 [DBG] Connection id "0HMJL9OO2JDQG" accepted.
2022-08-03 16:46:30.496 +04:00 [DBG] Connection id "0HMJL9OO2JDQG" started.
2022-08-03 16:46:30.564 +04:00 [DBG] Connection 0HMJL9OO2JDQG established using the following protocol: "Tls12"
2022-08-03 16:46:30.632 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:46:30.668 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:46:30.752 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:46:30.880 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:46:30.880 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:46:30.885 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.8571ms
2022-08-03 16:46:30.885 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 258.4029ms
2022-08-03 16:46:30.930 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:46:30.962 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.9996ms
2022-08-03 16:46:31.120 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:46:31.249 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.8968ms
2022-08-03 16:46:35.114 +04:00 [DBG] Connection id "0HMJL9OO2JDQH" accepted.
2022-08-03 16:46:35.114 +04:00 [DBG] Connection id "0HMJL9OO2JDQH" received FIN.
2022-08-03 16:46:35.117 +04:00 [DBG] Connection id "0HMJL9OO2JDQH" started.
2022-08-03 16:46:35.118 +04:00 [DBG] Connection id "0HMJL9OO2JDQI" accepted.
2022-08-03 16:46:35.119 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:46:35.120 +04:00 [DBG] Connection id "0HMJL9OO2JDQI" started.
2022-08-03 16:46:35.122 +04:00 [DBG] Connection id "0HMJL9OO2JDQH" stopped.
2022-08-03 16:46:35.124 +04:00 [DBG] Connection id "0HMJL9OO2JDQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:46:35.127 +04:00 [DBG] Connection 0HMJL9OO2JDQI established using the following protocol: "Tls12"
2022-08-03 16:46:35.136 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/2 - -
2022-08-03 16:46:35.139 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:46:35.140 +04:00 [DBG] The request path /Guest/2 does not match a supported file type
2022-08-03 16:46:35.160 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/2'
2022-08-03 16:46:35.165 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/2'
2022-08-03 16:46:35.169 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:46:35.453 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:46:35.456 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:46:35.463 +04:00 [DBG] Authorization was successful.
2022-08-03 16:46:35.465 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:46:35.490 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:46:35.494 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:46:35.495 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:46:35.495 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:46:35.497 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:46:35.497 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:46:35.500 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:46:35.627 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:46:36.403 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:46:36.408 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:46:36.421 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:46:36.424 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:46:36.427 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:46:36.428 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:46:36.429 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:46:36.453 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:46:42.211 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-03 16:46:42.511 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:46:42.578 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:46:42.621 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2022-08-03 16:46:42.642 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:42.946 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:42.963 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:46:43.043 +04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:46:43.069 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:46:43.077 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:43.088 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:46.109 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:46:46.118 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:46:46.126 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:46:46.127 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:46:46.129 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:46.131 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:46.133 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:46:46.160 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:46:46.164 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:46:46.167 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:46:46.168 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:47:40.239 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:47:40.400 +04:00 [DBG] Hosting starting
2022-08-03 16:47:40.456 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:47:40.460 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:47:40.467 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:47:40.476 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:47:40.483 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:47:40.496 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:47:40.502 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:47:40.510 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:47:40.514 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:47:40.522 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:47:40.527 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:47:40.534 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:47:40.536 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:47:40.792 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:47:40.851 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:47:40.852 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:47:40.853 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:47:40.854 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:47:40.856 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:47:40.857 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:47:40.859 +04:00 [INF] Hosting environment: Development
2022-08-03 16:47:40.860 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:47:40.860 +04:00 [DBG] Hosting started
2022-08-03 16:47:41.160 +04:00 [DBG] Connection id "0HMJL9PD71F2N" accepted.
2022-08-03 16:47:41.164 +04:00 [DBG] Connection id "0HMJL9PD71F2O" accepted.
2022-08-03 16:47:41.164 +04:00 [DBG] Connection id "0HMJL9PD71F2N" started.
2022-08-03 16:47:41.165 +04:00 [DBG] Connection id "0HMJL9PD71F2O" started.
2022-08-03 16:47:41.196 +04:00 [DBG] Connection id "0HMJL9PD71F2O" received FIN.
2022-08-03 16:47:41.196 +04:00 [DBG] Connection id "0HMJL9PD71F2N" received FIN.
2022-08-03 16:47:41.219 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:47:41.219 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:47:41.288 +04:00 [DBG] Connection id "0HMJL9PD71F2O" stopped.
2022-08-03 16:47:41.292 +04:00 [DBG] Connection id "0HMJL9PD71F2N" stopped.
2022-08-03 16:47:41.295 +04:00 [DBG] Connection id "0HMJL9PD71F2O" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:47:41.295 +04:00 [DBG] Connection id "0HMJL9PD71F2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:47:41.433 +04:00 [DBG] Connection id "0HMJL9PD71F2P" accepted.
2022-08-03 16:47:41.435 +04:00 [DBG] Connection id "0HMJL9PD71F2P" started.
2022-08-03 16:47:41.492 +04:00 [DBG] Connection 0HMJL9PD71F2P established using the following protocol: "Tls12"
2022-08-03 16:47:41.561 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:47:41.597 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:47:41.684 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:47:41.811 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:47:41.812 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:47:41.817 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 259.2610ms
2022-08-03 16:47:41.817 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.5298ms
2022-08-03 16:47:41.862 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:47:41.913 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.5143ms
2022-08-03 16:47:42.060 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:47:42.180 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.7530ms
2022-08-03 16:47:44.896 +04:00 [DBG] Connection id "0HMJL9PD71F2Q" accepted.
2022-08-03 16:47:44.897 +04:00 [DBG] Connection id "0HMJL9PD71F2Q" received FIN.
2022-08-03 16:47:44.898 +04:00 [DBG] Connection id "0HMJL9PD71F2Q" started.
2022-08-03 16:47:44.899 +04:00 [DBG] Connection id "0HMJL9PD71F2R" accepted.
2022-08-03 16:47:44.902 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:47:44.903 +04:00 [DBG] Connection id "0HMJL9PD71F2R" started.
2022-08-03 16:47:44.905 +04:00 [DBG] Connection id "0HMJL9PD71F2Q" stopped.
2022-08-03 16:47:44.906 +04:00 [DBG] Connection id "0HMJL9PD71F2Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:47:44.910 +04:00 [DBG] Connection 0HMJL9PD71F2R established using the following protocol: "Tls12"
2022-08-03 16:47:44.919 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/2 - -
2022-08-03 16:47:44.921 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:47:44.922 +04:00 [DBG] The request path /Guest/2 does not match a supported file type
2022-08-03 16:47:44.945 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/2'
2022-08-03 16:47:44.949 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/2'
2022-08-03 16:47:44.953 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:47:45.216 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:47:45.218 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:47:45.224 +04:00 [DBG] Authorization was successful.
2022-08-03 16:47:45.226 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:47:45.250 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:47:45.254 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:47:45.255 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:47:45.257 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:47:45.259 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:47:45.260 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:47:45.263 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:47:45.397 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:47:46.196 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:47:46.201 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:47:46.214 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:47:46.217 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:47:46.219 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:47:46.220 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:47:46.221 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:47:46.242 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:47:50.676 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-03 16:47:50.964 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:47:51.022 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:47:51.062 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2022-08-03 16:47:51.083 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:47:51.383 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:47:51.401 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:47:51.488 +04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:47:51.514 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:47:51.522 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:47:51.536 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:47:56.482 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:47:56.489 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:47:56.489 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:47:56.490 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:47:56.492 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:47:56.493 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:47:56.591 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 11325.1748ms
2022-08-03 16:47:56.595 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:47:56.599 +04:00 [DBG] Connection id "0HMJL9PD71F2R" completed keep alive response.
2022-08-03 16:47:56.605 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:47:56.609 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/2 - - - 200 - application/json;+charset=utf-8 11690.2144ms
2022-08-03 16:48:05.090 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/1005 - -
2022-08-03 16:48:05.090 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:48:05.093 +04:00 [DBG] The request path /Guest/1005 does not match a supported file type
2022-08-03 16:48:05.094 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-03 16:48:05.095 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-03 16:48:05.096 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:48:05.097 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:48:05.097 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:48:05.099 +04:00 [DBG] Authorization was successful.
2022-08-03 16:48:05.099 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:48:05.100 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:48:05.102 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:48:05.102 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:48:05.103 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:48:05.105 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:48:05.106 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:48:05.108 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:48:05.136 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:48:05.138 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:48:05.140 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:48:05.141 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:48:05.142 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:48:05.142 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:48:05.143 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:48:05.144 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:48:10.601 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:48:10.602 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:48:10.603 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:10.605 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:10.606 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:48:10.635 +04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:48:10.670 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:48:10.715 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:48:10.717 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:10.720 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:18.360 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:48:18.367 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:48:18.375 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:48:18.376 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:48:18.377 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:18.378 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:18.378 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:48:18.381 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:48:18.407 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:48:18.423 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:48:18.425 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:18.426 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:48:43.839 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:48:43.842 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:48:43.843 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:48:43.843 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:48:43.844 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:48:43.845 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:48:43.849 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 38740.9087ms
2022-08-03 16:48:43.850 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:48:43.853 +04:00 [DBG] Connection id "0HMJL9PD71F2R" completed keep alive response.
2022-08-03 16:48:43.854 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:48:43.855 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/1005 - - - 200 - application/json;+charset=utf-8 38765.6097ms
2022-08-03 16:49:20.298 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 16:49:20.395 +04:00 [DBG] Hosting starting
2022-08-03 16:49:20.436 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 16:49:20.440 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 16:49:20.445 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 16:49:20.450 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 16:49:20.455 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 16:49:20.461 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 16:49:20.464 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:49:20.467 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 16:49:20.470 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 16:49:20.475 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 16:49:20.478 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 16:49:20.482 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 16:49:20.484 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 16:49:20.634 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 16:49:20.677 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 16:49:20.678 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 16:49:20.679 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 16:49:20.680 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 16:49:20.681 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 16:49:20.682 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 16:49:20.682 +04:00 [INF] Hosting environment: Development
2022-08-03 16:49:20.683 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 16:49:20.684 +04:00 [DBG] Hosting started
2022-08-03 16:49:21.086 +04:00 [DBG] Connection id "0HMJL9QB00GC0" accepted.
2022-08-03 16:49:21.088 +04:00 [DBG] Connection id "0HMJL9QB00GC0" started.
2022-08-03 16:49:21.090 +04:00 [DBG] Connection id "0HMJL9QB00GC1" received FIN.
2022-08-03 16:49:21.091 +04:00 [DBG] Connection id "0HMJL9QB00GC0" received FIN.
2022-08-03 16:49:21.093 +04:00 [DBG] Connection id "0HMJL9QB00GC1" accepted.
2022-08-03 16:49:21.094 +04:00 [DBG] Connection id "0HMJL9QB00GC1" started.
2022-08-03 16:49:21.106 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:49:21.106 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:49:21.158 +04:00 [DBG] Connection id "0HMJL9QB00GC1" stopped.
2022-08-03 16:49:21.158 +04:00 [DBG] Connection id "0HMJL9QB00GC0" stopped.
2022-08-03 16:49:21.162 +04:00 [DBG] Connection id "0HMJL9QB00GC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:49:21.161 +04:00 [DBG] Connection id "0HMJL9QB00GC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:49:21.302 +04:00 [DBG] Connection id "0HMJL9QB00GC2" accepted.
2022-08-03 16:49:21.309 +04:00 [DBG] Connection id "0HMJL9QB00GC2" started.
2022-08-03 16:49:21.385 +04:00 [DBG] Connection 0HMJL9QB00GC2 established using the following protocol: "Tls12"
2022-08-03 16:49:21.455 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 16:49:21.491 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 16:49:21.578 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 16:49:21.717 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 16:49:21.721 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 16:49:21.724 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 274.0857ms
2022-08-03 16:49:21.724 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.6598ms
2022-08-03 16:49:21.770 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 16:49:21.796 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.9177ms
2022-08-03 16:49:21.967 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 16:49:22.085 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.1979ms
2022-08-03 16:49:24.089 +04:00 [DBG] Connection id "0HMJL9QB00GC3" accepted.
2022-08-03 16:49:24.089 +04:00 [DBG] Connection id "0HMJL9QB00GC3" received FIN.
2022-08-03 16:49:24.092 +04:00 [DBG] Connection id "0HMJL9QB00GC3" started.
2022-08-03 16:49:24.092 +04:00 [DBG] Connection id "0HMJL9QB00GC4" accepted.
2022-08-03 16:49:24.095 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 16:49:24.096 +04:00 [DBG] Connection id "0HMJL9QB00GC4" started.
2022-08-03 16:49:24.100 +04:00 [DBG] Connection id "0HMJL9QB00GC3" stopped.
2022-08-03 16:49:24.101 +04:00 [DBG] Connection id "0HMJL9QB00GC3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 16:49:24.109 +04:00 [DBG] Connection 0HMJL9QB00GC4 established using the following protocol: "Tls12"
2022-08-03 16:49:24.119 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/1005 - -
2022-08-03 16:49:24.122 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:49:24.123 +04:00 [DBG] The request path /Guest/1005 does not match a supported file type
2022-08-03 16:49:24.145 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1005'
2022-08-03 16:49:24.151 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1005'
2022-08-03 16:49:24.154 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:49:24.434 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:49:24.437 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:49:24.445 +04:00 [DBG] Authorization was successful.
2022-08-03 16:49:24.447 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:49:24.472 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:49:24.476 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:49:24.477 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:49:24.479 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:49:24.480 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:49:24.481 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:49:24.483 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:49:24.616 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 16:49:25.385 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:49:25.390 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:49:25.405 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:49:25.408 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:49:25.410 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:49:25.411 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:49:25.412 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:49:25.435 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:49:30.532 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-03 16:49:30.819 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 16:49:30.878 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:49:30.922 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2022-08-03 16:49:30.941 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:31.226 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:31.245 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:49:31.329 +04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:49:31.376 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:49:31.428 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:49:31.436 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:31.446 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:39.801 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 16:49:39.809 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:49:39.815 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:49:39.816 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:49:39.817 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:39.819 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:39.821 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:49:39.847 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:49:39.853 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:49:39.868 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:49:39.870 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:39.873 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:47.165 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:49:47.172 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:49:47.173 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:49:47.174 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:49:47.176 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:49:47.178 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:49:47.197 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 22705.3701ms
2022-08-03 16:49:47.201 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:49:47.204 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:49:47.209 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:49:47.213 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/1005 - - - 200 - application/json;+charset=utf-8 23093.8502ms
2022-08-03 16:49:54.128 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/1006 - -
2022-08-03 16:49:54.130 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:49:54.131 +04:00 [DBG] The request path /Guest/1006 does not match a supported file type
2022-08-03 16:49:54.133 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1006'
2022-08-03 16:49:54.134 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1006'
2022-08-03 16:49:54.137 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:49:54.138 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:49:54.139 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:49:54.140 +04:00 [DBG] Authorization was successful.
2022-08-03 16:49:54.141 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:49:54.143 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:49:54.145 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:49:54.146 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:49:54.147 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:49:54.149 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:49:54.150 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:49:54.151 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:49:54.179 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:49:54.183 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:49:54.184 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:49:54.186 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:49:54.187 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:49:54.189 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:49:54.190 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:49:54.191 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:49:56.946 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:49:56.947 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:49:56.949 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:56.949 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:56.950 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:49:56.956 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:49:56.977 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:49:56.977 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:49:56.978 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:50:01.731 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:50:01.734 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:50:01.735 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:50:01.736 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:50:01.737 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:50:01.739 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:50:01.741 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 7590.3799ms
2022-08-03 16:50:01.743 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:50:01.744 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:50:01.744 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:50:01.745 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/1006 - - - 200 - application/json;+charset=utf-8 7617.0032ms
2022-08-03 16:51:13.796 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Register application/json 119
2022-08-03 16:51:13.797 +04:00 [DBG] POST requests are not supported
2022-08-03 16:51:13.799 +04:00 [DBG] POST requests are not supported
2022-08-03 16:51:13.799 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-03 16:51:13.800 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-03 16:51:13.802 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-03 16:51:13.815 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-03 16:51:13.817 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-03 16:51:13.820 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-03 16:51:13.824 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:51:13.825 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:51:13.826 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:51:13.828 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:51:13.829 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:51:13.830 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:51:17.002 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:51:17.007 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:51:17.008 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-03 16:51:17.011 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-03 16:51:17.013 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:51:17.019 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000004": started reading request body.
2022-08-03 16:51:17.021 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000004": done reading request body.
2022-08-03 16:51:17.028 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-03 16:51:17.029 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-03 16:51:17.030 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-03 16:51:17.031 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-03 16:51:17.035 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-03 16:51:18.690 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:51:18.716 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:51:18.726 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-03 16:51:18.731 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-03 16:51:18.743 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-03 16:51:18.764 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:18.766 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:18.770 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-03 16:51:18.782 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-03 16:51:18.833 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:51:18.834 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:51:18.837 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-03 16:51:18.846 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-03 16:51:18.881 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-03 16:51:18.889 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:51:18.897 +04:00 [DBG] Committing transaction.
2022-08-03 16:51:18.904 +04:00 [DBG] Committed transaction.
2022-08-03 16:51:18.910 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:18.912 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:18.917 +04:00 [DBG] Disposing transaction.
2022-08-03 16:51:18.930 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:51:18.936 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-03 16:51:18.942 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-03 16:51:18.944 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 5113.3012ms
2022-08-03 16:51:18.945 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-03 16:51:18.946 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:51:18.947 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:51:18.947 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Register application/json 119 - 200 0 - 5151.8817ms
2022-08-03 16:51:28.696 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-03 16:51:28.697 +04:00 [DBG] POST requests are not supported
2022-08-03 16:51:28.698 +04:00 [DBG] POST requests are not supported
2022-08-03 16:51:28.699 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-03 16:51:28.700 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-03 16:51:28.703 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:51:28.705 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-03 16:51:28.706 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:51:28.711 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-03 16:51:28.714 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:51:28.715 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:51:28.716 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:51:28.718 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:51:28.719 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:51:28.721 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:51:28.722 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:51:28.724 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:51:28.725 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:51:28.726 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-03 16:51:28.727 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:51:28.729 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000005": started reading request body.
2022-08-03 16:51:28.730 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000005": done reading request body.
2022-08-03 16:51:28.732 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-03 16:51:28.732 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:51:28.734 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:51:28.735 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:51:28.740 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:51:30.495 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-03 16:51:30.500 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 16:51:30.511 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:51:30.514 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-03 16:51:30.515 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:30.516 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:30.517 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:51:30.523 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:51:30.526 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:51:30.527 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:51:30.528 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:30.529 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:51:30.559 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:51:30.563 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:51:30.564 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:51:30.565 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:51:30.566 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:51:30.569 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-03 16:51:30.572 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 1851.0703ms
2022-08-03 16:51:30.573 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:51:30.574 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:51:30.575 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:51:30.576 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 1879.4640ms
2022-08-03 16:51:57.874 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 257
2022-08-03 16:51:57.879 +04:00 [DBG] POST requests are not supported
2022-08-03 16:51:57.880 +04:00 [DBG] POST requests are not supported
2022-08-03 16:51:57.881 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/AddApartment'
2022-08-03 16:51:57.882 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)' with route pattern 'Profile/AddApartment' is valid for the request path '/Profile/AddApartment'
2022-08-03 16:51:57.884 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-03 16:51:57.884 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:51:57.885 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:51:57.886 +04:00 [DBG] Authorization was successful.
2022-08-03 16:51:57.887 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-03 16:51:57.890 +04:00 [INF] Route matched with {action = "AddApartment", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddApartment(BookingApi.Models.Request.ApartmentRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-03 16:51:57.892 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:51:57.894 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:51:57.896 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:51:57.898 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:51:57.899 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:51:57.901 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-03 16:51:57.904 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:51:57.909 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-03 16:51:57.910 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-03 16:51:57.911 +04:00 [DBG] Attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' using the name '' in request data ...
2022-08-03 16:51:57.912 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:51:57.914 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000006": started reading request body.
2022-08-03 16:51:57.915 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000006": done reading request body.
2022-08-03 16:51:57.932 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ApartmentRequest'
2022-08-03 16:51:57.933 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-03 16:51:57.935 +04:00 [DBG] Done attempting to bind parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-03 16:51:57.936 +04:00 [DBG] Attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest' ...
2022-08-03 16:51:57.983 +04:00 [DBG] Done attempting to validate the bound parameter 'apartment' of type 'BookingApi.Models.Request.ApartmentRequest'.
2022-08-03 16:52:01.384 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Apartment'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:01.389 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:01.391 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-03 16:52:01.392 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-03 16:52:01.398 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-03 16:52:01.399 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:01.401 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:01.402 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-03 16:52:01.403 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-03 16:52:01.406 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:52:01.407 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:52:01.408 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-03 16:52:01.425 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartments] ([Address], [City], [Description], [DistanceToCenter], [From], [HostId], [IsAvailable], [NumbOfBeds], [Photo], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Apartments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-03 16:52:01.430 +04:00 [DBG] The foreign key property 'Apartment.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-03 16:52:01.433 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:52:01.434 +04:00 [DBG] Committing transaction.
2022-08-03 16:52:01.435 +04:00 [DBG] Committed transaction.
2022-08-03 16:52:01.436 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:01.436 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:01.438 +04:00 [DBG] Disposing transaction.
2022-08-03 16:52:01.439 +04:00 [DBG] An entity of type 'Apartment' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:01.441 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-03 16:52:01.442 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-03 16:52:01.443 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.AddApartment (BookingApi) in 3541.7759ms
2022-08-03 16:52:01.444 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.AddApartment (BookingApi)'
2022-08-03 16:52:01.444 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:52:01.445 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:52:01.446 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Profile/AddApartment application/json 257 - 200 0 - 3572.5038ms
2022-08-03 16:52:19.612 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-03 16:52:19.613 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:19.614 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:19.615 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-03 16:52:19.618 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-03 16:52:19.619 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:52:19.620 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-03 16:52:19.620 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:52:19.622 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-03 16:52:19.626 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:52:19.627 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:52:19.628 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:52:19.630 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:52:19.632 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:52:19.634 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:52:19.635 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:52:19.637 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:52:19.638 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:52:19.640 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-03 16:52:19.641 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:52:19.642 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000007": started reading request body.
2022-08-03 16:52:19.643 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000007": done reading request body.
2022-08-03 16:52:19.644 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-03 16:52:19.645 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:52:19.645 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:52:19.646 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:52:19.647 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:52:22.242 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:52:22.244 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-03 16:52:22.245 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:22.246 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:22.246 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:52:22.250 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:52:22.252 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:22.253 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:52:22.253 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:22.254 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:22.256 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:52:22.258 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:52:22.258 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:52:22.259 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:52:22.259 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:52:22.260 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-03 16:52:22.261 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 2627.462ms
2022-08-03 16:52:22.262 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:52:22.262 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:52:22.263 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:52:22.264 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 2651.1963ms
2022-08-03 16:52:34.084 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 215
2022-08-03 16:52:34.086 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:34.088 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:34.089 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-03 16:52:34.090 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-03 16:52:34.091 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-03 16:52:34.093 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/2/2022 6:13:56 AM', Current time: '8/3/2022 12:52:34 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-03 16:52:34.101 +04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '8/2/2022 6:13:56 AM', Current time: '8/3/2022 12:52:34 PM'.
2022-08-03 16:52:34.103 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-08-03 16:52:34.113 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-08-03 16:52:34.115 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:52:34.117 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 215 - 401 0 - 32.1635ms
2022-08-03 16:52:34.117 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000008": started reading request body.
2022-08-03 16:52:34.118 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000008": done reading request body.
2022-08-03 16:52:40.575 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 215
2022-08-03 16:52:40.576 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:40.577 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:40.578 +04:00 [DBG] 1 candidate(s) found for the request path '/Search/Booking'
2022-08-03 16:52:40.579 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)' with route pattern 'Search/Booking' is valid for the request path '/Search/Booking'
2022-08-03 16:52:40.580 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-03 16:52:40.581 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:52:40.582 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:52:40.582 +04:00 [DBG] Authorization was successful.
2022-08-03 16:52:40.583 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-03 16:52:40.586 +04:00 [INF] Route matched with {action = "Booking", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Booking(BookingApi.Models.Request.OrderRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-03 16:52:40.588 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:52:40.589 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:52:40.590 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:52:40.592 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:52:40.593 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:52:40.594 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-03 16:52:40.596 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:52:40.597 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-03 16:52:40.598 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-03 16:52:40.599 +04:00 [DBG] Attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' using the name '' in request data ...
2022-08-03 16:52:40.600 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:52:40.601 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000009": started reading request body.
2022-08-03 16:52:40.602 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:00000009": done reading request body.
2022-08-03 16:52:40.604 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.OrderRequest'
2022-08-03 16:52:40.605 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-03 16:52:40.607 +04:00 [DBG] Done attempting to bind parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-03 16:52:40.608 +04:00 [DBG] Attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest' ...
2022-08-03 16:52:40.627 +04:00 [DBG] Done attempting to validate the bound parameter 'orderRequest' of type 'BookingApi.Models.Request.OrderRequest'.
2022-08-03 16:52:40.636 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'Id.Order'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:40.640 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:40.642 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-03 16:52:40.642 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-03 16:52:40.646 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-03 16:52:40.647 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:40.649 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:40.650 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-03 16:52:40.651 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-03 16:52:40.652 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:52:40.652 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:52:40.653 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-03 16:52:40.659 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([City], [CustomerId], [FirstName], [From], [HostId], [LastName], [Status], [To])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-08-03 16:52:40.665 +04:00 [DBG] The foreign key property 'Order.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-03 16:52:40.667 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:52:40.667 +04:00 [DBG] Committing transaction.
2022-08-03 16:52:40.668 +04:00 [DBG] Committed transaction.
2022-08-03 16:52:40.669 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:40.670 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:40.670 +04:00 [DBG] Disposing transaction.
2022-08-03 16:52:40.672 +04:00 [DBG] An entity of type 'Order' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:40.673 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-03 16:52:40.674 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-03 16:52:40.675 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.Booking (BookingApi) in 80.8601ms
2022-08-03 16:52:40.676 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.Booking (BookingApi)'
2022-08-03 16:52:40.677 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:52:40.677 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:52:40.678 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Search/Booking application/json 215 - 200 0 - 103.6719ms
2022-08-03 16:52:51.641 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-03 16:52:51.643 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:51.644 +04:00 [DBG] POST requests are not supported
2022-08-03 16:52:51.645 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-03 16:52:51.646 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-03 16:52:51.647 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:52:51.648 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-03 16:52:51.649 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:52:51.650 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-03 16:52:51.653 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:52:51.654 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:52:51.655 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:52:51.657 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:52:51.658 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:52:51.659 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:52:51.660 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:52:51.661 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 16:52:51.662 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:52:51.663 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-03 16:52:51.665 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 16:52:51.665 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:0000000A": started reading request body.
2022-08-03 16:52:51.666 +04:00 [DBG] Connection id "0HMJL9QB00GC4", Request id "0HMJL9QB00GC4:0000000A": done reading request body.
2022-08-03 16:52:51.667 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-03 16:52:51.668 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:52:51.669 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:52:51.670 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 16:52:51.671 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 16:52:54.056 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:52:54.058 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:52:54.059 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:54.060 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:54.061 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:52:54.064 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 16:52:54.067 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:52:54.068 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:52:54.069 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:54.070 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:52:54.071 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:52:54.074 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:52:54.074 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:52:54.075 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:52:54.076 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:52:54.077 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-03 16:52:54.078 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 2419.2002ms
2022-08-03 16:52:54.079 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 16:52:54.081 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:52:54.082 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:52:54.083 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 2441.2417ms
2022-08-03 16:53:06.196 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/1006 - -
2022-08-03 16:53:06.198 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:53:06.200 +04:00 [DBG] The request path /Guest/1006 does not match a supported file type
2022-08-03 16:53:06.200 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1006'
2022-08-03 16:53:06.201 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1006'
2022-08-03 16:53:06.203 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:53:06.203 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:53:06.204 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:53:06.206 +04:00 [DBG] Authorization was successful.
2022-08-03 16:53:06.206 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:53:06.207 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:53:06.209 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:53:06.210 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:53:06.211 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:53:06.213 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:53:06.214 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:53:06.215 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:53:06.217 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:53:06.218 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:53:06.219 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:53:06.221 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:53:06.223 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:53:06.224 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:53:06.224 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:53:06.225 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:53:10.067 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:53:10.068 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:53:10.069 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:10.070 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:10.071 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:53:10.076 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:53:10.097 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:53:10.098 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:10.099 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:26.308 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:53:26.315 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:53:26.316 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:53:26.316 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:53:26.317 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:53:26.318 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:53:26.318 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 20103.632ms
2022-08-03 16:53:26.319 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:53:26.320 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:53:26.320 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:53:26.321 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/1006 - - - 200 - application/json;+charset=utf-8 20124.7139ms
2022-08-03 16:53:47.883 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Guest/1008 - -
2022-08-03 16:53:47.889 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 16:53:47.890 +04:00 [DBG] The request path /Guest/1008 does not match a supported file type
2022-08-03 16:53:47.891 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/1008'
2022-08-03 16:53:47.892 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/1008'
2022-08-03 16:53:47.893 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:53:47.894 +04:00 [DBG] Successfully validated the token.
2022-08-03 16:53:47.894 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 16:53:47.895 +04:00 [DBG] Authorization was successful.
2022-08-03 16:53:47.896 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:53:47.896 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-03 16:53:47.899 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 16:53:47.900 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 16:53:47.901 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 16:53:47.903 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 16:53:47.904 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 16:53:47.905 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:53:47.906 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 16:53:47.908 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-03 16:53:47.909 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:53:47.909 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-03 16:53:47.910 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:53:47.911 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:53:47.911 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-03 16:53:47.912 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-03 16:53:52.539 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:53:52.540 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 16:53:52.542 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:52.544 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:52.545 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:53:52.549 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-03 16:53:52.603 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:53:52.604 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:53:52.604 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:52.605 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:55.972 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 16:53:55.973 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 16:53:55.974 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:55.975 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:55.976 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:53:55.981 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 16:53:56.002 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 16:53:56.003 +04:00 [DBG] A data reader was disposed.
2022-08-03 16:53:56.003 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:53:56.004 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 16:54:06.334 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 16:54:06.343 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 16:54:06.343 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 16:54:06.344 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 16:54:06.345 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 16:54:06.346 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 16:54:06.348 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 18442.352ms
2022-08-03 16:54:06.349 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-03 16:54:06.351 +04:00 [DBG] Connection id "0HMJL9QB00GC4" completed keep alive response.
2022-08-03 16:54:06.352 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 16:54:06.353 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Guest/1008 - - - 200 - application/json;+charset=utf-8 18469.8703ms
2022-08-03 17:40:05.213 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-03 17:40:05.365 +04:00 [DBG] Hosting starting
2022-08-03 17:40:05.423 +04:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-03 17:40:05.427 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74607914-250c-4ef9-92bc-e41fb656f379.xml'.
2022-08-03 17:40:05.433 +04:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-74c0097c-79d0-40fc-a7a6-07ef07a4f70a.xml'.
2022-08-03 17:40:05.439 +04:00 [DBG] Found key {74607914-250c-4ef9-92bc-e41fb656f379}.
2022-08-03 17:40:05.444 +04:00 [DBG] Found key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a}.
2022-08-03 17:40:05.452 +04:00 [DBG] Considering key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} with expiration date 2022-09-17 09:24:28Z as default key.
2022-08-03 17:40:05.455 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 17:40:05.461 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-03 17:40:05.463 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-03 17:40:05.467 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-03 17:40:05.470 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-03 17:40:05.473 +04:00 [DBG] Using key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} as the default key.
2022-08-03 17:40:05.475 +04:00 [DBG] Key ring with default key {74c0097c-79d0-40fc-a7a6-07ef07a4f70a} was loaded during application startup.
2022-08-03 17:40:05.697 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: C941459ABC5F4E53AFC6B719D581A1F0B943316D)
2022-08-03 17:40:05.751 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-03 17:40:05.752 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-03 17:40:05.754 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-03 17:40:05.755 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-03 17:40:05.757 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-03 17:40:05.758 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-03 17:40:05.759 +04:00 [INF] Hosting environment: Development
2022-08-03 17:40:05.761 +04:00 [INF] Content root path: D:\Albert\AltexProject\BookingApi\BookingApi\
2022-08-03 17:40:05.763 +04:00 [DBG] Hosting started
2022-08-03 17:40:06.178 +04:00 [DBG] Connection id "0HMJLAMMG8KFE" accepted.
2022-08-03 17:40:06.180 +04:00 [DBG] Connection id "0HMJLAMMG8KFE" started.
2022-08-03 17:40:06.183 +04:00 [DBG] Connection id "0HMJLAMMG8KFF" accepted.
2022-08-03 17:40:06.184 +04:00 [DBG] Connection id "0HMJLAMMG8KFF" started.
2022-08-03 17:40:06.507 +04:00 [DBG] Connection id "0HMJLAMMG8KFG" accepted.
2022-08-03 17:40:06.510 +04:00 [DBG] Connection id "0HMJLAMMG8KFG" started.
2022-08-03 17:40:06.561 +04:00 [DBG] Connection 0HMJLAMMG8KFG established using the following protocol: "Tls12"
2022-08-03 17:40:06.607 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-03 17:40:06.644 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-03 17:40:06.729 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-03 17:40:06.894 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-03 17:40:06.899 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 294.6319ms
2022-08-03 17:40:06.947 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-03 17:40:06.953 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.2219ms
2022-08-03 17:40:06.957 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-03 17:40:07.006 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.7788ms
2022-08-03 17:40:07.169 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-03 17:40:07.267 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.8998ms
2022-08-03 17:40:13.266 +04:00 [DBG] Connection id "0HMJLAMMG8KFH" accepted.
2022-08-03 17:40:13.267 +04:00 [DBG] Connection id "0HMJLAMMG8KFH" received FIN.
2022-08-03 17:40:13.268 +04:00 [DBG] Connection id "0HMJLAMMG8KFH" started.
2022-08-03 17:40:13.268 +04:00 [DBG] Connection id "0HMJLAMMG8KFI" accepted.
2022-08-03 17:40:13.271 +04:00 [DBG] Connection id "0HMJLAMMG8KFI" started.
2022-08-03 17:40:13.272 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-03 17:40:13.277 +04:00 [DBG] Connection 0HMJLAMMG8KFI established using the following protocol: "Tls12"
2022-08-03 17:40:13.313 +04:00 [DBG] Connection id "0HMJLAMMG8KFH" stopped.
2022-08-03 17:40:13.315 +04:00 [DBG] Connection id "0HMJLAMMG8KFH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 17:40:13.319 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64
2022-08-03 17:40:13.323 +04:00 [DBG] POST requests are not supported
2022-08-03 17:40:13.324 +04:00 [DBG] POST requests are not supported
2022-08-03 17:40:13.349 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-03 17:40:13.354 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-03 17:40:13.356 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 17:40:13.432 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-03 17:40:13.436 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 17:40:13.460 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-03 17:40:13.465 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 17:40:13.466 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 17:40:13.467 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 17:40:13.468 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 17:40:13.469 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 17:40:13.470 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 17:40:13.616 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-03 17:40:14.403 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 17:40:14.411 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-03 17:40:14.425 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 17:40:14.428 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-03 17:40:14.431 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-03 17:40:14.437 +04:00 [DBG] Connection id "0HMJLAMMG8KFI", Request id "0HMJLAMMG8KFI:00000002": started reading request body.
2022-08-03 17:40:14.439 +04:00 [DBG] Connection id "0HMJLAMMG8KFI", Request id "0HMJLAMMG8KFI:00000002": done reading request body.
2022-08-03 17:40:14.445 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-03 17:40:14.446 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 17:40:14.448 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 17:40:14.449 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-03 17:40:14.472 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-03 17:40:17.542 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-03 17:40:17.543 +04:00 [DBG] Connection id "0HMJLAMMG8KFF" stopped.
2022-08-03 17:40:17.544 +04:00 [DBG] Connection id "0HMJLAMMG8KFF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 17:40:17.556 +04:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-03 17:40:17.557 +04:00 [DBG] Connection id "0HMJLAMMG8KFE" stopped.
2022-08-03 17:40:17.558 +04:00 [DBG] Connection id "0HMJLAMMG8KFE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-03 17:40:17.648 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-03 17:40:17.923 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 17:40:17.994 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 17:40:18.037 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2022-08-03 17:40:18.055 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:18.331 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:18.347 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 17:40:18.425 +04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-03 17:40:18.479 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:18.516 +04:00 [DBG] A data reader was disposed.
2022-08-03 17:40:18.524 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:18.535 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:18.691 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 17:40:18.696 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 17:40:18.697 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 17:40:18.698 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 17:40:18.699 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 17:40:18.700 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-03 17:40:18.709 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 5235.996ms
2022-08-03 17:40:18.712 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-03 17:40:18.713 +04:00 [DBG] Connection id "0HMJLAMMG8KFI" completed keep alive response.
2022-08-03 17:40:18.719 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 17:40:18.723 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7058/Account/Login application/json 64 - 200 - application/json;+charset=utf-8 5404.4983ms
2022-08-03 17:40:33.536 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7058/Booking/1006 - -
2022-08-03 17:40:33.538 +04:00 [DBG] The request path  does not match the path filter
2022-08-03 17:40:33.539 +04:00 [DBG] The request path /Booking/1006 does not match a supported file type
2022-08-03 17:40:33.542 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/1006'
2022-08-03 17:40:33.544 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/1006'
2022-08-03 17:40:33.545 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 17:40:33.607 +04:00 [DBG] Successfully validated the token.
2022-08-03 17:40:33.610 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-03 17:40:33.616 +04:00 [DBG] Authorization was successful.
2022-08-03 17:40:33.619 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 17:40:33.623 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-03 17:40:33.625 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-03 17:40:33.626 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-03 17:40:33.628 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-03 17:40:33.629 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-03 17:40:33.630 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-03 17:40:33.631 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 17:40:33.659 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-03 17:40:33.662 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-03 17:40:33.663 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-03 17:40:33.664 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-03 17:40:33.666 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 17:40:33.667 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-03 17:40:33.667 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-03 17:40:33.669 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-03 17:40:37.325 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-03 17:40:37.330 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-03 17:40:37.336 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 17:40:37.337 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-03 17:40:37.339 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.340 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.342 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 17:40:37.350 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-03 17:40:37.356 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:37.372 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:37.373 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:37.375 +04:00 [DBG] A data reader was disposed.
2022-08-03 17:40:37.376 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.377 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.380 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-08-03 17:40:37.385 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-03 17:40:37.388 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 17:40:37.388 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 17:40:37.389 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.390 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.390 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 17:40:37.394 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 17:40:37.398 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:37.411 +04:00 [DBG] A data reader was disposed.
2022-08-03 17:40:37.412 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.412 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.416 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 17:40:37.417 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 17:40:37.418 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.419 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.420 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 17:40:37.422 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 17:40:37.424 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:37.425 +04:00 [DBG] A data reader was disposed.
2022-08-03 17:40:37.426 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.427 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.428 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-03 17:40:37.429 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-03 17:40:37.430 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.431 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.432 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 17:40:37.434 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-08-03 17:40:37.436 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-03 17:40:37.437 +04:00 [DBG] A data reader was disposed.
2022-08-03 17:40:37.437 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.438 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-03 17:40:37.439 +04:00 [INF] GetBookings successfully
2022-08-03 17:40:37.538 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-03 17:40:37.543 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-03 17:40:37.543 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-03 17:40:37.544 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-03 17:40:37.546 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-03 17:40:37.547 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-03 17:40:37.554 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 3922.4617ms
2022-08-03 17:40:37.555 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-03 17:40:37.556 +04:00 [DBG] Connection id "0HMJLAMMG8KFI" completed keep alive response.
2022-08-03 17:40:37.557 +04:00 [DBG] 'BookingContext' disposed.
2022-08-03 17:40:37.558 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7058/Booking/1006 - - - 200 - application/json;+charset=utf-8 4021.9797ms
