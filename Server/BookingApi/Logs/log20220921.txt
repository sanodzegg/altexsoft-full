2022-09-21 12:54:16.304 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-21 12:54:16.429 +04:00 [DBG] Hosting starting
2022-09-21 12:54:17.112 +04:00 [INF] User profile is available. Using 'C:\Users\sanog\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-21 12:54:17.117 +04:00 [DBG] Reading data from file 'C:\Users\sanog\AppData\Local\ASP.NET\DataProtection-Keys\key-9c915bfe-be80-4a22-9eed-b01f38659855.xml'.
2022-09-21 12:54:17.612 +04:00 [DBG] Found key {9c915bfe-be80-4a22-9eed-b01f38659855}.
2022-09-21 12:54:17.625 +04:00 [DBG] Considering key {9c915bfe-be80-4a22-9eed-b01f38659855} with expiration date 2022-10-25 17:49:22Z as default key.
2022-09-21 12:54:17.628 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-09-21 12:54:17.633 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-09-21 12:54:17.635 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-09-21 12:54:17.640 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-09-21 12:54:17.643 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-09-21 12:54:17.650 +04:00 [DBG] Using key {9c915bfe-be80-4a22-9eed-b01f38659855} as the default key.
2022-09-21 12:54:17.652 +04:00 [DBG] Key ring with default key {9c915bfe-be80-4a22-9eed-b01f38659855} was loaded during application startup.
2022-09-21 12:54:18.511 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 640BC01496AD2A71BC20798282EADD809C1BED8A)
2022-09-21 12:54:18.548 +04:00 [INF] Now listening on: https://localhost:7058
2022-09-21 12:54:18.550 +04:00 [INF] Now listening on: http://localhost:5058
2022-09-21 12:54:18.551 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-09-21 12:54:18.554 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-09-21 12:54:18.555 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-09-21 12:54:18.556 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-21 12:54:18.557 +04:00 [INF] Hosting environment: Development
2022-09-21 12:54:18.559 +04:00 [INF] Content root path: D:\Users\sanog\Desktop\BookingApi\BookingApi\
2022-09-21 12:54:18.560 +04:00 [DBG] Hosting started
2022-09-21 12:54:18.577 +04:00 [DBG] Connection id "0HMKRLRF7SBAE" received FIN.
2022-09-21 12:54:18.583 +04:00 [DBG] Connection id "0HMKRLRF7SBAE" accepted.
2022-09-21 12:54:18.585 +04:00 [DBG] Connection id "0HMKRLRF7SBAE" started.
2022-09-21 12:54:18.601 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:54:18.728 +04:00 [DBG] Connection id "0HMKRLRF7SBAF" accepted.
2022-09-21 12:54:20.676 +04:00 [DBG] Connection id "0HMKRLRF7SBAF" started.
2022-09-21 12:54:20.677 +04:00 [DBG] Connection id "0HMKRLRF7SBAE" stopped.
2022-09-21 12:54:20.681 +04:00 [DBG] Connection id "0HMKRLRF7SBAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:54:21.330 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:54:21.342 +04:00 [DBG] Connection id "0HMKRLRF7SBAF" stopped.
2022-09-21 12:54:21.343 +04:00 [DBG] Connection id "0HMKRLRF7SBAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:54:21.431 +04:00 [DBG] Connection id "0HMKRLRF7SBAG" accepted.
2022-09-21 12:54:21.432 +04:00 [DBG] Connection id "0HMKRLRF7SBAG" started.
2022-09-21 12:54:21.455 +04:00 [DBG] Connection 0HMKRLRF7SBAG established using the following protocol: "Tls12"
2022-09-21 12:54:21.498 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger - -
2022-09-21 12:54:21.533 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-21 12:54:21.854 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger - - - 301 0 - 358.1371ms
2022-09-21 12:54:21.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-09-21 12:54:22.000 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-09-21 12:54:22.353 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-09-21 12:54:22.355 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 470.2315ms
2022-09-21 12:54:22.607 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - -
2022-09-21 12:54:22.608 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui-bundle.js - -
2022-09-21 12:54:22.609 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui-standalone-preset.js - -
2022-09-21 12:54:22.673 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-21 12:54:22.675 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - - - 200 143632 text/css 67.6586ms
2022-09-21 12:54:22.677 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-09-21 12:54:22.679 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.5641ms
2022-09-21 12:54:22.695 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-09-21 12:54:22.748 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-09-21 12:54:22.749 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 140.7395ms
2022-09-21 12:54:22.809 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 114.3926ms
2022-09-21 12:54:24.208 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-09-21 12:54:24.217 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 1609.0405ms
2022-09-21 12:54:24.410 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-09-21 12:54:24.551 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/favicon-32x32.png - -
2022-09-21 12:54:24.553 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-09-21 12:54:24.556 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/favicon-32x32.png - - - 200 628 image/png 4.8689ms
2022-09-21 12:54:25.064 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 653.9483ms
2022-09-21 12:54:29.495 +04:00 [DBG] Connection id "0HMKRLRF7SBAG" received FIN.
2022-09-21 12:54:29.504 +04:00 [DBG] Connection id "0HMKRLRF7SBAG" is closed. The last processed stream ID was 17.
2022-09-21 12:54:29.506 +04:00 [DBG] Connection id "0HMKRLRF7SBAG" sending FIN because: "The client closed the connection."
2022-09-21 12:54:29.509 +04:00 [DBG] Connection id "0HMKRLRF7SBAG" stopped.
2022-09-21 12:56:09.059 +04:00 [DBG] Connection id "0HMKRLRF7SBAH" accepted.
2022-09-21 12:56:09.061 +04:00 [DBG] Connection id "0HMKRLRF7SBAH" started.
2022-09-21 12:56:09.072 +04:00 [DBG] Connection id "0HMKRLRF7SBAH" received FIN.
2022-09-21 12:56:09.073 +04:00 [DBG] Connection id "0HMKRLRF7SBAI" accepted.
2022-09-21 12:56:09.073 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:56:09.075 +04:00 [DBG] Connection id "0HMKRLRF7SBAI" started.
2022-09-21 12:56:09.080 +04:00 [DBG] Connection id "0HMKRLRF7SBAH" stopped.
2022-09-21 12:56:09.081 +04:00 [DBG] Connection id "0HMKRLRF7SBAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:56:09.095 +04:00 [DBG] Connection 0HMKRLRF7SBAI established using the following protocol: "Tls12"
2022-09-21 12:56:09.097 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:56:09.098 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:56:09.100 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:56:09.122 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:56:09.126 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:56:09.128 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:09.130 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:56:09.130 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:56:09.132 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:56:09.133 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 35.3731ms
2022-09-21 12:56:09.134 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-09-21 12:56:09.135 +04:00 [DBG] POST requests are not supported
2022-09-21 12:56:09.136 +04:00 [DBG] POST requests are not supported
2022-09-21 12:56:09.138 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:56:09.140 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:56:09.142 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:09.143 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:56:09.144 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:56:10.043 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:56:10.046 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:10.078 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:56:10.081 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:56:10.082 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:56:10.084 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:56:10.085 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:56:10.088 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:56:10.093 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:56:10.893 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-21 12:56:11.628 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:56:11.633 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:56:11.665 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:56:11.679 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:56:11.682 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:56:11.687 +04:00 [DBG] Connection id "0HMKRLRF7SBAI", Request id "0HMKRLRF7SBAI:00000003": started reading request body.
2022-09-21 12:56:11.688 +04:00 [DBG] Connection id "0HMKRLRF7SBAI", Request id "0HMKRLRF7SBAI:00000003": done reading request body.
2022-09-21 12:56:11.693 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:56:11.694 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:56:11.695 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:56:11.696 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:56:11.779 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:56:12.334 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-09-21 12:56:12.489 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-21 12:56:12.529 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:56:12.584 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (56ms).
2022-09-21 12:56:12.597 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:25.587 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:25.598 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:56:25.984 +04:00 [INF] Executed DbCommand (386ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:56:26.088 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:56:26.092 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:26.097 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:26.124 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 16028.3397ms
2022-09-21 12:56:26.146 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:26.160 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:56:27.350 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:56:27.428 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 500 - text/plain;+charset=utf-8 18293.8640ms
2022-09-21 12:56:29.653 +04:00 [DBG] Connection id "0HMKRLRF7SBAI" received FIN.
2022-09-21 12:56:29.656 +04:00 [DBG] Connection id "0HMKRLRF7SBAI" is closed. The last processed stream ID was 3.
2022-09-21 12:56:29.658 +04:00 [DBG] Connection id "0HMKRLRF7SBAI" sending FIN because: "The client closed the connection."
2022-09-21 12:56:29.669 +04:00 [DBG] Connection id "0HMKRLRF7SBAI" stopped.
2022-09-21 12:56:37.314 +04:00 [DBG] Connection id "0HMKRLRF7SBAJ" accepted.
2022-09-21 12:56:37.316 +04:00 [DBG] Connection id "0HMKRLRF7SBAJ" started.
2022-09-21 12:56:37.318 +04:00 [DBG] Connection id "0HMKRLRF7SBAJ" received FIN.
2022-09-21 12:56:37.318 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:56:37.319 +04:00 [DBG] Connection id "0HMKRLRF7SBAK" accepted.
2022-09-21 12:56:37.324 +04:00 [DBG] Connection id "0HMKRLRF7SBAJ" stopped.
2022-09-21 12:56:37.326 +04:00 [DBG] Connection id "0HMKRLRF7SBAK" started.
2022-09-21 12:56:37.328 +04:00 [DBG] Connection id "0HMKRLRF7SBAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:56:37.346 +04:00 [DBG] Connection 0HMKRLRF7SBAK established using the following protocol: "Tls12"
2022-09-21 12:56:37.348 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:56:37.348 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:56:37.350 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:56:37.351 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:56:37.352 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:56:37.355 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:37.356 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:56:37.357 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:56:37.358 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:56:37.359 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 11.7065ms
2022-09-21 12:56:37.360 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 50
2022-09-21 12:56:37.361 +04:00 [DBG] POST requests are not supported
2022-09-21 12:56:37.362 +04:00 [DBG] POST requests are not supported
2022-09-21 12:56:37.363 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:56:37.365 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:56:37.366 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:37.367 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:56:37.368 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:56:37.371 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:56:37.371 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:37.372 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:56:37.374 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:56:37.375 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:56:37.376 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:56:37.378 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:56:37.379 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:56:37.381 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:56:37.416 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:56:37.418 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:56:37.420 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:56:37.421 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:56:37.422 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:56:37.423 +04:00 [DBG] Connection id "0HMKRLRF7SBAK", Request id "0HMKRLRF7SBAK:00000003": started reading request body.
2022-09-21 12:56:37.424 +04:00 [DBG] Connection id "0HMKRLRF7SBAK", Request id "0HMKRLRF7SBAK:00000003": done reading request body.
2022-09-21 12:56:37.425 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:56:37.426 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:56:37.427 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:56:37.428 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:56:37.432 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:56:37.435 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:56:37.436 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:56:37.438 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:37.441 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:37.442 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:56:37.452 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:56:37.455 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:56:37.456 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:37.457 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:37.458 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 77.5143ms
2022-09-21 12:56:37.462 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:56:37.463 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:56:37.478 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:56:37.479 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 50 - 500 - text/plain;+charset=utf-8 119.1682ms
2022-09-21 12:56:39.657 +04:00 [DBG] Connection id "0HMKRLRF7SBAK" received FIN.
2022-09-21 12:56:39.661 +04:00 [DBG] Connection id "0HMKRLRF7SBAK" is closed. The last processed stream ID was 3.
2022-09-21 12:56:39.663 +04:00 [DBG] Connection id "0HMKRLRF7SBAK" sending FIN because: "The client closed the connection."
2022-09-21 12:56:39.673 +04:00 [DBG] Connection id "0HMKRLRF7SBAK" stopped.
2022-09-21 12:56:55.243 +04:00 [DBG] Connection id "0HMKRLRF7SBAL" accepted.
2022-09-21 12:56:55.245 +04:00 [DBG] Connection id "0HMKRLRF7SBAL" started.
2022-09-21 12:56:55.248 +04:00 [DBG] Connection id "0HMKRLRF7SBAL" received FIN.
2022-09-21 12:56:55.248 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:56:55.248 +04:00 [DBG] Connection id "0HMKRLRF7SBAM" accepted.
2022-09-21 12:56:55.253 +04:00 [DBG] Connection id "0HMKRLRF7SBAL" stopped.
2022-09-21 12:56:55.254 +04:00 [DBG] Connection id "0HMKRLRF7SBAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:56:55.253 +04:00 [DBG] Connection id "0HMKRLRF7SBAM" started.
2022-09-21 12:56:55.265 +04:00 [DBG] Connection 0HMKRLRF7SBAM established using the following protocol: "Tls12"
2022-09-21 12:56:55.267 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Register - -
2022-09-21 12:56:55.268 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:56:55.269 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:56:55.270 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-09-21 12:56:55.271 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-09-21 12:56:55.274 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:56:55.275 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:56:55.275 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:56:55.276 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:56:55.277 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Register - - - 204 - - 9.7952ms
2022-09-21 12:56:55.278 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Register application/json 89
2022-09-21 12:56:55.279 +04:00 [DBG] POST requests are not supported
2022-09-21 12:56:55.279 +04:00 [DBG] POST requests are not supported
2022-09-21 12:56:55.281 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-09-21 12:56:55.282 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-09-21 12:56:55.283 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:56:55.284 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:56:55.285 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:56:55.287 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:56:55.290 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:56:55.294 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:56:55.297 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:56:55.298 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:56:55.299 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:56:55.301 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:56:55.317 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:56:55.319 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:56:55.329 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:56:55.334 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:56:55.335 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-09-21 12:56:55.337 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-09-21 12:56:55.338 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:56:55.340 +04:00 [DBG] Connection id "0HMKRLRF7SBAM", Request id "0HMKRLRF7SBAM:00000003": started reading request body.
2022-09-21 12:56:55.341 +04:00 [DBG] Connection id "0HMKRLRF7SBAM", Request id "0HMKRLRF7SBAM:00000003": done reading request body.
2022-09-21 12:56:55.342 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-09-21 12:56:55.343 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-09-21 12:56:55.344 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-09-21 12:56:55.346 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-09-21 12:56:55.349 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-09-21 12:56:55.803 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:56:55.932 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:56:55.936 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-09-21 12:56:55.939 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-09-21 12:56:55.946 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-09-21 12:56:55.995 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:55.997 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:55.999 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-21 12:56:56.005 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-09-21 12:56:56.044 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:56:56.046 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 12:56:56.047 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-09-21 12:56:56.073 +04:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-09-21 12:56:56.131 +04:00 [DBG] Disposing transaction.
2022-09-21 12:56:56.134 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:56.135 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:56:56.293 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking.PersistanceDB.Context.BookingContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Profile' with unique index 'IX_Profile_Email'. The duplicate key value is (sano@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:aae2e8be-316e-4422-a0b5-730a3106c827
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Profile' with unique index 'IX_Profile_Email'. The duplicate key value is (sano@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:aae2e8be-316e-4422-a0b5-730a3106c827
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-09-21 12:56:56.330 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 1011.3119ms
2022-09-21 12:56:56.331 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:56:56.332 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Profile' with unique index 'IX_Profile_Email'. The duplicate key value is (sano@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:aae2e8be-316e-4422-a0b5-730a3106c827
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Booking.DataEF.BaseRepository`1.AddAsync(T entity) in D:\Users\sanog\Desktop\BookingApi\Booking.Data.EF\BaseRepository.cs:line 29
   at Booking.DataEF.ProfileRepository.AddUser(Profile user) in D:\Users\sanog\Desktop\BookingApi\Booking.Data.EF\ProfileRepository.cs:line 43
   at Booking.Services.Implementations.ProfileService.RegisterUser(ProfileServiceModel user) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 65
   at BookingApi.Controllers.AccountController.Register(AccountRegisterRequest registerRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:56:56.548 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:56:56.549 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Register application/json 89 - 500 - text/plain;+charset=utf-8 1271.1410ms
2022-09-21 12:56:59.699 +04:00 [DBG] Connection id "0HMKRLRF7SBAM" received FIN.
2022-09-21 12:56:59.701 +04:00 [DBG] Connection id "0HMKRLRF7SBAM" is closed. The last processed stream ID was 3.
2022-09-21 12:56:59.702 +04:00 [DBG] Connection id "0HMKRLRF7SBAM" sending FIN because: "The client closed the connection."
2022-09-21 12:56:59.714 +04:00 [DBG] Connection id "0HMKRLRF7SBAM" stopped.
2022-09-21 12:57:08.826 +04:00 [DBG] Connection id "0HMKRLRF7SBAN" accepted.
2022-09-21 12:57:08.827 +04:00 [DBG] Connection id "0HMKRLRF7SBAN" started.
2022-09-21 12:57:08.829 +04:00 [DBG] Connection id "0HMKRLRF7SBAN" received FIN.
2022-09-21 12:57:08.830 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:57:08.830 +04:00 [DBG] Connection id "0HMKRLRF7SBAO" accepted.
2022-09-21 12:57:08.849 +04:00 [DBG] Connection id "0HMKRLRF7SBAN" stopped.
2022-09-21 12:57:08.850 +04:00 [DBG] Connection id "0HMKRLRF7SBAO" started.
2022-09-21 12:57:08.852 +04:00 [DBG] Connection id "0HMKRLRF7SBAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:57:08.868 +04:00 [DBG] Connection 0HMKRLRF7SBAO established using the following protocol: "Tls12"
2022-09-21 12:57:08.870 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Register - -
2022-09-21 12:57:08.876 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:08.876 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:08.877 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-09-21 12:57:08.878 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-09-21 12:57:08.880 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:57:08.880 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:08.881 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:08.882 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:57:08.883 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Register - - - 204 - - 13.2468ms
2022-09-21 12:57:08.884 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Register application/json 93
2022-09-21 12:57:08.885 +04:00 [DBG] POST requests are not supported
2022-09-21 12:57:08.886 +04:00 [DBG] POST requests are not supported
2022-09-21 12:57:08.888 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-09-21 12:57:08.889 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-09-21 12:57:08.891 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:57:08.892 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:08.893 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:08.894 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:57:08.895 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:57:08.895 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:57:08.897 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:57:08.899 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:57:08.901 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:57:08.906 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:57:08.908 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:57:08.911 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:57:08.914 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:57:08.917 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:57:08.918 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-09-21 12:57:08.921 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-09-21 12:57:08.923 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:57:08.924 +04:00 [DBG] Connection id "0HMKRLRF7SBAO", Request id "0HMKRLRF7SBAO:00000003": started reading request body.
2022-09-21 12:57:08.925 +04:00 [DBG] Connection id "0HMKRLRF7SBAO", Request id "0HMKRLRF7SBAO:00000003": done reading request body.
2022-09-21 12:57:08.926 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-09-21 12:57:08.927 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-09-21 12:57:08.928 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-09-21 12:57:08.930 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-09-21 12:57:08.933 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-09-21 12:57:08.936 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:57:08.938 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:57:08.940 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-09-21 12:57:08.941 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-09-21 12:57:08.942 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-09-21 12:57:08.943 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:08.944 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:08.945 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-21 12:57:08.946 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-09-21 12:57:08.947 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:57:08.948 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:57:08.951 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-09-21 12:57:08.956 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-09-21 12:57:08.997 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-21 12:57:09.005 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:57:09.007 +04:00 [DBG] Committing transaction.
2022-09-21 12:57:09.009 +04:00 [DBG] Committed transaction.
2022-09-21 12:57:09.010 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:09.012 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:09.013 +04:00 [DBG] Disposing transaction.
2022-09-21 12:57:09.022 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:57:09.024 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-09-21 12:57:09.029 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-09-21 12:57:09.030 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 118.8333ms
2022-09-21 12:57:09.031 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-09-21 12:57:09.033 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:57:09.034 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Register application/json 93 - 200 0 - 150.0760ms
2022-09-21 12:57:09.699 +04:00 [DBG] Connection id "0HMKRLRF7SBAO" received FIN.
2022-09-21 12:57:09.700 +04:00 [DBG] Connection id "0HMKRLRF7SBAO" is closed. The last processed stream ID was 3.
2022-09-21 12:57:09.702 +04:00 [DBG] Connection id "0HMKRLRF7SBAO" sending FIN because: "The client closed the connection."
2022-09-21 12:57:09.716 +04:00 [DBG] Connection id "0HMKRLRF7SBAO" stopped.
2022-09-21 12:57:11.396 +04:00 [DBG] Connection id "0HMKRLRF7SBAP" accepted.
2022-09-21 12:57:11.399 +04:00 [DBG] Connection id "0HMKRLRF7SBAP" started.
2022-09-21 12:57:11.401 +04:00 [DBG] Connection id "0HMKRLRF7SBAP" received FIN.
2022-09-21 12:57:11.401 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:57:11.401 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ" accepted.
2022-09-21 12:57:11.406 +04:00 [DBG] Connection id "0HMKRLRF7SBAP" stopped.
2022-09-21 12:57:11.407 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ" started.
2022-09-21 12:57:11.408 +04:00 [DBG] Connection id "0HMKRLRF7SBAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:57:11.413 +04:00 [DBG] Connection 0HMKRLRF7SBAQ established using the following protocol: "Tls12"
2022-09-21 12:57:11.418 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:57:11.419 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:11.420 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:11.421 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:57:11.422 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:57:11.423 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:57:11.425 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:11.426 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:11.427 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:57:11.428 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 9.8879ms
2022-09-21 12:57:11.428 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-09-21 12:57:11.430 +04:00 [DBG] POST requests are not supported
2022-09-21 12:57:11.434 +04:00 [DBG] POST requests are not supported
2022-09-21 12:57:11.435 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:57:11.436 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:57:11.438 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:57:11.440 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:11.441 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:11.442 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:57:11.443 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:57:11.444 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:57:11.447 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:57:11.449 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:57:11.450 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:57:11.453 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:57:11.455 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:57:11.456 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:57:11.458 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:57:11.460 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:57:11.462 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:57:11.464 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:57:11.466 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:57:11.467 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ", Request id "0HMKRLRF7SBAQ:00000003": started reading request body.
2022-09-21 12:57:11.468 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ", Request id "0HMKRLRF7SBAQ:00000003": done reading request body.
2022-09-21 12:57:11.469 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:57:11.470 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:57:11.471 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:57:11.472 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:57:11.474 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:57:11.475 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:57:11.479 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-09-21 12:57:11.480 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:11.482 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:11.483 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:57:11.487 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:57:11.493 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:57:11.495 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:57:11.496 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:11.497 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:11.949 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:57:11.953 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:57:11.954 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:57:11.955 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:57:11.956 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:57:11.958 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-09-21 12:57:11.962 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 505.9048ms
2022-09-21 12:57:11.963 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:57:11.964 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:57:11.967 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 200 - application/json;+charset=utf-8 539.0392ms
2022-09-21 12:57:12.013 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/49 - -
2022-09-21 12:57:12.014 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:12.015 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:12.016 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/49'
2022-09-21 12:57:12.017 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/49'
2022-09-21 12:57:12.018 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 12:57:12.019 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:12.020 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:12.021 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:57:12.022 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/49 - - - 204 - - 8.9792ms
2022-09-21 12:57:12.023 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/49 application/json -
2022-09-21 12:57:12.025 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:57:12.026 +04:00 [DBG] The request path /Profile/49 does not match a supported file type
2022-09-21 12:57:12.029 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/49'
2022-09-21 12:57:12.030 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/49'
2022-09-21 12:57:12.031 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 12:57:12.033 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:12.034 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:12.101 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:57:12.106 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:57:12.119 +04:00 [DBG] Authorization was successful.
2022-09-21 12:57:12.120 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 12:57:12.124 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-09-21 12:57:12.127 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:57:12.128 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:57:12.129 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:57:12.131 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:57:12.133 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:57:12.135 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-09-21 12:57:12.138 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:57:12.140 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-09-21 12:57:12.140 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-09-21 12:57:12.142 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-09-21 12:57:12.143 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-09-21 12:57:12.144 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-09-21 12:57:12.145 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-09-21 12:57:12.146 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-09-21 12:57:12.156 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Where(x => x.UserId == __userId_0)
    .Include(x => x.Apartment)
    .Include(x => x.Order)
    .SingleOrDefault()'
2022-09-21 12:57:12.185 +04:00 [DBG] Including navigation: 'Profile.Apartment'.
2022-09-21 12:57:12.186 +04:00 [DBG] Including navigation: 'Profile.Order'.
2022-09-21 12:57:12.264 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Apartment.Address (string) Required, 8], [Property: Apartment.City (string), 9], [Property: Apartment.Description (string), 10], [Property: Apartment.DistanceToCenter (int) Required, 11], [Property: Apartment.From (DateTime) Required, 12], [Property: Apartment.HostId (int) Required FK Index, 13], [Property: Apartment.IsAvailable (bool) Required, 14], [Property: Apartment.NumbOfBeds (int) Required, 15], [Property: Apartment.Photo (string), 16], [Property: Apartment.To (DateTime) Required, 17] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Order.City (string) Required, 19], [Property: Order.CustomerId (int) Required, 20], [Property: Order.FirstName (string) Required, 21], [Property: Order.From (DateTime) Required, 22], [Property: Order.HostId (int) Required FK Index, 23], [Property: Order.LastName (string) Required, 24], [Property: Order.Status (int?), 25], [Property: Order.To (DateTime) Required, 26] }
                5 -> 18
            SELECT t.UserId, t.Description, t.Email, t.FirstName, t.LastName, t.Password, t.Photo, t.Id, t.Address, t.City, t.Description0, t.DistanceToCenter, t.From, t.HostId, t.IsAvailable, t.NumbOfBeds, t.Photo0, t.To, o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
            FROM 
            (
                SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo, a.Id, a.Address, a.City, a.Description AS Description0, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo AS Photo0, a.To
                FROM Profile AS p
                LEFT JOIN Apartments AS a ON p.UserId == a.HostId
                WHERE p.UserId == @__userId_0
            ) AS t
            LEFT JOIN Orders AS o ON t.UserId == o.HostId
            ORDER BY t.UserId ASC, t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-21 12:57:12.271 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:57:12.272 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:57:12.273 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.276 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.277 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-09-21 12:57:12.346 +04:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-09-21 12:57:12.363 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:57:12.373 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:57:12.374 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.376 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.383 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-09-21 12:57:12.389 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-09-21 12:57:12.393 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:57:12.394 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:57:12.395 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.397 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.398 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:57:12.404 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:57:12.408 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:57:12.409 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.410 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.427 +04:00 [INF] Get Profile
2022-09-21 12:57:12.436 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:57:12.439 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:57:12.440 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:57:12.441 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:57:12.442 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:57:12.443 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-09-21 12:57:12.447 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 312.4873ms
2022-09-21 12:57:12.450 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 12:57:12.451 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:57:12.452 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/49 application/json - - 200 - application/json;+charset=utf-8 428.7555ms
2022-09-21 12:57:12.635 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/49 - -
2022-09-21 12:57:12.635 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/49 - -
2022-09-21 12:57:12.637 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:12.636 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:12.641 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:12.639 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:57:12.644 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:57:12.646 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:57:12.644 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/49'
2022-09-21 12:57:12.653 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:57:12.654 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/49'
2022-09-21 12:57:12.655 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:12.658 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:57:12.662 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:12.675 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:57:12.669 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:12.678 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/49 - - - 204 - - 43.0538ms
2022-09-21 12:57:12.693 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/49 - -
2022-09-21 12:57:12.697 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:57:12.699 +04:00 [DBG] The request path /Guest/49 does not match a supported file type
2022-09-21 12:57:12.693 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:12.704 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:57:12.703 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:57:12.705 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/49 - - - 204 - - 70.5973ms
2022-09-21 12:57:12.709 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:57:12.709 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/49 application/json -
2022-09-21 12:57:12.713 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:57:12.715 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:12.714 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:57:12.717 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:12.718 +04:00 [DBG] The request path /Booking/49 does not match a supported file type
2022-09-21 12:57:12.720 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:57:12.720 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/49'
2022-09-21 12:57:12.721 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:57:12.722 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/49'
2022-09-21 12:57:12.723 +04:00 [DBG] Authorization was successful.
2022-09-21 12:57:12.724 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:57:12.725 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:57:12.728 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:57:12.729 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:57:12.730 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:57:12.731 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 12:57:12.732 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:57:12.734 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:57:12.735 +04:00 [DBG] Authorization was successful.
2022-09-21 12:57:12.736 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:57:12.737 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:57:12.738 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:57:12.741 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:57:12.741 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-09-21 12:57:12.745 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:57:12.747 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:57:12.748 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:57:12.750 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:57:12.751 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:57:12.752 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:57:12.754 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:57:12.756 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:57:12.759 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:57:12.761 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:57:12.762 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 12:57:12.763 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 12:57:12.764 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:57:12.766 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:57:12.767 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:57:12.769 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 12:57:12.770 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:57:12.771 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-09-21 12:57:12.775 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:57:12.776 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-09-21 12:57:12.779 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:57:12.780 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:57:12.780 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-09-21 12:57:12.781 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-09-21 12:57:12.785 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:57:12.786 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-09-21 12:57:12.787 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:57:12.791 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:57:12.792 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-09-21 12:57:12.793 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 12:57:12.794 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.795 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.796 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.800 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:57:12.809 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:57:12.814 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:57:12.815 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.817 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.818 +04:00 [INF] GetBookings successfully
2022-09-21 12:57:12.825 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:57:12.835 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:57:12.839 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:57:12.841 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:57:12.842 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:57:12.846 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:57:12.877 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 113.4488ms
2022-09-21 12:57:12.880 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:57:12.882 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.885 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:57:12.888 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:57:12.889 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/49 application/json - - 200 - application/json;+charset=utf-8 179.8626ms
2022-09-21 12:57:12.894 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:57:12.896 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:57:12.902 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.904 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:57:12.908 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:57:12.910 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:57:12.911 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:57:12.912 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:57:12.916 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:57:12.918 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:57:12.920 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 171.4921ms
2022-09-21 12:57:12.921 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:57:12.922 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:57:12.923 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/49 - - - 200 - application/json;+charset=utf-8 229.6663ms
2022-09-21 12:57:14.711 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ" received FIN.
2022-09-21 12:57:14.713 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ" is closed. The last processed stream ID was 15.
2022-09-21 12:57:14.714 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ" sending FIN because: "The client closed the connection."
2022-09-21 12:57:14.724 +04:00 [DBG] Connection id "0HMKRLRF7SBAQ" stopped.
2022-09-21 12:58:18.511 +04:00 [DBG] Connection id "0HMKRLRF7SBAR" accepted.
2022-09-21 12:58:18.513 +04:00 [DBG] Connection id "0HMKRLRF7SBAR" started.
2022-09-21 12:58:18.525 +04:00 [DBG] Connection id "0HMKRLRF7SBAR" received FIN.
2022-09-21 12:58:18.525 +04:00 [DBG] Connection id "0HMKRLRF7SBAS" accepted.
2022-09-21 12:58:18.525 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:58:18.527 +04:00 [DBG] Connection id "0HMKRLRF7SBAS" started.
2022-09-21 12:58:18.544 +04:00 [DBG] Connection id "0HMKRLRF7SBAR" stopped.
2022-09-21 12:58:18.547 +04:00 [DBG] Connection id "0HMKRLRF7SBAR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:58:18.549 +04:00 [DBG] Connection 0HMKRLRF7SBAS established using the following protocol: "Tls12"
2022-09-21 12:58:18.550 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-09-21 12:58:18.550 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:58:18.551 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:58:18.552 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-09-21 12:58:18.553 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-09-21 12:58:18.555 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-09-21 12:58:18.556 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:58:18.557 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:58:18.558 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:58:18.559 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 9.2722ms
2022-09-21 12:58:18.560 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 84
2022-09-21 12:58:18.564 +04:00 [DBG] POST requests are not supported
2022-09-21 12:58:18.565 +04:00 [DBG] POST requests are not supported
2022-09-21 12:58:18.566 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-09-21 12:58:18.567 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-09-21 12:58:18.569 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-09-21 12:58:18.570 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:58:18.571 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:58:18.573 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:58:18.574 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:58:18.575 +04:00 [DBG] Authorization was successful.
2022-09-21 12:58:18.575 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-09-21 12:58:18.579 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-09-21 12:58:18.581 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:58:18.582 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:58:18.583 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:58:18.585 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:58:18.586 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:58:18.588 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-09-21 12:58:18.590 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:58:18.592 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-09-21 12:58:18.595 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-09-21 12:58:18.596 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-09-21 12:58:18.598 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:58:18.600 +04:00 [DBG] Connection id "0HMKRLRF7SBAS", Request id "0HMKRLRF7SBAS:00000003": started reading request body.
2022-09-21 12:58:18.601 +04:00 [DBG] Connection id "0HMKRLRF7SBAS", Request id "0HMKRLRF7SBAS:00000003": done reading request body.
2022-09-21 12:58:18.604 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-09-21 12:58:18.604 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-09-21 12:58:18.605 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-09-21 12:58:18.606 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-09-21 12:58:18.610 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-09-21 12:58:18.614 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.City == __city_0)'
2022-09-21 12:58:18.619 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Apartment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
        SELECT a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
        FROM Apartments AS a
        WHERE a.City == @__city_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-09-21 12:58:18.623 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:58:18.624 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:58:18.627 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:58:18.629 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:58:18.630 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-09-21 12:58:18.638 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-09-21 12:58:18.911 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:58:19.213 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:58:19.252 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:58:19.299 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:58:19.501 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 12:58:19.504 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:58:19.505 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:58:19.507 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:58:19.515 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:58:19.517 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:58:19.518 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:58:19.519 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:58:19.520 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:58:19.522 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:58:19.546 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 958.235ms
2022-09-21 12:58:19.548 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-09-21 12:58:19.549 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:58:19.550 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 84 - 200 - application/json;+charset=utf-8 990.1674ms
2022-09-21 12:58:49.792 +04:00 [DBG] Connection id "0HMKRLRF7SBAS" received FIN.
2022-09-21 12:58:49.794 +04:00 [DBG] Connection id "0HMKRLRF7SBAS" is closed. The last processed stream ID was 3.
2022-09-21 12:58:49.795 +04:00 [DBG] Connection id "0HMKRLRF7SBAS" sending FIN because: "The client closed the connection."
2022-09-21 12:58:49.800 +04:00 [DBG] Connection id "0HMKRLRF7SBAS" stopped.
2022-09-21 12:59:11.867 +04:00 [DBG] Connection id "0HMKRLRF7SBAT" accepted.
2022-09-21 12:59:11.892 +04:00 [DBG] Connection id "0HMKRLRF7SBAT" started.
2022-09-21 12:59:11.899 +04:00 [DBG] Connection id "0HMKRLRF7SBAU" accepted.
2022-09-21 12:59:11.899 +04:00 [DBG] Connection id "0HMKRLRF7SBAT" received FIN.
2022-09-21 12:59:11.899 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:59:11.903 +04:00 [DBG] Connection id "0HMKRLRF7SBAU" started.
2022-09-21 12:59:11.903 +04:00 [DBG] Connection id "0HMKRLRF7SBAV" accepted.
2022-09-21 12:59:11.910 +04:00 [DBG] Connection id "0HMKRLRF7SBAT" stopped.
2022-09-21 12:59:11.912 +04:00 [DBG] Connection id "0HMKRLRF7SBAV" started.
2022-09-21 12:59:11.914 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-21 12:59:11.914 +04:00 [DBG] Connection id "0HMKRLRF7SBAU" received FIN.
2022-09-21 12:59:11.914 +04:00 [DBG] Connection id "0HMKRLRF7SBAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:59:11.918 +04:00 [DBG] Connection 0HMKRLRF7SBAV established using the following protocol: "Tls12"
2022-09-21 12:59:11.923 +04:00 [DBG] Connection id "0HMKRLRF7SBAU" stopped.
2022-09-21 12:59:11.927 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/49 - -
2022-09-21 12:59:11.932 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:11.928 +04:00 [DBG] Connection id "0HMKRLRF7SBAU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-21 12:59:11.927 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/49 - -
2022-09-21 12:59:11.945 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:11.950 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:11.951 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:59:11.952 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:11.954 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:59:11.955 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:59:11.957 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:11.958 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:59:11.959 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:11.962 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:11.962 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:11.966 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:11.967 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:11.968 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:11.968 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/49 - - - 204 - - 41.3827ms
2022-09-21 12:59:11.969 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:11.970 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/49 - -
2022-09-21 12:59:11.971 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/49 - - - 204 - - 43.9684ms
2022-09-21 12:59:11.972 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:59:11.974 +04:00 [DBG] The request path /Guest/49 does not match a supported file type
2022-09-21 12:59:11.975 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:59:11.976 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:59:11.980 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:11.982 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:11.983 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:11.984 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:59:11.985 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:59:11.986 +04:00 [DBG] Authorization was successful.
2022-09-21 12:59:11.987 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:11.988 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 12:59:11.990 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:11.992 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:11.993 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:11.998 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:12.000 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:12.001 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:12.003 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:12.004 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:12.005 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:12.006 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 12:59:12.008 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:12.009 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:12.013 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:12.014 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:12.015 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:12.016 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:12.017 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.018 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.019 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:12.023 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:12.027 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:12.028 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.029 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.030 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:59:12.032 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:59:12.033 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:59:12.034 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:59:12.035 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:59:12.037 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:59:12.038 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 36.9876ms
2022-09-21 12:59:12.039 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/49 - -
2022-09-21 12:59:12.039 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:12.041 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:59:12.045 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:12.047 +04:00 [DBG] The request path /Guest/49 does not match a supported file type
2022-09-21 12:59:12.048 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/49 - - - 200 - application/json;+charset=utf-8 78.1655ms
2022-09-21 12:59:12.049 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:59:12.052 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:59:12.053 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:12.054 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:12.057 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:12.058 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:59:12.059 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:59:12.061 +04:00 [DBG] Authorization was successful.
2022-09-21 12:59:12.062 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:12.063 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 12:59:12.065 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:12.066 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:12.067 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:12.069 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:12.070 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:12.073 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:12.075 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:12.077 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:12.078 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:12.079 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 12:59:12.080 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:12.082 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:12.083 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:12.084 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:12.085 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:12.086 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:12.088 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.089 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.090 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:12.093 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:12.096 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:12.096 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.097 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:12.098 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:59:12.101 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:59:12.102 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:59:12.106 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:59:12.106 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:59:12.107 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:59:12.109 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 35.4817ms
2022-09-21 12:59:12.110 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:12.111 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:12.113 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/49 - - - 200 - application/json;+charset=utf-8 73.6055ms
2022-09-21 12:59:14.304 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/49 - -
2022-09-21 12:59:14.304 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/49 - -
2022-09-21 12:59:14.307 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:14.306 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:14.308 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:14.312 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/49'
2022-09-21 12:59:14.311 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:14.316 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/49'
2022-09-21 12:59:14.317 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/49'
2022-09-21 12:59:14.319 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.321 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/49'
2022-09-21 12:59:14.323 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:14.327 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.328 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:14.331 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:14.331 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:14.333 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:14.334 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/49 - - - 204 - - 30.0054ms
2022-09-21 12:59:14.335 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/49 application/json -
2022-09-21 12:59:14.335 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:14.337 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:59:14.338 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/49 - - - 204 - - 33.5489ms
2022-09-21 12:59:14.339 +04:00 [DBG] The request path /Booking/49 does not match a supported file type
2022-09-21 12:59:14.340 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/49'
2022-09-21 12:59:14.341 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/49'
2022-09-21 12:59:14.343 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.346 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:14.347 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:14.348 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:59:14.349 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:59:14.350 +04:00 [DBG] Authorization was successful.
2022-09-21 12:59:14.350 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.351 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-09-21 12:59:14.353 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:14.354 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:14.355 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:14.357 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:14.361 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:14.362 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 12:59:14.363 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:14.365 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 12:59:14.366 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-09-21 12:59:14.367 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-09-21 12:59:14.368 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:59:14.369 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:59:14.370 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-09-21 12:59:14.371 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:59:14.372 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:14.373 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:14.374 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.378 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.379 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:59:14.382 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:59:14.384 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:14.385 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.386 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.387 +04:00 [INF] GetBookings successfully
2022-09-21 12:59:14.388 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:59:14.390 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:59:14.393 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:59:14.394 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:59:14.395 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:59:14.396 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:59:14.398 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 35.4808ms
2022-09-21 12:59:14.398 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/49 application/json -
2022-09-21 12:59:14.399 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.399 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:59:14.400 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:14.401 +04:00 [DBG] The request path /Booking/49 does not match a supported file type
2022-09-21 12:59:14.402 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/49 application/json - - 200 - application/json;+charset=utf-8 66.8363ms
2022-09-21 12:59:14.403 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/49'
2022-09-21 12:59:14.405 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/49'
2022-09-21 12:59:14.406 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.409 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:14.410 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:14.411 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:59:14.411 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:59:14.412 +04:00 [DBG] Authorization was successful.
2022-09-21 12:59:14.413 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.414 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-09-21 12:59:14.416 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:14.417 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:14.418 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:14.420 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:14.421 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:14.422 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 12:59:14.426 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:14.428 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 12:59:14.428 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-09-21 12:59:14.430 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-09-21 12:59:14.432 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:59:14.433 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:59:14.434 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-09-21 12:59:14.435 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-09-21 12:59:14.436 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:14.437 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:14.446 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.450 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.452 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:59:14.455 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 12:59:14.458 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:14.459 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.460 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:14.461 +04:00 [INF] GetBookings successfully
2022-09-21 12:59:14.462 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:59:14.464 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:59:14.465 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:59:14.466 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:59:14.467 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:59:14.468 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:59:14.472 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 49.5256ms
2022-09-21 12:59:14.473 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 12:59:14.474 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:14.475 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/49 application/json - - 200 - application/json;+charset=utf-8 76.6476ms
2022-09-21 12:59:16.321 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/49 - -
2022-09-21 12:59:16.323 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:59:16.324 +04:00 [DBG] The request path /Guest/49 does not match a supported file type
2022-09-21 12:59:16.326 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:59:16.328 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:59:16.330 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:16.332 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:16.333 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:16.335 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:59:16.335 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:59:16.337 +04:00 [DBG] Authorization was successful.
2022-09-21 12:59:16.340 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:16.341 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 12:59:16.344 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:16.345 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:16.346 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:16.349 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:16.351 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:16.352 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:16.354 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:16.357 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:16.358 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:16.359 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 12:59:16.361 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:16.362 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:16.363 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:16.365 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:16.366 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:16.367 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:16.368 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.369 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.372 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:16.375 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:16.378 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:16.378 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.379 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.380 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:59:16.382 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:59:16.383 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:59:16.384 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:59:16.385 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:59:16.388 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:59:16.390 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 37.618ms
2022-09-21 12:59:16.390 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/49 - -
2022-09-21 12:59:16.391 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:16.392 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 12:59:16.394 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:16.395 +04:00 [DBG] The request path /Guest/49 does not match a supported file type
2022-09-21 12:59:16.396 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/49 - - - 200 - application/json;+charset=utf-8 75.2598ms
2022-09-21 12:59:16.397 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/49'
2022-09-21 12:59:16.399 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/49'
2022-09-21 12:59:16.401 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:16.404 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:16.405 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:16.406 +04:00 [DBG] Successfully validated the token.
2022-09-21 12:59:16.406 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 12:59:16.407 +04:00 [DBG] Authorization was successful.
2022-09-21 12:59:16.408 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:16.409 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 12:59:16.411 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:16.413 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:16.414 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:16.416 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:16.417 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:16.421 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:16.422 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:16.423 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 12:59:16.424 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:16.426 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 12:59:16.428 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:16.429 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:16.430 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 12:59:16.431 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 12:59:16.433 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:16.435 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-09-21 12:59:16.437 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.438 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.440 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:16.443 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 12:59:16.469 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:16.469 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.471 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:16.472 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 12:59:16.475 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 12:59:16.476 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 12:59:16.477 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 12:59:16.478 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 12:59:16.482 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 12:59:16.484 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 63.1618ms
2022-09-21 12:59:16.485 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 12:59:16.486 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:16.487 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/49 - - - 200 - application/json;+charset=utf-8 96.7939ms
2022-09-21 12:59:29.687 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:59:29.689 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:29.690 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:29.692 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:29.693 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:29.696 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:29.697 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:29.697 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:29.698 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:29.701 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 13.5045ms
2022-09-21 12:59:29.702 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-09-21 12:59:29.703 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:29.704 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:29.704 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:29.706 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:29.707 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:29.708 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:29.709 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:29.710 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:59:29.711 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:29.712 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:59:29.717 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:29.718 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:29.719 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:29.722 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:29.723 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:29.725 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:29.727 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:29.728 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:29.730 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:29.733 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:59:29.734 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:59:29.736 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000017": started reading request body.
2022-09-21 12:59:29.749 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000017": done reading request body.
2022-09-21 12:59:29.751 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:59:29.752 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:29.753 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:29.755 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:29.757 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:29.758 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:29.759 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:29.760 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:29.761 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:29.762 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:29.768 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:29.770 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:29.771 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:29.772 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:29.773 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 48.0996ms
2022-09-21 12:59:29.774 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:29.775 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:59:29.790 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:29.791 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 500 - text/plain;+charset=utf-8 88.9461ms
2022-09-21 12:59:37.769 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:59:37.771 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:37.772 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:37.773 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:37.774 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:37.775 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:37.776 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:37.777 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:37.779 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:37.780 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 11.1741ms
2022-09-21 12:59:37.781 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 53
2022-09-21 12:59:37.782 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:37.783 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:37.784 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:37.785 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:37.787 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:37.788 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:37.789 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:37.789 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:59:37.790 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:37.791 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:59:37.796 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:37.797 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:37.798 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:37.800 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:37.801 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:37.803 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:37.804 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:37.806 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:37.807 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:37.808 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:59:37.811 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:59:37.813 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:0000001B": started reading request body.
2022-09-21 12:59:37.814 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:0000001B": done reading request body.
2022-09-21 12:59:37.815 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:59:37.816 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:37.817 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:37.818 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:37.819 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:37.820 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:37.821 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:37.823 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:37.824 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:37.827 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:37.830 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:37.832 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:37.832 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:37.833 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:37.835 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 31.5979ms
2022-09-21 12:59:37.835 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:37.837 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:59:37.850 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:37.850 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 53 - 500 - text/plain;+charset=utf-8 69.4236ms
2022-09-21 12:59:42.385 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-09-21 12:59:42.387 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:42.388 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:42.389 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:42.390 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:42.392 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:42.393 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:42.394 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:42.398 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:59:42.399 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:42.400 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:59:42.402 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:42.403 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:42.404 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:42.406 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:42.407 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:42.409 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:42.411 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:42.413 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:42.414 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:42.416 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:59:42.417 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:59:42.418 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:0000001D": started reading request body.
2022-09-21 12:59:42.419 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:0000001D": done reading request body.
2022-09-21 12:59:42.420 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:59:42.421 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:42.422 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:42.423 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:42.425 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:42.428 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:42.429 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:42.430 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:42.431 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:42.432 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:42.435 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:42.437 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:42.438 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:42.439 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:42.440 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 31.614ms
2022-09-21 12:59:42.441 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:42.446 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:59:42.465 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:42.466 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 500 - text/plain;+charset=utf-8 80.7539ms
2022-09-21 12:59:45.042 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:59:45.043 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:45.044 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:45.045 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:45.046 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:45.048 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:45.049 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:45.049 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:45.050 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:45.052 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 10.5998ms
2022-09-21 12:59:45.053 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-09-21 12:59:45.055 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:45.056 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:45.056 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:45.058 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:45.059 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:45.060 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:45.061 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:45.062 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:59:45.063 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:45.064 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:59:45.068 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:45.070 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:45.071 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:45.073 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:45.075 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:45.076 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:45.078 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:45.079 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:45.081 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:45.084 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:59:45.085 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:59:45.087 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000021": started reading request body.
2022-09-21 12:59:45.088 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000021": done reading request body.
2022-09-21 12:59:45.089 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:59:45.090 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:45.091 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:45.092 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:45.093 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:45.095 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:45.096 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 12:59:45.100 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:45.102 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:45.103 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:45.106 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:45.108 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:45.109 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:45.110 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:45.111 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 35.0993ms
2022-09-21 12:59:45.112 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:45.116 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:59:45.129 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:45.133 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 500 - text/plain;+charset=utf-8 80.1177ms
2022-09-21 12:59:51.329 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 12:59:51.330 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:51.331 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 12:59:51.332 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:51.333 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:51.335 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:51.336 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:51.337 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:51.338 +04:00 [DBG] The request is a preflight request.
2022-09-21 12:59:51.339 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 9.3583ms
2022-09-21 12:59:51.339 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 53
2022-09-21 12:59:51.342 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:51.343 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:51.344 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:51.345 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:51.347 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:51.348 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:51.349 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:51.349 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:59:51.350 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:51.351 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:59:51.353 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:51.354 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:51.355 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:51.359 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:51.360 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:51.362 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:51.364 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:51.365 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:51.366 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:51.367 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:59:51.369 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:59:51.370 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000025": started reading request body.
2022-09-21 12:59:51.371 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000025": done reading request body.
2022-09-21 12:59:51.375 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:59:51.376 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:51.377 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:51.378 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:51.380 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:51.382 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:51.383 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 12:59:51.384 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:51.385 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:51.386 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:51.391 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:51.393 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:51.394 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:51.395 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:51.396 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 34.0918ms
2022-09-21 12:59:51.397 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:51.398 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:59:51.412 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:51.414 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 53 - 500 - text/plain;+charset=utf-8 74.1005ms
2022-09-21 12:59:55.538 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 48
2022-09-21 12:59:55.540 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:55.541 +04:00 [DBG] POST requests are not supported
2022-09-21 12:59:55.542 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 12:59:55.543 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 12:59:55.545 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:55.545 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 12:59:55.546 +04:00 [INF] CORS policy execution successful.
2022-09-21 12:59:55.547 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 12:59:55.548 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:55.549 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 12:59:55.551 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 12:59:55.553 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 12:59:55.554 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 12:59:55.560 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 12:59:55.573 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 12:59:55.575 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:55.577 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 12:59:55.579 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 12:59:55.580 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:55.582 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 12:59:55.584 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 12:59:55.585 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000027": started reading request body.
2022-09-21 12:59:55.586 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:00000027": done reading request body.
2022-09-21 12:59:55.590 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 12:59:55.591 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:55.592 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:55.593 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 12:59:55.595 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 12:59:55.597 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 12:59:55.598 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 12:59:55.599 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:55.600 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:55.601 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:55.606 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 12:59:55.608 +04:00 [DBG] A data reader was disposed.
2022-09-21 12:59:55.609 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:55.610 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 12:59:55.611 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 36.0765ms
2022-09-21 12:59:55.612 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 12:59:55.613 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-21 12:59:55.629 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 12:59:55.631 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 48 - 500 - text/plain;+charset=utf-8 92.6868ms
2022-09-21 13:00:00.303 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-09-21 13:00:00.305 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:00.306 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:00.307 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 13:00:00.308 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 13:00:00.309 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 13:00:00.310 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:00.311 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:00.312 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:00.313 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 10.1182ms
2022-09-21 13:00:00.313 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 49
2022-09-21 13:00:00.315 +04:00 [DBG] POST requests are not supported
2022-09-21 13:00:00.316 +04:00 [DBG] POST requests are not supported
2022-09-21 13:00:00.319 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-09-21 13:00:00.320 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-09-21 13:00:00.322 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 13:00:00.324 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:00.331 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:00.337 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-09-21 13:00:00.338 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 13:00:00.339 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-09-21 13:00:00.341 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:00.342 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:00.343 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:00.345 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:00.346 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:00.348 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 13:00:00.352 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:00.354 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-09-21 13:00:00.355 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 13:00:00.356 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-09-21 13:00:00.357 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-09-21 13:00:00.359 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:0000002B": started reading request body.
2022-09-21 13:00:00.360 +04:00 [DBG] Connection id "0HMKRLRF7SBAV", Request id "0HMKRLRF7SBAV:0000002B": done reading request body.
2022-09-21 13:00:00.361 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-09-21 13:00:00.362 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 13:00:00.363 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 13:00:00.367 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-09-21 13:00:00.368 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-09-21 13:00:00.370 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:00.370 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:00.371 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:00.372 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:00.373 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 13:00:00.377 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-09-21 13:00:00.396 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:00.398 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:00.400 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:00.401 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:00.402 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:00.404 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:00.405 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:00.406 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:00.407 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:00.410 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-09-21 13:00:00.411 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 62.8341ms
2022-09-21 13:00:00.414 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-09-21 13:00:00.421 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:00.422 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 49 - 200 - application/json;+charset=utf-8 108.8255ms
2022-09-21 13:00:00.424 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/12 - -
2022-09-21 13:00:00.425 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:00.426 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:00.428 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/12'
2022-09-21 13:00:00.429 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/12'
2022-09-21 13:00:00.430 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 13:00:00.432 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:00.433 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:00.434 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:00.435 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/12 - - - 204 - - 10.9147ms
2022-09-21 13:00:00.436 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/12 application/json -
2022-09-21 13:00:00.437 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:00.438 +04:00 [DBG] The request path /Profile/12 does not match a supported file type
2022-09-21 13:00:00.438 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/12'
2022-09-21 13:00:00.440 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/12'
2022-09-21 13:00:00.441 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 13:00:00.444 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:00.445 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:00.446 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:00.446 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:00.448 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:00.449 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 13:00:00.450 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-09-21 13:00:00.452 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:00.454 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:00.455 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:00.459 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:00.460 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:00.462 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-09-21 13:00:00.463 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:00.465 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-09-21 13:00:00.466 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-09-21 13:00:00.467 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-09-21 13:00:00.468 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-09-21 13:00:00.469 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-09-21 13:00:00.470 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-09-21 13:00:00.471 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-09-21 13:00:00.473 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:00.476 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2022-09-21 13:00:00.477 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:00.478 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:00.479 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-09-21 13:00:00.487 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-09-21 13:00:00.635 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:00.637 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:00.644 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:00.789 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:00.931 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.060 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.257 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.260 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.261 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.262 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.263 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.264 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:01.265 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.266 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.268 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:01.272 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:01.277 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.279 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.280 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.282 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.284 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.285 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.286 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.289 +04:00 [INF] Get Profile
2022-09-21 13:00:01.292 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:01.294 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:01.295 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:01.296 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:01.297 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:01.299 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-09-21 13:00:01.306 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 844.8076ms
2022-09-21 13:00:01.308 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-09-21 13:00:01.310 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:01.311 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/12 application/json - - 200 - application/json;+charset=utf-8 875.4113ms
2022-09-21 13:00:01.316 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/12 - -
2022-09-21 13:00:01.317 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/12 - -
2022-09-21 13:00:01.318 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:01.319 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:01.324 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:01.333 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/12'
2022-09-21 13:00:01.320 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:01.342 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/12'
2022-09-21 13:00:01.343 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:01.346 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:01.349 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:01.347 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:01.350 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:01.354 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:01.354 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:01.355 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:01.356 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/12 - - - 204 - - 39.6009ms
2022-09-21 13:00:01.357 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/12 application/json -
2022-09-21 13:00:01.357 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:01.359 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:01.360 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:01.361 +04:00 [DBG] The request path /Booking/12 does not match a supported file type
2022-09-21 13:00:01.362 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/12 - - - 204 - - 45.1756ms
2022-09-21 13:00:01.362 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/12 - -
2022-09-21 13:00:01.362 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/12'
2022-09-21 13:00:01.365 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:01.366 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/12'
2022-09-21 13:00:01.370 +04:00 [DBG] The request path /Guest/12 does not match a supported file type
2022-09-21 13:00:01.372 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:01.373 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:01.374 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:01.375 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:01.376 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:01.377 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:01.378 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:01.379 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:01.380 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:01.382 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:01.386 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:01.388 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:01.388 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:01.390 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:01.391 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-09-21 13:00:01.392 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:01.394 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:01.395 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:01.396 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:01.401 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 13:00:01.403 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:01.406 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:01.408 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:01.409 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:01.410 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:01.412 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:01.416 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 13:00:01.418 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:01.420 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:01.421 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:01.423 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 13:00:01.424 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:01.426 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-09-21 13:00:01.427 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:01.430 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-09-21 13:00:01.439 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:01.436 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:01.441 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:01.443 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:01.446 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-09-21 13:00:01.447 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 13:00:01.454 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:01.455 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:01.457 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.458 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:01.459 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-09-21 13:00:01.463 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:01.464 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.466 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:01.467 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.468 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.469 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:01.470 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:01.473 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:01.474 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.479 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.482 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.484 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.480 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.485 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.487 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:01.489 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.495 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:01.495 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.499 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.500 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.501 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.504 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.504 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.HostId == __hostId_0)
    .SingleOrDefault()'
2022-09-21 13:00:01.505 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.510 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Apartment>(
    asyncEnumerable: new SingleQueryingEnumerable<Apartment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
            SELECT TOP(2) a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
            FROM Apartments AS a
            WHERE a.HostId == @__hostId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-21 13:00:01.511 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.516 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.517 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.518 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:01.519 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.520 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.521 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.522 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.523 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.527 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.528 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-09-21 13:00:01.532 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.533 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.534 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.541 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.545 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.568 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.569 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.570 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.602 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.604 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.605 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:01.606 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.608 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.610 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.622 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.629 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.630 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.634 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.655 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.660 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:01.670 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2022-09-21 13:00:01.676 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.680 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.687 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.714 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:01.913 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:01.916 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:01.918 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.919 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:01.921 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:01.937 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:01.938 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:01.940 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:01.942 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:01.944 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:01.955 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 530.2733ms
2022-09-21 13:00:01.956 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:01.958 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:01.959 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/12 - - - 200 - application/json;+charset=utf-8 596.8924ms
2022-09-21 13:00:03.154 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.157 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:03.158 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.159 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.160 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:03.161 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:03.162 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.164 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.166 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:03.172 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:03.205 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.209 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:03.209 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.211 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.213 +04:00 [INF] GetBookings successfully
2022-09-21 13:00:03.215 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:03.221 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:03.222 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:03.224 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:03.225 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:03.227 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:03.244 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 1827.8747ms
2022-09-21 13:00:03.246 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:03.247 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:03.254 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/12 application/json - - 200 - application/json;+charset=utf-8 1896.5054ms
2022-09-21 13:00:03.407 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/12 - -
2022-09-21 13:00:03.408 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:03.408 +04:00 [DBG] The request path /Guest/12 does not match a supported file type
2022-09-21 13:00:03.410 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:03.410 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:03.412 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:03.413 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:03.414 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:03.415 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:03.416 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:03.416 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:03.419 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:03.420 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 13:00:03.422 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:03.423 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:03.424 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:03.426 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:03.427 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:03.428 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:03.430 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:03.432 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:03.435 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:03.461 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 13:00:03.463 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:03.465 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:03.467 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:03.468 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:03.469 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:03.470 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:03.472 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.473 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.475 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:03.478 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:03.480 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.484 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.485 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.486 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.488 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.490 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:03.490 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.491 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.493 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:03.493 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:03.494 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.495 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.496 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:03.502 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:03.724 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.726 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:03.727 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.728 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.729 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:03.732 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:03.734 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:03.735 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:03.736 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:03.737 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:03.741 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/12 - -
2022-09-21 13:00:03.742 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:03.743 +04:00 [DBG] The request path /Guest/12 does not match a supported file type
2022-09-21 13:00:03.744 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:03.746 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 317.3097ms
2022-09-21 13:00:03.746 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:03.747 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:03.752 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:03.753 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:03.754 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:03.755 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/12 - - - 200 - application/json;+charset=utf-8 348.3221ms
2022-09-21 13:00:03.756 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:03.758 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:03.759 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:03.760 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:03.761 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:03.762 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 13:00:03.767 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:03.768 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:03.770 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:03.772 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:03.773 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:03.774 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:03.776 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:03.777 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:03.779 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:03.783 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 13:00:03.784 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:03.785 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:03.786 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:03.788 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:03.789 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:03.790 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:03.792 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.793 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.796 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:03.799 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:03.802 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.803 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.805 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.806 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.807 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:03.811 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:03.812 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.813 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.814 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:03.815 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:03.816 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.817 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:03.818 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:03.821 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:04.038 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:04.040 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:04.041 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:04.043 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:04.044 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:04.046 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:04.047 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:04.048 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:04.049 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:04.050 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:04.064 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 289.4424ms
2022-09-21 13:00:04.067 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:04.068 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:04.070 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/12 - - - 200 - application/json;+charset=utf-8 329.5800ms
2022-09-21 13:00:09.221 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/12 - -
2022-09-21 13:00:09.221 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/12 - -
2022-09-21 13:00:09.222 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:09.223 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:09.225 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:09.226 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:09.228 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/12'
2022-09-21 13:00:09.229 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/12'
2022-09-21 13:00:09.227 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/12'
2022-09-21 13:00:09.231 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:09.233 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/12'
2022-09-21 13:00:09.234 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:09.236 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:09.237 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:09.238 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:09.239 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:09.243 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:09.244 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/12 - - - 204 - - 23.1625ms
2022-09-21 13:00:09.245 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:09.245 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/12 application/json -
2022-09-21 13:00:09.246 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/12 - - - 204 - - 25.6667ms
2022-09-21 13:00:09.248 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:09.250 +04:00 [DBG] The request path /Booking/12 does not match a supported file type
2022-09-21 13:00:09.252 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/12'
2022-09-21 13:00:09.253 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/12'
2022-09-21 13:00:09.255 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:09.256 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:09.260 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:09.261 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:09.262 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:09.263 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:09.264 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:09.266 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-09-21 13:00:09.268 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:09.269 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:09.271 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:09.274 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:09.276 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:09.277 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 13:00:09.279 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:09.280 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 13:00:09.281 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-09-21 13:00:09.283 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-09-21 13:00:09.285 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:09.286 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:09.287 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-09-21 13:00:09.290 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:09.291 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:09.292 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:09.293 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.295 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.296 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:09.298 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:09.302 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:09.305 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:09.307 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:09.309 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:09.311 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:09.311 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.313 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.314 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:09.314 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:09.315 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.317 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.317 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:09.322 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:09.365 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:09.367 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:09.368 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.369 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.371 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:09.373 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-09-21 13:00:09.374 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.375 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.376 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:09.379 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:09.385 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:09.388 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:09.389 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.390 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.391 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:09.392 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:09.393 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.394 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:09.395 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:09.400 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.634 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.636 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:10.637 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.638 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.639 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:10.640 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:10.641 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.642 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.643 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.647 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.651 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.652 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:10.653 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.654 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.655 +04:00 [INF] GetBookings successfully
2022-09-21 13:00:10.655 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:10.660 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:10.661 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:10.662 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:10.663 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:10.665 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:10.668 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/12 application/json -
2022-09-21 13:00:10.670 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:10.671 +04:00 [DBG] The request path /Booking/12 does not match a supported file type
2022-09-21 13:00:10.672 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 1395.0048ms
2022-09-21 13:00:10.675 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/12'
2022-09-21 13:00:10.676 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:10.677 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/12'
2022-09-21 13:00:10.679 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:10.681 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:10.682 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/12 application/json - - 200 - application/json;+charset=utf-8 1437.2357ms
2022-09-21 13:00:10.683 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:10.686 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:10.686 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:10.687 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:10.690 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:10.691 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:10.692 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-09-21 13:00:10.695 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:10.696 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:10.697 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:10.699 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:10.700 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:10.702 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 13:00:10.703 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:10.707 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-09-21 13:00:10.708 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-09-21 13:00:10.709 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-09-21 13:00:10.710 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:10.711 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:10.712 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-09-21 13:00:10.713 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-09-21 13:00:10.715 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:10.716 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:10.717 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.718 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.721 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:10.723 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-09-21 13:00:10.726 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.728 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.729 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.730 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.731 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:10.732 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.733 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.737 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:10.738 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:10.739 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.740 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.742 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.744 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.774 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.776 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:10.777 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.778 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.779 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:10.780 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:10.782 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.783 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.785 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.787 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.793 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:10.795 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:10.796 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.800 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.801 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:10.803 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:10.804 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.805 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:10.806 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:10.809 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:12.020 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:12.022 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:12.023 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:12.024 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:12.025 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:12.026 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:12.027 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:12.028 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:12.029 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:12.032 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:12.036 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:12.038 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:12.039 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:12.042 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:12.043 +04:00 [INF] GetBookings successfully
2022-09-21 13:00:12.044 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:12.046 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:12.047 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:12.048 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:12.048 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:12.050 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:12.055 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 1353.7394ms
2022-09-21 13:00:12.059 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-09-21 13:00:12.060 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:12.061 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/12 application/json - - 200 - application/json;+charset=utf-8 1392.9381ms
2022-09-21 13:00:37.205 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/12 - -
2022-09-21 13:00:37.205 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/12 - -
2022-09-21 13:00:37.209 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:37.210 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:37.207 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:37.212 +04:00 [DBG] OPTIONS requests are not supported
2022-09-21 13:00:37.211 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:37.213 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:37.214 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:37.217 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.215 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:37.219 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:37.223 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.224 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:37.225 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:37.226 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:37.227 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:37.228 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/12 - - - 204 - - 23.0978ms
2022-09-21 13:00:37.230 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/12 - -
2022-09-21 13:00:37.230 +04:00 [DBG] The request is a preflight request.
2022-09-21 13:00:37.232 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:37.232 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/12 - - - 204 - - 27.1749ms
2022-09-21 13:00:37.234 +04:00 [DBG] The request path /Guest/12 does not match a supported file type
2022-09-21 13:00:37.237 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:37.238 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:37.240 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.241 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:37.241 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:37.243 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:37.244 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:37.245 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:37.246 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.247 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 13:00:37.249 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:37.250 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:37.254 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:37.256 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:37.258 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:37.260 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:37.262 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:37.265 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:37.269 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:37.270 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 13:00:37.272 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:37.274 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:37.275 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:37.276 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:37.277 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:37.279 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-09-21 13:00:37.280 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.282 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.283 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:37.287 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:37.289 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.291 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.292 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.293 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.295 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.299 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:37.300 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.302 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.303 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:37.304 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:37.305 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.306 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.307 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:37.310 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:37.502 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.505 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:37.506 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.508 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.509 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:37.512 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:37.514 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:37.515 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:37.516 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:37.518 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:37.523 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/12 - -
2022-09-21 13:00:37.525 +04:00 [DBG] The request path  does not match the path filter
2022-09-21 13:00:37.530 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 270.721ms
2022-09-21 13:00:37.532 +04:00 [DBG] The request path /Guest/12 does not match a supported file type
2022-09-21 13:00:37.535 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.537 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/12'
2022-09-21 13:00:37.537 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:37.538 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/12'
2022-09-21 13:00:37.540 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/12 - - - 200 - application/json;+charset=utf-8 310.1659ms
2022-09-21 13:00:37.542 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.544 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-09-21 13:00:37.550 +04:00 [INF] CORS policy execution successful.
2022-09-21 13:00:37.552 +04:00 [DBG] Successfully validated the token.
2022-09-21 13:00:37.554 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-09-21 13:00:37.556 +04:00 [DBG] Authorization was successful.
2022-09-21 13:00:37.558 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.562 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-09-21 13:00:37.567 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-21 13:00:37.570 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-21 13:00:37.571 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-21 13:00:37.574 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-21 13:00:37.578 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-21 13:00:37.582 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:37.586 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-09-21 13:00:37.589 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-09-21 13:00:37.591 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:37.592 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-09-21 13:00:37.595 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:37.596 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:37.597 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-09-21 13:00:37.600 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-09-21 13:00:37.602 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:37.603 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:37.604 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.605 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.606 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:37.612 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-09-21 13:00:37.616 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.619 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.620 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.621 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.623 +04:00 [DBG] Context 'BookingContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.627 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:37.627 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.629 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.631 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-21 13:00:37.632 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-21 13:00:37.633 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.635 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.636 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:37.640 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[HostId] = @__hostId_0
2022-09-21 13:00:37.815 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-21 13:00:37.816 +04:00 [DBG] A data reader was disposed.
2022-09-21 13:00:37.817 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.818 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-09-21 13:00:37.820 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-09-21 13:00:37.823 +04:00 [DBG] No information found on request to perform content negotiation.
2022-09-21 13:00:37.823 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-21 13:00:37.824 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-21 13:00:37.825 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-21 13:00:37.826 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-21 13:00:37.836 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 254.6093ms
2022-09-21 13:00:37.838 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-09-21 13:00:37.841 +04:00 [DBG] 'BookingContext' disposed.
2022-09-21 13:00:37.842 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/12 - - - 200 - application/json;+charset=utf-8 318.7288ms
2022-09-21 13:00:49.913 +04:00 [DBG] Connection id "0HMKRLRF7SBAV" received FIN.
2022-09-21 13:00:49.915 +04:00 [DBG] Connection id "0HMKRLRF7SBAV" is closed. The last processed stream ID was 75.
2022-09-21 13:00:49.917 +04:00 [DBG] Connection id "0HMKRLRF7SBAV" sending FIN because: "The client closed the connection."
2022-09-21 13:00:49.929 +04:00 [DBG] Connection id "0HMKRLRF7SBAV" stopped.
