2022-08-23 23:10:07.397 +04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-23 23:10:07.568 +04:00 [DBG] Hosting starting
2022-08-23 23:10:08.401 +04:00 [INF] User profile is available. Using 'C:\Users\sanog\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-23 23:10:08.407 +04:00 [DBG] Reading data from file 'C:\Users\sanog\AppData\Local\ASP.NET\DataProtection-Keys\key-9c915bfe-be80-4a22-9eed-b01f38659855.xml'.
2022-08-23 23:10:08.670 +04:00 [DBG] Found key {9c915bfe-be80-4a22-9eed-b01f38659855}.
2022-08-23 23:10:08.695 +04:00 [DBG] Considering key {9c915bfe-be80-4a22-9eed-b01f38659855} with expiration date 2022-10-25 17:49:22Z as default key.
2022-08-23 23:10:08.698 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-23 23:10:08.700 +04:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-08-23 23:10:08.702 +04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-08-23 23:10:08.706 +04:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-08-23 23:10:08.708 +04:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-08-23 23:10:08.713 +04:00 [DBG] Using key {9c915bfe-be80-4a22-9eed-b01f38659855} as the default key.
2022-08-23 23:10:08.714 +04:00 [DBG] Key ring with default key {9c915bfe-be80-4a22-9eed-b01f38659855} was loaded during application startup.
2022-08-23 23:10:10.101 +04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 640BC01496AD2A71BC20798282EADD809C1BED8A)
2022-08-23 23:10:10.134 +04:00 [INF] Now listening on: https://localhost:7058
2022-08-23 23:10:10.136 +04:00 [INF] Now listening on: http://localhost:5058
2022-08-23 23:10:10.137 +04:00 [DBG] Loaded hosting startup assembly BookingApi
2022-08-23 23:10:10.138 +04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-23 23:10:10.139 +04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-23 23:10:10.140 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-23 23:10:10.140 +04:00 [INF] Hosting environment: Development
2022-08-23 23:10:10.141 +04:00 [INF] Content root path: D:\Users\sanog\Desktop\BookingApi\BookingApi\
2022-08-23 23:10:10.142 +04:00 [DBG] Hosting started
2022-08-23 23:10:10.536 +04:00 [DBG] Connection id "0HMK57CCPH3FG" accepted.
2022-08-23 23:10:10.538 +04:00 [DBG] Connection id "0HMK57CCPH3FG" started.
2022-08-23 23:10:10.542 +04:00 [DBG] Connection id "0HMK57CCPH3FH" accepted.
2022-08-23 23:10:10.543 +04:00 [DBG] Connection id "0HMK57CCPH3FH" started.
2022-08-23 23:10:10.575 +04:00 [DBG] Connection id "0HMK57CCPH3FH" received FIN.
2022-08-23 23:10:10.575 +04:00 [DBG] Connection id "0HMK57CCPH3FG" received FIN.
2022-08-23 23:10:10.586 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:10:10.586 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:10:11.321 +04:00 [DBG] Connection id "0HMK57CCPH3FI" accepted.
2022-08-23 23:10:12.159 +04:00 [DBG] Connection id "0HMK57CCPH3FH" stopped.
2022-08-23 23:10:12.159 +04:00 [DBG] Connection id "0HMK57CCPH3FG" stopped.
2022-08-23 23:10:12.160 +04:00 [DBG] Connection id "0HMK57CCPH3FI" started.
2022-08-23 23:10:12.162 +04:00 [DBG] Connection id "0HMK57CCPH3FG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:10:12.162 +04:00 [DBG] Connection id "0HMK57CCPH3FH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:10:12.355 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:10:12.372 +04:00 [DBG] Connection id "0HMK57CCPH3FI" received FIN.
2022-08-23 23:10:12.374 +04:00 [DBG] Connection id "0HMK57CCPH3FI" stopped.
2022-08-23 23:10:12.379 +04:00 [DBG] Connection id "0HMK57CCPH3FI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:10:27.092 +04:00 [DBG] Connection id "0HMK57CCPH3FJ" accepted.
2022-08-23 23:10:27.098 +04:00 [DBG] Connection id "0HMK57CCPH3FJ" started.
2022-08-23 23:10:27.101 +04:00 [DBG] Connection id "0HMK57CCPH3FJ" received FIN.
2022-08-23 23:10:27.101 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:10:27.102 +04:00 [DBG] Connection id "0HMK57CCPH3FK" accepted.
2022-08-23 23:10:27.107 +04:00 [DBG] Connection id "0HMK57CCPH3FJ" stopped.
2022-08-23 23:10:27.108 +04:00 [DBG] Connection id "0HMK57CCPH3FK" started.
2022-08-23 23:10:27.109 +04:00 [DBG] Connection id "0HMK57CCPH3FJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:10:27.123 +04:00 [DBG] Connection 0HMK57CCPH3FK established using the following protocol: "Tls12"
2022-08-23 23:10:27.178 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger - -
2022-08-23 23:10:27.226 +04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-23 23:10:27.444 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger - - - 301 0 - 267.8296ms
2022-08-23 23:10:27.446 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/index.html - -
2022-08-23 23:10:27.506 +04:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-23 23:10:27.972 +04:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-23 23:10:27.974 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/index.html - - - 200 - text/html;charset=utf-8 527.9052ms
2022-08-23 23:10:28.259 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - -
2022-08-23 23:10:28.260 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui-bundle.js - -
2022-08-23 23:10:28.260 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui-standalone-preset.js - -
2022-08-23 23:10:28.265 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - -
2022-08-23 23:10:28.269 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/_vs/browserLink - -
2022-08-23 23:10:28.285 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 19.9784ms
2022-08-23 23:10:28.342 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-23 23:10:28.343 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - - - 200 143632 text/css 84.1871ms
2022-08-23 23:10:28.364 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-23 23:10:28.366 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 106.4414ms
2022-08-23 23:10:28.445 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 175.4012ms
2022-08-23 23:10:28.459 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-23 23:10:28.461 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 201.4063ms
2022-08-23 23:10:28.768 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - -
2022-08-23 23:10:28.814 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/favicon-32x32.png - -
2022-08-23 23:10:28.816 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-08-23 23:10:28.818 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/favicon-32x32.png - - - 200 628 image/png 3.5095ms
2022-08-23 23:10:28.871 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.7712ms
2022-08-23 23:10:32.822 +04:00 [DBG] Connection id "0HMK57CCPH3FK" received FIN.
2022-08-23 23:10:32.829 +04:00 [DBG] Connection id "0HMK57CCPH3FK" is closed. The last processed stream ID was 17.
2022-08-23 23:10:32.831 +04:00 [DBG] Connection id "0HMK57CCPH3FK" sending FIN because: "The client closed the connection."
2022-08-23 23:10:32.838 +04:00 [DBG] Connection id "0HMK57CCPH3FK" stopped.
2022-08-23 23:10:35.719 +04:00 [DBG] Connection id "0HMK57CCPH3FL" accepted.
2022-08-23 23:10:35.721 +04:00 [DBG] Connection id "0HMK57CCPH3FL" started.
2022-08-23 23:10:35.724 +04:00 [DBG] Connection id "0HMK57CCPH3FL" received FIN.
2022-08-23 23:10:35.725 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:10:35.737 +04:00 [DBG] Connection id "0HMK57CCPH3FM" accepted.
2022-08-23 23:10:35.734 +04:00 [DBG] Connection id "0HMK57CCPH3FL" stopped.
2022-08-23 23:10:35.805 +04:00 [DBG] Connection id "0HMK57CCPH3FM" started.
2022-08-23 23:10:35.991 +04:00 [DBG] Connection id "0HMK57CCPH3FL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:10:36.027 +04:00 [DBG] Connection 0HMK57CCPH3FM established using the following protocol: "Tls12"
2022-08-23 23:10:36.029 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - -
2022-08-23 23:10:36.030 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-23 23:10:36.032 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/swagger/swagger-ui.css - - - 200 143632 text/css 3.2895ms
2022-08-23 23:10:37.830 +04:00 [DBG] Connection id "0HMK57CCPH3FM" received FIN.
2022-08-23 23:10:37.832 +04:00 [DBG] Connection id "0HMK57CCPH3FM" is closed. The last processed stream ID was 1.
2022-08-23 23:10:37.841 +04:00 [DBG] Connection id "0HMK57CCPH3FM" sending FIN because: "The client closed the connection."
2022-08-23 23:10:37.861 +04:00 [DBG] Connection id "0HMK57CCPH3FM" stopped.
2022-08-23 23:11:23.639 +04:00 [DBG] Connection id "0HMK57CCPH3FN" accepted.
2022-08-23 23:11:23.642 +04:00 [DBG] Connection id "0HMK57CCPH3FN" started.
2022-08-23 23:11:23.668 +04:00 [DBG] Connection id "0HMK57CCPH3FN" received FIN.
2022-08-23 23:11:23.669 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:11:23.669 +04:00 [DBG] Connection id "0HMK57CCPH3FO" accepted.
2022-08-23 23:11:23.674 +04:00 [DBG] Connection id "0HMK57CCPH3FN" stopped.
2022-08-23 23:11:23.675 +04:00 [DBG] Connection id "0HMK57CCPH3FO" started.
2022-08-23 23:11:23.676 +04:00 [DBG] Connection id "0HMK57CCPH3FN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:11:23.686 +04:00 [DBG] Connection 0HMK57CCPH3FO established using the following protocol: "Tls12"
2022-08-23 23:11:23.689 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-23 23:11:23.690 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:11:23.691 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:11:23.716 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:11:23.721 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:11:23.723 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:23.725 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:11:23.726 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:11:23.727 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:11:23.728 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 38.2694ms
2022-08-23 23:11:23.729 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-08-23 23:11:23.729 +04:00 [DBG] POST requests are not supported
2022-08-23 23:11:23.730 +04:00 [DBG] POST requests are not supported
2022-08-23 23:11:23.733 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:11:23.734 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:11:23.736 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:23.737 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:11:23.738 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:11:24.797 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:11:24.800 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:24.834 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:11:24.838 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:11:24.839 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:11:24.841 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:11:24.843 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:11:24.844 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:11:24.847 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:11:25.617 +04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-23 23:11:26.344 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:11:26.349 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:11:26.395 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:11:26.398 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-23 23:11:26.402 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:11:26.406 +04:00 [DBG] Connection id "0HMK57CCPH3FO", Request id "0HMK57CCPH3FO:00000003": started reading request body.
2022-08-23 23:11:26.408 +04:00 [DBG] Connection id "0HMK57CCPH3FO", Request id "0HMK57CCPH3FO:00000003": done reading request body.
2022-08-23 23:11:26.412 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-23 23:11:26.413 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:11:26.414 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:11:26.418 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:11:26.464 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:11:27.033 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.Email == __email_0 && x.Password == __hashPassword_1)'
2022-08-23 23:11:27.213 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE (p.Email == @__email_0) && (p.Password == @__hashPassword_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-23 23:11:27.257 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:11:27.351 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2022-08-23 23:11:27.363 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:40.224 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:40.235 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:11:40.609 +04:00 [INF] Executed DbCommand (377ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:11:40.654 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:11:40.658 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:40.663 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:40.709 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 15859.5668ms
2022-08-23 23:11:40.713 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:40.717 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-23 23:11:41.381 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:11:41.400 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 500 - text/plain;+charset=utf-8 17671.4828ms
2022-08-23 23:11:47.893 +04:00 [DBG] Connection id "0HMK57CCPH3FO" received FIN.
2022-08-23 23:11:47.895 +04:00 [DBG] Connection id "0HMK57CCPH3FO" is closed. The last processed stream ID was 3.
2022-08-23 23:11:47.897 +04:00 [DBG] Connection id "0HMK57CCPH3FO" sending FIN because: "The client closed the connection."
2022-08-23 23:11:47.908 +04:00 [DBG] Connection id "0HMK57CCPH3FO" stopped.
2022-08-23 23:11:51.674 +04:00 [DBG] Connection id "0HMK57CCPH3FP" accepted.
2022-08-23 23:11:51.676 +04:00 [DBG] Connection id "0HMK57CCPH3FP" started.
2022-08-23 23:11:51.679 +04:00 [DBG] Connection id "0HMK57CCPH3FP" received FIN.
2022-08-23 23:11:51.679 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:11:51.679 +04:00 [DBG] Connection id "0HMK57CCPH3FQ" accepted.
2022-08-23 23:11:51.684 +04:00 [DBG] Connection id "0HMK57CCPH3FP" stopped.
2022-08-23 23:11:51.688 +04:00 [DBG] Connection id "0HMK57CCPH3FP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:11:51.685 +04:00 [DBG] Connection id "0HMK57CCPH3FQ" started.
2022-08-23 23:11:51.704 +04:00 [DBG] Connection 0HMK57CCPH3FQ established using the following protocol: "Tls12"
2022-08-23 23:11:51.705 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-23 23:11:51.706 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:11:51.707 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:11:51.709 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:11:51.710 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:11:51.712 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:51.714 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:11:51.715 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:11:51.715 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:11:51.716 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 11.2070ms
2022-08-23 23:11:51.717 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 50
2022-08-23 23:11:51.719 +04:00 [DBG] POST requests are not supported
2022-08-23 23:11:51.720 +04:00 [DBG] POST requests are not supported
2022-08-23 23:11:51.721 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:11:51.722 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:11:51.726 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:51.727 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:11:51.728 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:11:51.729 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:11:51.731 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:51.732 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:11:51.734 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:11:51.735 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:11:51.737 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:11:51.741 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:11:51.743 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:11:51.744 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:11:51.782 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:11:51.784 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:11:51.785 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:11:51.786 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-23 23:11:51.788 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:11:51.789 +04:00 [DBG] Connection id "0HMK57CCPH3FQ", Request id "0HMK57CCPH3FQ:00000003": started reading request body.
2022-08-23 23:11:51.790 +04:00 [DBG] Connection id "0HMK57CCPH3FQ", Request id "0HMK57CCPH3FQ:00000003": done reading request body.
2022-08-23 23:11:51.791 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-23 23:11:51.792 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:11:51.793 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:11:51.794 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:11:51.795 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:11:51.798 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:11:51.799 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:11:51.800 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:51.805 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:51.806 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:11:51.812 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:11:51.814 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:11:51.815 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:51.818 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:11:51.819 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 75.1782ms
2022-08-23 23:11:51.821 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:11:51.822 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-23 23:11:51.839 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:11:51.840 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 50 - 500 - text/plain;+charset=utf-8 122.9828ms
2022-08-23 23:11:57.909 +04:00 [DBG] Connection id "0HMK57CCPH3FQ" received FIN.
2022-08-23 23:11:57.911 +04:00 [DBG] Connection id "0HMK57CCPH3FQ" is closed. The last processed stream ID was 3.
2022-08-23 23:11:57.912 +04:00 [DBG] Connection id "0HMK57CCPH3FQ" sending FIN because: "The client closed the connection."
2022-08-23 23:11:57.925 +04:00 [DBG] Connection id "0HMK57CCPH3FQ" stopped.
2022-08-23 23:12:00.039 +04:00 [DBG] Connection id "0HMK57CCPH3FR" accepted.
2022-08-23 23:12:00.041 +04:00 [DBG] Connection id "0HMK57CCPH3FR" started.
2022-08-23 23:12:00.043 +04:00 [DBG] Connection id "0HMK57CCPH3FR" received FIN.
2022-08-23 23:12:00.044 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:12:00.044 +04:00 [DBG] Connection id "0HMK57CCPH3FS" accepted.
2022-08-23 23:12:00.049 +04:00 [DBG] Connection id "0HMK57CCPH3FR" stopped.
2022-08-23 23:12:00.049 +04:00 [DBG] Connection id "0HMK57CCPH3FS" started.
2022-08-23 23:12:00.050 +04:00 [DBG] Connection id "0HMK57CCPH3FR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:12:00.058 +04:00 [DBG] Connection 0HMK57CCPH3FS established using the following protocol: "Tls12"
2022-08-23 23:12:00.059 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-23 23:12:00.060 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:00.060 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:00.062 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:00.063 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:00.065 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:00.066 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:00.069 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:00.070 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:00.071 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 12.1790ms
2022-08-23 23:12:00.072 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 51
2022-08-23 23:12:00.074 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:00.075 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:00.076 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:00.077 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:00.078 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:00.079 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:00.080 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:00.084 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:12:00.085 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:00.086 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:12:00.088 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:00.090 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:00.091 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:00.093 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:00.094 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:00.095 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:00.107 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:00.112 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:00.113 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:00.114 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-23 23:12:00.115 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:00.117 +04:00 [DBG] Connection id "0HMK57CCPH3FS", Request id "0HMK57CCPH3FS:00000003": started reading request body.
2022-08-23 23:12:00.118 +04:00 [DBG] Connection id "0HMK57CCPH3FS", Request id "0HMK57CCPH3FS:00000003": done reading request body.
2022-08-23 23:12:00.119 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-23 23:12:00.120 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:00.121 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:00.122 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:00.124 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:00.126 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:00.129 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-23 23:12:00.130 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:00.132 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:00.133 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:00.138 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:00.140 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:00.141 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:00.142 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:00.145 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 50.2096ms
2022-08-23 23:12:00.147 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:00.148 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-23 23:12:00.162 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:00.164 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 51 - 500 - text/plain;+charset=utf-8 91.6889ms
2022-08-23 23:12:06.127 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-23 23:12:06.129 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:06.131 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:06.131 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:06.132 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:06.134 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:06.135 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:06.136 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:06.136 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:06.137 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 9.7939ms
2022-08-23 23:12:06.138 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 50
2022-08-23 23:12:06.139 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:06.140 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:06.141 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:06.143 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:06.147 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:06.148 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:06.149 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:06.150 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:12:06.151 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:06.152 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:12:06.154 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:06.156 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:06.158 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:06.162 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:06.164 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:06.165 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:06.167 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:06.169 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:06.171 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:06.173 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-23 23:12:06.175 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:06.178 +04:00 [DBG] Connection id "0HMK57CCPH3FS", Request id "0HMK57CCPH3FS:00000007": started reading request body.
2022-08-23 23:12:06.179 +04:00 [DBG] Connection id "0HMK57CCPH3FS", Request id "0HMK57CCPH3FS:00000007": done reading request body.
2022-08-23 23:12:06.180 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-23 23:12:06.181 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:06.182 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:06.183 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:06.185 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:06.186 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:06.187 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:06.189 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:06.191 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:06.195 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:06.199 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:06.201 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:06.202 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:06.203 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:06.205 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 39.657ms
2022-08-23 23:12:06.208 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:06.210 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-23 23:12:06.222 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:06.225 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 50 - 500 - text/plain;+charset=utf-8 87.2307ms
2022-08-23 23:12:07.930 +04:00 [DBG] Connection id "0HMK57CCPH3FS" received FIN.
2022-08-23 23:12:07.932 +04:00 [DBG] Connection id "0HMK57CCPH3FS" is closed. The last processed stream ID was 7.
2022-08-23 23:12:07.934 +04:00 [DBG] Connection id "0HMK57CCPH3FS" sending FIN because: "The client closed the connection."
2022-08-23 23:12:07.945 +04:00 [DBG] Connection id "0HMK57CCPH3FS" stopped.
2022-08-23 23:12:19.086 +04:00 [DBG] Connection id "0HMK57CCPH3FT" accepted.
2022-08-23 23:12:19.090 +04:00 [DBG] Connection id "0HMK57CCPH3FT" started.
2022-08-23 23:12:19.093 +04:00 [DBG] Connection id "0HMK57CCPH3FT" received FIN.
2022-08-23 23:12:19.093 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:12:19.093 +04:00 [DBG] Connection id "0HMK57CCPH3FU" accepted.
2022-08-23 23:12:19.099 +04:00 [DBG] Connection id "0HMK57CCPH3FT" stopped.
2022-08-23 23:12:19.100 +04:00 [DBG] Connection id "0HMK57CCPH3FU" started.
2022-08-23 23:12:19.101 +04:00 [DBG] Connection id "0HMK57CCPH3FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:12:19.105 +04:00 [DBG] Connection 0HMK57CCPH3FU established using the following protocol: "Tls12"
2022-08-23 23:12:19.106 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Register - -
2022-08-23 23:12:19.107 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:19.107 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:19.108 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-23 23:12:19.109 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-23 23:12:19.111 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:19.114 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:19.114 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:19.115 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:19.116 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Register - - - 204 - - 10.4371ms
2022-08-23 23:12:19.117 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Register application/json 100
2022-08-23 23:12:19.118 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:19.118 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:19.119 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-23 23:12:19.120 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-23 23:12:19.122 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:19.123 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:19.124 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:19.124 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:12:19.125 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:19.129 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:12:19.131 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:19.133 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:19.134 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:19.136 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:19.137 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:19.139 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:19.141 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:19.142 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:19.146 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-23 23:12:19.148 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-23 23:12:19.149 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:19.152 +04:00 [DBG] Connection id "0HMK57CCPH3FU", Request id "0HMK57CCPH3FU:00000003": started reading request body.
2022-08-23 23:12:19.153 +04:00 [DBG] Connection id "0HMK57CCPH3FU", Request id "0HMK57CCPH3FU:00000003": done reading request body.
2022-08-23 23:12:19.155 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-23 23:12:19.156 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-23 23:12:19.160 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-23 23:12:19.162 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-23 23:12:19.164 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-23 23:12:20.190 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:20.236 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:20.240 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-23 23:12:20.242 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-23 23:12:20.250 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-23 23:12:20.379 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:20.382 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:20.386 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-23 23:12:20.397 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-23 23:12:20.443 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:20.444 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:20.446 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-23 23:12:20.472 +04:00 [ERR] Failed executing DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-23 23:12:20.762 +04:00 [DBG] Disposing transaction.
2022-08-23 23:12:20.764 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:20.765 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:21.027 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking.PersistanceDB.Context.BookingContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Profile' with unique index 'IX_Profile_Email'. The duplicate key value is (sanoggg@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cb02fcc4-675f-45b0-a20e-34691a66849a
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Profile' with unique index 'IX_Profile_Email'. The duplicate key value is (sanoggg@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cb02fcc4-675f-45b0-a20e-34691a66849a
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-23 23:12:21.058 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 1919.799ms
2022-08-23 23:12:21.060 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:21.061 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Profile' with unique index 'IX_Profile_Email'. The duplicate key value is (sanoggg@gmail.com).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:cb02fcc4-675f-45b0-a20e-34691a66849a
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Booking.DataEF.BaseRepository`1.AddAsync(T entity) in D:\Users\sanog\Desktop\BookingApi\Booking.Data.EF\BaseRepository.cs:line 29
   at Booking.DataEF.ProfileRepository.AddUser(Profile user) in D:\Users\sanog\Desktop\BookingApi\Booking.Data.EF\ProfileRepository.cs:line 43
   at Booking.Services.Implementations.ProfileService.RegisterUser(ProfileServiceModel user) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 65
   at BookingApi.Controllers.AccountController.Register(AccountRegisterRequest registerRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-23 23:12:21.523 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:21.525 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Register application/json 100 - 500 - text/plain;+charset=utf-8 2407.7462ms
2022-08-23 23:12:27.444 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-23 23:12:27.446 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:27.447 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:27.448 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:27.449 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:27.451 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:27.452 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:27.453 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:27.454 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:27.455 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 10.5929ms
2022-08-23 23:12:27.456 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 50
2022-08-23 23:12:27.457 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:27.458 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:27.459 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:27.461 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:27.462 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:27.463 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:27.467 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:27.468 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:12:27.469 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:27.470 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:12:27.472 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:27.474 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:27.475 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:27.477 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:27.478 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:27.481 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:27.483 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:27.485 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:27.486 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:27.487 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-23 23:12:27.488 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:27.490 +04:00 [DBG] Connection id "0HMK57CCPH3FU", Request id "0HMK57CCPH3FU:00000007": started reading request body.
2022-08-23 23:12:27.491 +04:00 [DBG] Connection id "0HMK57CCPH3FU", Request id "0HMK57CCPH3FU:00000007": done reading request body.
2022-08-23 23:12:27.492 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-23 23:12:27.493 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:27.494 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:27.495 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:27.499 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:27.500 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:27.501 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:27.502 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:27.503 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:27.505 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:27.510 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:27.515 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:27.515 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:27.516 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:27.518 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 36.0926ms
2022-08-23 23:12:27.518 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:27.519 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Booking.Services.Exceptions.ObjectNotFoundException: Cannot Find User
   at Booking.Services.Implementations.ProfileService.AuthenticateUser(String email, String password) in D:\Users\sanog\Desktop\BookingApi\BookingService\Implementations\ProfileService.cs:line 72
   at BookingApi.Controllers.AccountController.Login(AccountLoginRequest loginRequest) in D:\Users\sanog\Desktop\BookingApi\BookingApi\Controllers\AccountController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-23 23:12:27.534 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:27.535 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 50 - 500 - text/plain;+charset=utf-8 78.9791ms
2022-08-23 23:12:27.960 +04:00 [DBG] Connection id "0HMK57CCPH3FU" received FIN.
2022-08-23 23:12:27.962 +04:00 [DBG] Connection id "0HMK57CCPH3FU" is closed. The last processed stream ID was 7.
2022-08-23 23:12:27.964 +04:00 [DBG] Connection id "0HMK57CCPH3FU" sending FIN because: "The client closed the connection."
2022-08-23 23:12:27.975 +04:00 [DBG] Connection id "0HMK57CCPH3FU" stopped.
2022-08-23 23:12:44.912 +04:00 [DBG] Connection id "0HMK57CCPH3FV" accepted.
2022-08-23 23:12:44.913 +04:00 [DBG] Connection id "0HMK57CCPH3FV" started.
2022-08-23 23:12:44.916 +04:00 [DBG] Connection id "0HMK57CCPH3FV" received FIN.
2022-08-23 23:12:44.916 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:12:44.916 +04:00 [DBG] Connection id "0HMK57CCPH3G0" accepted.
2022-08-23 23:12:44.920 +04:00 [DBG] Connection id "0HMK57CCPH3FV" stopped.
2022-08-23 23:12:44.921 +04:00 [DBG] Connection id "0HMK57CCPH3G0" started.
2022-08-23 23:12:44.922 +04:00 [DBG] Connection id "0HMK57CCPH3FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:12:44.927 +04:00 [DBG] Connection 0HMK57CCPH3G0 established using the following protocol: "Tls12"
2022-08-23 23:12:44.930 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Register - -
2022-08-23 23:12:44.930 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:44.931 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:44.933 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-23 23:12:44.934 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-23 23:12:44.935 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:44.936 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:44.937 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:44.938 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:44.938 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Register - - - 204 - - 8.7587ms
2022-08-23 23:12:44.939 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Register application/json 100
2022-08-23 23:12:44.940 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:44.941 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:44.945 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Register'
2022-08-23 23:12:44.946 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)' with route pattern 'Account/Register' is valid for the request path '/Account/Register'
2022-08-23 23:12:44.947 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:44.948 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:44.949 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:44.949 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:12:44.950 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:44.951 +04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(BookingApi.Models.Request.AccountRegisterRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:12:44.953 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:44.954 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:44.956 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:44.959 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:44.961 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:44.962 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:44.964 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:44.965 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:44.966 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-23 23:12:44.968 +04:00 [DBG] Attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' using the name '' in request data ...
2022-08-23 23:12:44.969 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:44.970 +04:00 [DBG] Connection id "0HMK57CCPH3G0", Request id "0HMK57CCPH3G0:00000003": started reading request body.
2022-08-23 23:12:44.971 +04:00 [DBG] Connection id "0HMK57CCPH3G0", Request id "0HMK57CCPH3G0:00000003": done reading request body.
2022-08-23 23:12:44.974 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountRegisterRequest'
2022-08-23 23:12:44.975 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-23 23:12:44.977 +04:00 [DBG] Done attempting to bind parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-23 23:12:44.978 +04:00 [DBG] Attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest' ...
2022-08-23 23:12:44.980 +04:00 [DBG] Done attempting to validate the bound parameter 'registerRequest' of type 'BookingApi.Models.Request.AccountRegisterRequest'.
2022-08-23 23:12:44.981 +04:00 [DBG] 'BookingContext' generated a temporary value for the property 'UserId.Profile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:44.982 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:44.984 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-23 23:12:44.984 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-23 23:12:44.985 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-23 23:12:44.986 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:44.989 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:44.990 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-23 23:12:44.991 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-23 23:12:44.992 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:44.993 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:44.994 +04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-23 23:12:45.001 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Profile] ([Description], [Email], [FirstName], [LastName], [Password], [Photo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [UserId]
FROM [Profile]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2022-08-23 23:12:45.043 +04:00 [DBG] The foreign key property 'Profile.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-23 23:12:45.052 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:45.055 +04:00 [DBG] Committing transaction.
2022-08-23 23:12:45.060 +04:00 [DBG] Committed transaction.
2022-08-23 23:12:45.061 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:45.062 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:45.066 +04:00 [DBG] Disposing transaction.
2022-08-23 23:12:45.077 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:45.082 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-23 23:12:45.087 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-23 23:12:45.088 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Register (BookingApi) in 126.3651ms
2022-08-23 23:12:45.090 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Register (BookingApi)'
2022-08-23 23:12:45.091 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:45.093 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Register application/json 100 - 200 0 - 153.3321ms
2022-08-23 23:12:47.511 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Account/Login - -
2022-08-23 23:12:47.513 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:47.514 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:47.515 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:47.516 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:47.519 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:47.520 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:47.520 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:47.521 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:47.522 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Account/Login - - - 204 - - 10.7257ms
2022-08-23 23:12:47.523 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Account/Login application/json 49
2022-08-23 23:12:47.524 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:47.526 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:47.527 +04:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2022-08-23 23:12:47.528 +04:00 [DBG] Endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)' with route pattern 'Account/Login' is valid for the request path '/Account/Login'
2022-08-23 23:12:47.529 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:47.530 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:47.531 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:47.532 +04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-08-23 23:12:47.532 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:47.533 +04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BookingApi.Models.Request.AccountLoginRequest) on controller BookingApi.Controllers.AccountController (BookingApi).
2022-08-23 23:12:47.538 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:47.539 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:47.541 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:47.543 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:47.544 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:47.546 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:47.547 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:47.549 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.AccountController (BookingApi)
2022-08-23 23:12:47.551 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:47.552 +04:00 [DBG] Attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' using the name '' in request data ...
2022-08-23 23:12:47.554 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:47.555 +04:00 [DBG] Connection id "0HMK57CCPH3G0", Request id "0HMK57CCPH3G0:00000007": started reading request body.
2022-08-23 23:12:47.556 +04:00 [DBG] Connection id "0HMK57CCPH3G0", Request id "0HMK57CCPH3G0:00000007": done reading request body.
2022-08-23 23:12:47.557 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.AccountLoginRequest'
2022-08-23 23:12:47.558 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:47.559 +04:00 [DBG] Done attempting to bind parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:47.561 +04:00 [DBG] Attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest' ...
2022-08-23 23:12:47.562 +04:00 [DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'BookingApi.Models.Request.AccountLoginRequest'.
2022-08-23 23:12:47.563 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:47.564 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:47.565 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:47.569 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:47.570 +04:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:47.575 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450), @__hashPassword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE ([p].[Email] = @__email_0) AND ([p].[Password] = @__hashPassword_1)
2022-08-23 23:12:47.581 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:47.584 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:47.584 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:47.585 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:47.990 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:12:47.995 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:12:47.995 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:12:47.997 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:12:47.998 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:12:48.000 +04:00 [INF] Executing OkObjectResult, writing value of type 'Booking.Services.Models.Users.UserIdWithTokenSerModel'.
2022-08-23 23:12:48.005 +04:00 [INF] Executed action BookingApi.Controllers.AccountController.Login (BookingApi) in 459.6556ms
2022-08-23 23:12:48.007 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.AccountController.Login (BookingApi)'
2022-08-23 23:12:48.008 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:48.010 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Account/Login application/json 49 - 200 - application/json;+charset=utf-8 486.7751ms
2022-08-23 23:12:48.021 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/46 - -
2022-08-23 23:12:48.022 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:48.023 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:48.024 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/46'
2022-08-23 23:12:48.025 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/46'
2022-08-23 23:12:48.027 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-23 23:12:48.028 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:48.029 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:48.029 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:48.031 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/46 - - - 204 - - 9.4267ms
2022-08-23 23:12:48.032 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Profile/46 application/json -
2022-08-23 23:12:48.034 +04:00 [DBG] The request path  does not match the path filter
2022-08-23 23:12:48.035 +04:00 [DBG] The request path /Profile/46 does not match a supported file type
2022-08-23 23:12:48.037 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/46'
2022-08-23 23:12:48.038 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)' with route pattern 'Profile/{userId}' is valid for the request path '/Profile/46'
2022-08-23 23:12:48.039 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-23 23:12:48.040 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:48.041 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:48.105 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:12:48.107 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:12:48.111 +04:00 [DBG] Authorization was successful.
2022-08-23 23:12:48.112 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-23 23:12:48.116 +04:00 [INF] Route matched with {action = "GetProfile", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile(Int32) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-23 23:12:48.117 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:48.119 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:48.120 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:48.122 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:48.123 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:48.125 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-23 23:12:48.127 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:48.131 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-23 23:12:48.132 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2022-08-23 23:12:48.134 +04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2022-08-23 23:12:48.135 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-23 23:12:48.136 +04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2022-08-23 23:12:48.137 +04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2022-08-23 23:12:48.138 +04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2022-08-23 23:12:48.150 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .Where(x => x.UserId == __userId_0)
    .Include(x => x.Apartment)
    .Include(x => x.Order)
    .SingleOrDefault()'
2022-08-23 23:12:48.193 +04:00 [DBG] Including navigation: 'Profile.Apartment'.
2022-08-23 23:12:48.195 +04:00 [DBG] Including navigation: 'Profile.Order'.
2022-08-23 23:12:48.273 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
                1 -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Apartment.Address (string) Required, 8], [Property: Apartment.City (string), 9], [Property: Apartment.Description (string), 10], [Property: Apartment.DistanceToCenter (int) Required, 11], [Property: Apartment.From (DateTime) Required, 12], [Property: Apartment.HostId (int) Required FK Index, 13], [Property: Apartment.IsAvailable (bool) Required, 14], [Property: Apartment.NumbOfBeds (int) Required, 15], [Property: Apartment.Photo (string), 16], [Property: Apartment.To (DateTime) Required, 17] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Order.City (string) Required, 19], [Property: Order.CustomerId (int) Required, 20], [Property: Order.FirstName (string) Required, 21], [Property: Order.From (DateTime) Required, 22], [Property: Order.HostId (int) Required FK Index, 23], [Property: Order.LastName (string) Required, 24], [Property: Order.Status (int?), 25], [Property: Order.To (DateTime) Required, 26] }
                5 -> 18
            SELECT t.UserId, t.Description, t.Email, t.FirstName, t.LastName, t.Password, t.Photo, t.Id, t.Address, t.City, t.Description0, t.DistanceToCenter, t.From, t.HostId, t.IsAvailable, t.NumbOfBeds, t.Photo0, t.To, o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
            FROM 
            (
                SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo, a.Id, a.Address, a.City, a.Description AS Description0, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo AS Photo0, a.To
                FROM Profile AS p
                LEFT JOIN Apartments AS a ON p.UserId == a.HostId
                WHERE p.UserId == @__userId_0
            ) AS t
            LEFT JOIN Orders AS o ON t.UserId == o.HostId
            ORDER BY t.UserId ASC, t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-23 23:12:48.282 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:48.283 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:48.284 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.287 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.289 +04:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-23 23:12:48.396 +04:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[Description], [t].[Email], [t].[FirstName], [t].[LastName], [t].[Password], [t].[Photo], [t].[Id], [t].[Address], [t].[City], [t].[Description0], [t].[DistanceToCenter], [t].[From], [t].[HostId], [t].[IsAvailable], [t].[NumbOfBeds], [t].[Photo0], [t].[To], [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM (
    SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo], [a].[Id], [a].[Address], [a].[City], [a].[Description] AS [Description0], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo] AS [Photo0], [a].[To]
    FROM [Profile] AS [p]
    LEFT JOIN [Apartments] AS [a] ON [p].[UserId] = [a].[HostId]
    WHERE [p].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Orders] AS [o] ON [t].[UserId] = [o].[HostId]
ORDER BY [t].[UserId], [t].[Id]
2022-08-23 23:12:48.400 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:12:48.406 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:48.407 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.408 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.416 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.CustomerId == __customerId_0)'
2022-08-23 23:12:48.419 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.CustomerId == @__customerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-23 23:12:48.423 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:48.424 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-23 23:12:48.428 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.429 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.430 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-23 23:12:48.434 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-23 23:12:48.437 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:48.438 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.439 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.458 +04:00 [INF] Get Profile
2022-08-23 23:12:48.468 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:12:48.471 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:12:48.472 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:12:48.473 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:12:48.474 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:12:48.476 +04:00 [INF] Executing OkObjectResult, writing value of type 'BookingApi.Models.DTO.ProfileDTO'.
2022-08-23 23:12:48.480 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.GetProfile (BookingApi) in 355.6115ms
2022-08-23 23:12:48.481 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.GetProfile (BookingApi)'
2022-08-23 23:12:48.483 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:48.484 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Profile/46 application/json - - 200 - application/json;+charset=utf-8 452.5759ms
2022-08-23 23:12:48.489 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Guest/46 - -
2022-08-23 23:12:48.491 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Booking/46 - -
2022-08-23 23:12:48.492 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:48.494 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:48.496 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:48.495 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:48.498 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/46'
2022-08-23 23:12:48.497 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/46'
2022-08-23 23:12:48.500 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/46'
2022-08-23 23:12:48.505 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-23 23:12:48.499 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/46'
2022-08-23 23:12:48.507 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:48.510 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-23 23:12:48.512 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:48.511 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:48.513 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:48.514 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:48.515 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:48.515 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Booking/46 - - - 204 - - 24.4497ms
2022-08-23 23:12:48.516 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Guest/46 - - - 204 - - 27.0160ms
2022-08-23 23:12:48.517 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Booking/46 application/json -
2022-08-23 23:12:48.517 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7058/Guest/46 - -
2022-08-23 23:12:48.520 +04:00 [DBG] The request path  does not match the path filter
2022-08-23 23:12:48.521 +04:00 [DBG] The request path  does not match the path filter
2022-08-23 23:12:48.522 +04:00 [DBG] The request path /Booking/46 does not match a supported file type
2022-08-23 23:12:48.523 +04:00 [DBG] The request path /Guest/46 does not match a supported file type
2022-08-23 23:12:48.524 +04:00 [DBG] 1 candidate(s) found for the request path '/Booking/46'
2022-08-23 23:12:48.525 +04:00 [DBG] 1 candidate(s) found for the request path '/Guest/46'
2022-08-23 23:12:48.526 +04:00 [DBG] Endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)' with route pattern 'Booking/{customerId}' is valid for the request path '/Booking/46'
2022-08-23 23:12:48.527 +04:00 [DBG] Endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)' with route pattern 'Guest/{hostId}' is valid for the request path '/Guest/46'
2022-08-23 23:12:48.528 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-23 23:12:48.530 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-23 23:12:48.531 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:48.531 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:48.532 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:48.533 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:48.534 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:12:48.537 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:12:48.538 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:12:48.538 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:12:48.539 +04:00 [DBG] Authorization was successful.
2022-08-23 23:12:48.540 +04:00 [DBG] Authorization was successful.
2022-08-23 23:12:48.541 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-23 23:12:48.542 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-23 23:12:48.545 +04:00 [INF] Route matched with {action = "GetBookings", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookings(Int32) on controller BookingApi.Controllers.BookingController (BookingApi).
2022-08-23 23:12:48.545 +04:00 [INF] Route matched with {action = "GetGuest", controller = "Guest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGuest(Int32) on controller BookingApi.Controllers.GuestController (BookingApi).
2022-08-23 23:12:48.546 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:48.548 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:48.549 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:48.552 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:48.553 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:48.554 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:48.556 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:48.558 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:48.560 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:48.561 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:48.562 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-23 23:12:48.564 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-23 23:12:48.565 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:48.568 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:48.570 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.BookingController (BookingApi)
2022-08-23 23:12:48.572 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.GuestController (BookingApi)
2022-08-23 23:12:48.572 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2022-08-23 23:12:48.573 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' ...
2022-08-23 23:12:48.575 +04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2022-08-23 23:12:48.576 +04:00 [DBG] Attempting to bind parameter 'hostId' of type 'System.Int32' using the name 'hostId' in request data ...
2022-08-23 23:12:48.577 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-23 23:12:48.578 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-23 23:12:48.580 +04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2022-08-23 23:12:48.581 +04:00 [DBG] Done attempting to bind parameter 'hostId' of type 'System.Int32'.
2022-08-23 23:12:48.584 +04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2022-08-23 23:12:48.585 +04:00 [DBG] Attempting to validate the bound parameter 'hostId' of type 'System.Int32' ...
2022-08-23 23:12:48.586 +04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2022-08-23 23:12:48.588 +04:00 [DBG] Done attempting to validate the bound parameter 'hostId' of type 'System.Int32'.
2022-08-23 23:12:48.591 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:48.591 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:12:48.593 +04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => x.HostId == __hostId_0)'
2022-08-23 23:12:48.594 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.598 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.City (string) Required, 1], [Property: Order.CustomerId (int) Required, 2], [Property: Order.FirstName (string) Required, 3], [Property: Order.From (DateTime) Required, 4], [Property: Order.HostId (int) Required FK Index, 5], [Property: Order.LastName (string) Required, 6], [Property: Order.Status (int?), 7], [Property: Order.To (DateTime) Required, 8] }
        SELECT o.Id, o.City, o.CustomerId, o.FirstName, o.From, o.HostId, o.LastName, o.Status, o.To
        FROM Orders AS o
        WHERE o.HostId == @__hostId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-23 23:12:48.599 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.602 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:48.603 +04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-23 23:12:48.604 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-23 23:12:48.608 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[CustomerId] = @__customerId_0
2022-08-23 23:12:48.608 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.611 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:48.616 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.617 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.618 +04:00 [INF] GetBookings successfully
2022-08-23 23:12:48.622 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:12:48.626 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:12:48.627 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:12:48.629 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:12:48.630 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:12:48.631 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.BookingWithApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-23 23:12:48.633 +04:00 [INF] Executed action BookingApi.Controllers.BookingController.GetBookings (BookingApi) in 70.7858ms
2022-08-23 23:12:48.634 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.BookingController.GetBookings (BookingApi)'
2022-08-23 23:12:48.635 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:48.636 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Booking/46 application/json - - 200 - application/json;+charset=utf-8 119.2505ms
2022-08-23 23:12:48.649 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.650 +04:00 [DBG] Executing DbCommand [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-23 23:12:48.654 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hostId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[City], [o].[CustomerId], [o].[FirstName], [o].[From], [o].[HostId], [o].[LastName], [o].[Status], [o].[To]
FROM [Orders] AS [o]
WHERE [o].[HostId] = @__hostId_0
2022-08-23 23:12:48.657 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:12:48.658 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.661 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:48.664 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:12:48.667 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:12:48.668 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:12:48.669 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:12:48.670 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:12:48.671 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.GuestDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-23 23:12:48.672 +04:00 [INF] Executed action BookingApi.Controllers.GuestController.GetGuest (BookingApi) in 108.8137ms
2022-08-23 23:12:48.676 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.GuestController.GetGuest (BookingApi)'
2022-08-23 23:12:48.677 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:12:48.679 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7058/Guest/46 - - - 200 - application/json;+charset=utf-8 161.9079ms
2022-08-23 23:12:57.967 +04:00 [DBG] Connection id "0HMK57CCPH3G0" received FIN.
2022-08-23 23:12:57.969 +04:00 [DBG] Connection id "0HMK57CCPH3G0" is closed. The last processed stream ID was 19.
2022-08-23 23:12:57.971 +04:00 [DBG] Connection id "0HMK57CCPH3G0" sending FIN because: "The client closed the connection."
2022-08-23 23:12:57.988 +04:00 [DBG] Connection id "0HMK57CCPH3G0" stopped.
2022-08-23 23:12:58.236 +04:00 [DBG] Connection id "0HMK57CCPH3G1" accepted.
2022-08-23 23:12:58.238 +04:00 [DBG] Connection id "0HMK57CCPH3G1" started.
2022-08-23 23:12:58.240 +04:00 [DBG] Connection id "0HMK57CCPH3G1" received FIN.
2022-08-23 23:12:58.241 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:12:58.241 +04:00 [DBG] Connection id "0HMK57CCPH3G2" accepted.
2022-08-23 23:12:58.246 +04:00 [DBG] Connection id "0HMK57CCPH3G1" stopped.
2022-08-23 23:12:58.246 +04:00 [DBG] Connection id "0HMK57CCPH3G2" started.
2022-08-23 23:12:58.247 +04:00 [DBG] Connection id "0HMK57CCPH3G1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:12:58.264 +04:00 [DBG] Connection 0HMK57CCPH3G2 established using the following protocol: "Tls12"
2022-08-23 23:12:58.266 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-23 23:12:58.267 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:58.268 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:12:58.270 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:12:58.272 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:12:58.274 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:12:58.276 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:58.277 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:58.278 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:12:58.280 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 13.5248ms
2022-08-23 23:12:58.281 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 81
2022-08-23 23:12:58.282 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:58.283 +04:00 [DBG] POST requests are not supported
2022-08-23 23:12:58.285 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:12:58.287 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:12:58.289 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:12:58.290 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:12:58.291 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:12:58.292 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:12:58.293 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:12:58.295 +04:00 [DBG] Authorization was successful.
2022-08-23 23:12:58.295 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:12:58.298 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-23 23:12:58.303 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:12:58.305 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:12:58.306 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:12:58.308 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:12:58.310 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:12:58.312 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:12:58.315 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:12:58.318 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:12:58.319 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:12:58.321 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-23 23:12:58.322 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:12:58.324 +04:00 [DBG] Connection id "0HMK57CCPH3G2", Request id "0HMK57CCPH3G2:00000003": started reading request body.
2022-08-23 23:12:58.325 +04:00 [DBG] Connection id "0HMK57CCPH3G2", Request id "0HMK57CCPH3G2:00000003": done reading request body.
2022-08-23 23:12:58.329 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-23 23:12:58.330 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:12:58.333 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:12:58.335 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:12:58.338 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:12:58.342 +04:00 [DBG] Compiling query expression: 
'DbSet<Apartment>()
    .Where(x => x.City == __city_0)'
2022-08-23 23:12:58.348 +04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Apartment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Apartment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Apartment.Address (string) Required, 1], [Property: Apartment.City (string), 2], [Property: Apartment.Description (string), 3], [Property: Apartment.DistanceToCenter (int) Required, 4], [Property: Apartment.From (DateTime) Required, 5], [Property: Apartment.HostId (int) Required FK Index, 6], [Property: Apartment.IsAvailable (bool) Required, 7], [Property: Apartment.NumbOfBeds (int) Required, 8], [Property: Apartment.Photo (string), 9], [Property: Apartment.To (DateTime) Required, 10] }
        SELECT a.Id, a.Address, a.City, a.Description, a.DistanceToCenter, a.From, a.HostId, a.IsAvailable, a.NumbOfBeds, a.Photo, a.To
        FROM Apartments AS a
        WHERE a.City == @__city_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Apartment>, 
    Booking.PersistanceDB.Context.BookingContext, 
    False, 
    False, 
    True
)'
2022-08-23 23:12:58.352 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:12:58.353 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-23 23:12:58.355 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:58.356 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:12:58.357 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:12:58.395 +04:00 [INF] Executed DbCommand (38ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:12:58.528 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:00.792 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:00.795 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:13:00.796 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:00.798 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:00.807 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:13:00.810 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:13:00.813 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:13:00.814 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:13:00.816 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:13:00.819 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-23 23:13:00.837 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 2524.7976ms
2022-08-23 23:13:00.839 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:00.840 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:13:00.845 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 81 - 200 - application/json;+charset=utf-8 2564.2547ms
2022-08-23 23:13:07.982 +04:00 [DBG] Connection id "0HMK57CCPH3G2" received FIN.
2022-08-23 23:13:07.984 +04:00 [DBG] Connection id "0HMK57CCPH3G2" is closed. The last processed stream ID was 3.
2022-08-23 23:13:07.986 +04:00 [DBG] Connection id "0HMK57CCPH3G2" sending FIN because: "The client closed the connection."
2022-08-23 23:13:07.997 +04:00 [DBG] Connection id "0HMK57CCPH3G2" stopped.
2022-08-23 23:13:12.486 +04:00 [DBG] Connection id "0HMK57CCPH3G3" accepted.
2022-08-23 23:13:12.488 +04:00 [DBG] Connection id "0HMK57CCPH3G3" started.
2022-08-23 23:13:12.489 +04:00 [DBG] Connection id "0HMK57CCPH3G3" received FIN.
2022-08-23 23:13:12.489 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:13:12.490 +04:00 [DBG] Connection id "0HMK57CCPH3G4" accepted.
2022-08-23 23:13:12.494 +04:00 [DBG] Connection id "0HMK57CCPH3G3" stopped.
2022-08-23 23:13:12.495 +04:00 [DBG] Connection id "0HMK57CCPH3G4" started.
2022-08-23 23:13:12.496 +04:00 [DBG] Connection id "0HMK57CCPH3G3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:13:12.516 +04:00 [DBG] Connection 0HMK57CCPH3G4 established using the following protocol: "Tls12"
2022-08-23 23:13:12.518 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-23 23:13:12.519 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:12.520 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:12.521 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:13:12.522 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:13:12.523 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:12.524 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:12.525 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:12.527 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:13:12.528 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 10.6004ms
2022-08-23 23:13:12.529 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 84
2022-08-23 23:13:12.530 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:12.531 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:12.532 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:13:12.533 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:13:12.534 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:12.535 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:12.536 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:12.537 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:13:12.537 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:13:12.538 +04:00 [DBG] Authorization was successful.
2022-08-23 23:13:12.539 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:12.540 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-23 23:13:12.544 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:13:12.545 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:13:12.546 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:13:12.548 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:13:12.549 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:13:12.551 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:13:12.552 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:13:12.554 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:13:12.555 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:13:12.559 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-23 23:13:12.560 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:13:12.562 +04:00 [DBG] Connection id "0HMK57CCPH3G4", Request id "0HMK57CCPH3G4:00000003": started reading request body.
2022-08-23 23:13:12.563 +04:00 [DBG] Connection id "0HMK57CCPH3G4", Request id "0HMK57CCPH3G4:00000003": done reading request body.
2022-08-23 23:13:12.564 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-23 23:13:12.565 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:12.567 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:12.568 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:13:12.570 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:12.574 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:13:12.575 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-23 23:13:12.576 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:12.578 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:12.580 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:13:12.584 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:13:13.221 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:14.856 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:15.130 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:15.516 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:15.707 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:15.708 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:13:15.709 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:15.710 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:15.711 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:13:15.713 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:13:15.714 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:13:15.715 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:13:15.716 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:13:15.717 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-23 23:13:15.725 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 3174.2694ms
2022-08-23 23:13:15.727 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:15.728 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:13:15.729 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 84 - 200 - application/json;+charset=utf-8 3200.3653ms
2022-08-23 23:13:17.995 +04:00 [DBG] Connection id "0HMK57CCPH3G4" received FIN.
2022-08-23 23:13:17.997 +04:00 [DBG] Connection id "0HMK57CCPH3G4" is closed. The last processed stream ID was 3.
2022-08-23 23:13:17.998 +04:00 [DBG] Connection id "0HMK57CCPH3G4" sending FIN because: "The client closed the connection."
2022-08-23 23:13:18.006 +04:00 [DBG] Connection id "0HMK57CCPH3G4" stopped.
2022-08-23 23:13:18.613 +04:00 [DBG] Connection id "0HMK57CCPH3G5" accepted.
2022-08-23 23:13:18.616 +04:00 [DBG] Connection id "0HMK57CCPH3G5" started.
2022-08-23 23:13:18.617 +04:00 [DBG] Connection id "0HMK57CCPH3G5" received FIN.
2022-08-23 23:13:18.617 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:13:18.618 +04:00 [DBG] Connection id "0HMK57CCPH3G6" accepted.
2022-08-23 23:13:18.622 +04:00 [DBG] Connection id "0HMK57CCPH3G5" stopped.
2022-08-23 23:13:18.623 +04:00 [DBG] Connection id "0HMK57CCPH3G6" started.
2022-08-23 23:13:18.624 +04:00 [DBG] Connection id "0HMK57CCPH3G5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:13:18.629 +04:00 [DBG] Connection 0HMK57CCPH3G6 established using the following protocol: "Tls12"
2022-08-23 23:13:18.630 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-23 23:13:18.633 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:18.634 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:18.635 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:13:18.636 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:13:18.637 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:18.638 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:18.639 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:18.640 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:13:18.641 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 10.7421ms
2022-08-23 23:13:18.642 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 84
2022-08-23 23:13:18.642 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:18.643 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:18.644 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:13:18.645 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:13:18.649 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:18.651 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:18.651 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:18.652 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:13:18.653 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:13:18.654 +04:00 [DBG] Authorization was successful.
2022-08-23 23:13:18.655 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:18.656 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-23 23:13:18.658 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:13:18.659 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:13:18.660 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:13:18.664 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:13:18.665 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:13:18.667 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:13:18.669 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:13:18.671 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:13:18.672 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:13:18.673 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-23 23:13:18.675 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:13:18.676 +04:00 [DBG] Connection id "0HMK57CCPH3G6", Request id "0HMK57CCPH3G6:00000003": started reading request body.
2022-08-23 23:13:18.677 +04:00 [DBG] Connection id "0HMK57CCPH3G6", Request id "0HMK57CCPH3G6:00000003": done reading request body.
2022-08-23 23:13:18.678 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-23 23:13:18.681 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:18.682 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:18.683 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:13:18.685 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:18.686 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:13:18.687 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:13:18.688 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:18.689 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:18.691 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:13:18.741 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:13:19.673 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:20.219 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:20.417 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:20.871 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:21.916 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:21.918 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:13:21.919 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:21.920 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:21.921 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:13:21.923 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:13:21.924 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:13:21.925 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:13:21.926 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:13:21.928 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-23 23:13:21.936 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 3268.9106ms
2022-08-23 23:13:21.937 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:21.938 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:13:21.939 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 84 - 200 - application/json;+charset=utf-8 3297.3972ms
2022-08-23 23:13:27.997 +04:00 [DBG] Connection id "0HMK57CCPH3G6" received FIN.
2022-08-23 23:13:27.999 +04:00 [DBG] Connection id "0HMK57CCPH3G6" is closed. The last processed stream ID was 3.
2022-08-23 23:13:28.003 +04:00 [DBG] Connection id "0HMK57CCPH3G6" sending FIN because: "The client closed the connection."
2022-08-23 23:13:28.019 +04:00 [DBG] Connection id "0HMK57CCPH3G6" stopped.
2022-08-23 23:13:34.638 +04:00 [DBG] Connection id "0HMK57CCPH3G7" accepted.
2022-08-23 23:13:34.639 +04:00 [DBG] Connection id "0HMK57CCPH3G7" started.
2022-08-23 23:13:34.641 +04:00 [DBG] Connection id "0HMK57CCPH3G7" received FIN.
2022-08-23 23:13:34.641 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:13:34.642 +04:00 [DBG] Connection id "0HMK57CCPH3G8" accepted.
2022-08-23 23:13:34.647 +04:00 [DBG] Connection id "0HMK57CCPH3G7" stopped.
2022-08-23 23:13:34.648 +04:00 [DBG] Connection id "0HMK57CCPH3G8" started.
2022-08-23 23:13:34.649 +04:00 [DBG] Connection id "0HMK57CCPH3G7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:13:34.670 +04:00 [DBG] Connection 0HMK57CCPH3G8 established using the following protocol: "Tls12"
2022-08-23 23:13:34.672 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - -
2022-08-23 23:13:34.673 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:34.674 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:34.675 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-23 23:13:34.677 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-23 23:13:34.678 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-23 23:13:34.679 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:34.680 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:34.681 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:13:34.682 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Profile/UpdateUser - - - 204 - - 10.4261ms
2022-08-23 23:13:34.683 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 120
2022-08-23 23:13:34.684 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:34.685 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:34.685 +04:00 [DBG] 1 candidate(s) found for the request path '/Profile/UpdateUser'
2022-08-23 23:13:34.686 +04:00 [DBG] Endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)' with route pattern 'Profile/UpdateUser' is valid for the request path '/Profile/UpdateUser'
2022-08-23 23:13:34.688 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-23 23:13:34.689 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:34.690 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:34.691 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:13:34.691 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:13:34.694 +04:00 [DBG] Authorization was successful.
2022-08-23 23:13:34.695 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-23 23:13:34.698 +04:00 [INF] Route matched with {action = "UpdateUser", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(BookingApi.Models.Request.ProfileRequest) on controller BookingApi.Controllers.ProfileController (BookingApi).
2022-08-23 23:13:34.699 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:13:34.701 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:13:34.702 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:13:34.704 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:13:34.705 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:13:34.708 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-23 23:13:34.710 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:13:34.711 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.ProfileController (BookingApi)
2022-08-23 23:13:34.712 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-23 23:13:34.714 +04:00 [DBG] Attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' using the name '' in request data ...
2022-08-23 23:13:34.715 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:13:34.717 +04:00 [DBG] Connection id "0HMK57CCPH3G8", Request id "0HMK57CCPH3G8:00000003": started reading request body.
2022-08-23 23:13:34.718 +04:00 [DBG] Connection id "0HMK57CCPH3G8", Request id "0HMK57CCPH3G8:00000003": done reading request body.
2022-08-23 23:13:34.720 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.ProfileRequest'
2022-08-23 23:13:34.721 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-23 23:13:34.722 +04:00 [DBG] Done attempting to bind parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-23 23:13:34.725 +04:00 [DBG] Attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest' ...
2022-08-23 23:13:34.729 +04:00 [DBG] Done attempting to validate the bound parameter 'profile' of type 'BookingApi.Models.Request.ProfileRequest'.
2022-08-23 23:13:34.736 +04:00 [DBG] Compiling query expression: 
'DbSet<Profile>()
    .SingleOrDefault(x => x.UserId == __profile_UserId_0)'
2022-08-23 23:13:34.739 +04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Profile>(
    asyncEnumerable: new SingleQueryingEnumerable<Profile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Profile.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Profile.Description (string), 1], [Property: Profile.Email (string) Index, 2], [Property: Profile.FirstName (string) Required, 3], [Property: Profile.LastName (string) Required, 4], [Property: Profile.Password (string) Required, 5], [Property: Profile.Photo (string) Ansi, 6] }
            SELECT TOP(2) p.UserId, p.Description, p.Email, p.FirstName, p.LastName, p.Password, p.Photo
            FROM Profile AS p
            WHERE p.UserId == @__profile_UserId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Profile>, 
        Booking.PersistanceDB.Context.BookingContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-08-23 23:13:34.743 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:13:34.744 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:13:34.745 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.746 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.747 +04:00 [DBG] Executing DbCommand [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-23 23:13:34.750 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__profile_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[UserId], [p].[Description], [p].[Email], [p].[FirstName], [p].[LastName], [p].[Password], [p].[Photo]
FROM [Profile] AS [p]
WHERE [p].[UserId] = @__profile_UserId_0
2022-08-23 23:13:34.753 +04:00 [DBG] Context 'BookingContext' started tracking 'Profile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:34.757 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:13:34.757 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.758 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.760 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:34.762 +04:00 [DBG] SaveChanges starting for 'BookingContext'.
2022-08-23 23:13:34.764 +04:00 [DBG] DetectChanges starting for 'BookingContext'.
2022-08-23 23:13:34.765 +04:00 [DBG] DetectChanges completed for 'BookingContext'.
2022-08-23 23:13:34.766 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.767 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.768 +04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-23 23:13:34.771 +04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-23 23:13:34.777 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:13:34.778 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-23 23:13:34.780 +04:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-23 23:13:34.803 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Profile] SET [Description] = @p0, [Email] = @p1, [FirstName] = @p2, [LastName] = @p3, [Password] = @p4, [Photo] = @p5
WHERE [UserId] = @p6;
SELECT @@ROWCOUNT;
2022-08-23 23:13:34.808 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:13:34.809 +04:00 [DBG] Committing transaction.
2022-08-23 23:13:34.810 +04:00 [DBG] Committed transaction.
2022-08-23 23:13:34.811 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.812 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:34.814 +04:00 [DBG] Disposing transaction.
2022-08-23 23:13:34.815 +04:00 [DBG] An entity of type 'Profile' tracked by 'BookingContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:34.819 +04:00 [DBG] SaveChanges completed for 'BookingContext' with 1 entities written to the database.
2022-08-23 23:13:34.820 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-08-23 23:13:34.821 +04:00 [INF] Executed action BookingApi.Controllers.ProfileController.UpdateUser (BookingApi) in 112.6603ms
2022-08-23 23:13:34.822 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.ProfileController.UpdateUser (BookingApi)'
2022-08-23 23:13:34.823 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:13:34.824 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Profile/UpdateUser application/json 120 - 200 0 - 141.0269ms
2022-08-23 23:13:38.009 +04:00 [DBG] Connection id "0HMK57CCPH3G8" received FIN.
2022-08-23 23:13:38.011 +04:00 [DBG] Connection id "0HMK57CCPH3G8" is closed. The last processed stream ID was 3.
2022-08-23 23:13:38.013 +04:00 [DBG] Connection id "0HMK57CCPH3G8" sending FIN because: "The client closed the connection."
2022-08-23 23:13:38.024 +04:00 [DBG] Connection id "0HMK57CCPH3G8" stopped.
2022-08-23 23:13:47.603 +04:00 [DBG] Connection id "0HMK57CCPH3G9" accepted.
2022-08-23 23:13:47.606 +04:00 [DBG] Connection id "0HMK57CCPH3G9" started.
2022-08-23 23:13:47.608 +04:00 [DBG] Connection id "0HMK57CCPH3G9" received FIN.
2022-08-23 23:13:47.608 +04:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-23 23:13:47.608 +04:00 [DBG] Connection id "0HMK57CCPH3GA" accepted.
2022-08-23 23:13:47.613 +04:00 [DBG] Connection id "0HMK57CCPH3G9" stopped.
2022-08-23 23:13:47.616 +04:00 [DBG] Connection id "0HMK57CCPH3GA" started.
2022-08-23 23:13:47.616 +04:00 [DBG] Connection id "0HMK57CCPH3G9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-23 23:13:47.621 +04:00 [DBG] Connection 0HMK57CCPH3GA established using the following protocol: "Tls12"
2022-08-23 23:13:47.622 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7058/Search - -
2022-08-23 23:13:47.623 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:47.624 +04:00 [DBG] OPTIONS requests are not supported
2022-08-23 23:13:47.624 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:13:47.625 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:13:47.627 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:47.628 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:47.631 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:47.634 +04:00 [DBG] The request is a preflight request.
2022-08-23 23:13:47.635 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7058/Search - - - 204 - - 12.5391ms
2022-08-23 23:13:47.636 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7058/Search application/json 84
2022-08-23 23:13:47.637 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:47.639 +04:00 [DBG] POST requests are not supported
2022-08-23 23:13:47.640 +04:00 [DBG] 1 candidate(s) found for the request path '/Search'
2022-08-23 23:13:47.641 +04:00 [DBG] Endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)' with route pattern 'Search' is valid for the request path '/Search'
2022-08-23 23:13:47.643 +04:00 [DBG] Request matched endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:47.647 +04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2022-08-23 23:13:47.648 +04:00 [INF] CORS policy execution successful.
2022-08-23 23:13:47.650 +04:00 [DBG] Successfully validated the token.
2022-08-23 23:13:47.651 +04:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-08-23 23:13:47.652 +04:00 [DBG] Authorization was successful.
2022-08-23 23:13:47.653 +04:00 [INF] Executing endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:47.666 +04:00 [INF] Route matched with {action = "GetApartment", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApartment(BookingApi.Models.Request.SearchRequest) on controller BookingApi.Controllers.SearchController (BookingApi).
2022-08-23 23:13:47.675 +04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-23 23:13:47.677 +04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-23 23:13:47.678 +04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-23 23:13:47.693 +04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-23 23:13:47.695 +04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-23 23:13:47.697 +04:00 [DBG] Executing controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:13:47.698 +04:00 [INF] Entity Framework Core 6.0.7 initialized 'BookingContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-08-23 23:13:47.700 +04:00 [DBG] Executed controller factory for controller BookingApi.Controllers.SearchController (BookingApi)
2022-08-23 23:13:47.701 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:13:47.702 +04:00 [DBG] Attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' using the name '' in request data ...
2022-08-23 23:13:47.704 +04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-23 23:13:47.707 +04:00 [DBG] Connection id "0HMK57CCPH3GA", Request id "0HMK57CCPH3GA:00000003": started reading request body.
2022-08-23 23:13:47.708 +04:00 [DBG] Connection id "0HMK57CCPH3GA", Request id "0HMK57CCPH3GA:00000003": done reading request body.
2022-08-23 23:13:47.710 +04:00 [DBG] JSON input formatter succeeded, deserializing to type 'BookingApi.Models.Request.SearchRequest'
2022-08-23 23:13:47.710 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:47.712 +04:00 [DBG] Done attempting to bind parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:47.713 +04:00 [DBG] Attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest' ...
2022-08-23 23:13:47.714 +04:00 [DBG] Done attempting to validate the bound parameter 'searchRequest' of type 'BookingApi.Models.Request.SearchRequest'.
2022-08-23 23:13:47.716 +04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-23 23:13:47.716 +04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-08-23 23:13:47.717 +04:00 [DBG] Opening connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:47.718 +04:00 [DBG] Opened connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:47.721 +04:00 [DBG] Executing DbCommand [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:13:47.753 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__city_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Address], [a].[City], [a].[Description], [a].[DistanceToCenter], [a].[From], [a].[HostId], [a].[IsAvailable], [a].[NumbOfBeds], [a].[Photo], [a].[To]
FROM [Apartments] AS [a]
WHERE [a].[City] = @__city_0
2022-08-23 23:13:48.091 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:48.749 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:49.029 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:49.106 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:50.060 +04:00 [DBG] Context 'BookingContext' started tracking 'Apartment' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-23 23:13:50.062 +04:00 [DBG] A data reader was disposed.
2022-08-23 23:13:50.063 +04:00 [DBG] Closing connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:50.065 +04:00 [DBG] Closed connection to database 'Booking' on server '(localdb)\MSSQLLocalDB'.
2022-08-23 23:13:50.066 +04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2022-08-23 23:13:50.069 +04:00 [DBG] No information found on request to perform content negotiation.
2022-08-23 23:13:50.070 +04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-08-23 23:13:50.071 +04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-08-23 23:13:50.073 +04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2022-08-23 23:13:50.074 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookingApi.Models.DTO.ApartmentDTO, BookingApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-23 23:13:50.085 +04:00 [INF] Executed action BookingApi.Controllers.SearchController.GetApartment (BookingApi) in 2388.6035ms
2022-08-23 23:13:50.087 +04:00 [INF] Executed endpoint 'BookingApi.Controllers.SearchController.GetApartment (BookingApi)'
2022-08-23 23:13:50.089 +04:00 [DBG] 'BookingContext' disposed.
2022-08-23 23:13:50.092 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7058/Search application/json 84 - 200 - application/json;+charset=utf-8 2455.3361ms
2022-08-23 23:13:58.024 +04:00 [DBG] Connection id "0HMK57CCPH3GA" received FIN.
2022-08-23 23:13:58.026 +04:00 [DBG] Connection id "0HMK57CCPH3GA" is closed. The last processed stream ID was 3.
2022-08-23 23:13:58.029 +04:00 [DBG] Connection id "0HMK57CCPH3GA" sending FIN because: "The client closed the connection."
2022-08-23 23:13:58.034 +04:00 [DBG] Connection id "0HMK57CCPH3GA" stopped.
